{"version":3,"file":"253.TerriaJS-specs.js","mappings":"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","sources":["webpack://terriajs/./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader2.js","webpack://terriajs/./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","webpack://terriajs/./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","webpack://terriajs/./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","webpack://terriajs/./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","webpack://terriajs/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://terriajs/./node_modules/tinymce/icons/default/icons.js","webpack://terriajs/./node_modules/tinymce/icons/default/index.js","webpack://terriajs/./node_modules/tinymce/models/dom/index.js","webpack://terriajs/./node_modules/tinymce/models/dom/model.js","webpack://terriajs/./node_modules/tinymce/plugins/autolink/index.js","webpack://terriajs/./node_modules/tinymce/plugins/autolink/plugin.js","webpack://terriajs/./node_modules/tinymce/plugins/image/index.js","webpack://terriajs/./node_modules/tinymce/plugins/image/plugin.js","webpack://terriajs/./node_modules/tinymce/plugins/link/index.js","webpack://terriajs/./node_modules/tinymce/plugins/link/plugin.js","webpack://terriajs/./node_modules/tinymce/plugins/lists/index.js","webpack://terriajs/./node_modules/tinymce/plugins/lists/plugin.js","webpack://terriajs/./node_modules/tinymce/plugins/media/index.js","webpack://terriajs/./node_modules/tinymce/plugins/media/plugin.js","webpack://terriajs/./node_modules/tinymce/plugins/table/index.js","webpack://terriajs/./node_modules/tinymce/plugins/table/plugin.js","webpack://terriajs/./node_modules/tinymce/themes/silver/index.js","webpack://terriajs/./node_modules/tinymce/themes/silver/theme.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { uuid } from './Utils';\nvar injectScriptTag = function (doc, item, handler) {\n    var _a, _b;\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = item.id;\n    scriptTag.src = item.src;\n    scriptTag.async = (_a = item.async) !== null && _a !== void 0 ? _a : false;\n    scriptTag.defer = (_b = item.defer) !== null && _b !== void 0 ? _b : false;\n    var loadHandler = function () {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src);\n    };\n    var errorHandler = function (err) {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src, err);\n    };\n    scriptTag.addEventListener('load', loadHandler);\n    scriptTag.addEventListener('error', errorHandler);\n    if (doc.head) {\n        doc.head.appendChild(scriptTag);\n    }\n};\nvar createDocumentScriptLoader = function (doc) {\n    var lookup = {};\n    var scriptLoadOrErrorHandler = function (src, err) {\n        var item = lookup[src];\n        item.done = true;\n        item.error = err;\n        for (var _i = 0, _a = item.handlers; _i < _a.length; _i++) {\n            var h = _a[_i];\n            h(src, err);\n        }\n        item.handlers = [];\n    };\n    var loadScripts = function (items, success, failure) {\n        // eslint-disable-next-line no-console\n        var failureOrLog = function (err) { return failure !== undefined ? failure(err) : console.error(err); };\n        if (items.length === 0) {\n            failureOrLog(new Error('At least one script must be provided'));\n            return;\n        }\n        var successCount = 0;\n        var failed = false;\n        var loaded = function (_src, err) {\n            if (failed) {\n                return;\n            }\n            if (err) {\n                failed = true;\n                failureOrLog(err);\n            }\n            else if (++successCount === items.length) {\n                success();\n            }\n        };\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var existing = lookup[item.src];\n            if (existing) {\n                if (existing.done) {\n                    loaded(item.src, existing.error);\n                }\n                else {\n                    existing.handlers.push(loaded);\n                }\n            }\n            else {\n                // create a new entry\n                var id = uuid('tiny-');\n                lookup[item.src] = {\n                    id: id,\n                    src: item.src,\n                    done: false,\n                    error: null,\n                    handlers: [loaded],\n                };\n                injectScriptTag(doc, __assign({ id: id }, item), scriptLoadOrErrorHandler);\n            }\n        }\n    };\n    var deleteScripts = function () {\n        var _a;\n        for (var _i = 0, _b = Object.values(lookup); _i < _b.length; _i++) {\n            var item = _b[_i];\n            var scriptTag = doc.getElementById(item.id);\n            if (scriptTag != null && scriptTag.tagName === 'SCRIPT') {\n                (_a = scriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(scriptTag);\n            }\n        }\n        lookup = {};\n    };\n    var getDocument = function () { return doc; };\n    return {\n        loadScripts: loadScripts,\n        deleteScripts: deleteScripts,\n        getDocument: getDocument\n    };\n};\nvar createScriptLoader = function () {\n    var cache = [];\n    var getDocumentScriptLoader = function (doc) {\n        var loader = cache.find(function (l) { return l.getDocument() === doc; });\n        if (loader === undefined) {\n            loader = createDocumentScriptLoader(doc);\n            cache.push(loader);\n        }\n        return loader;\n    };\n    var loadList = function (doc, items, delay, success, failure) {\n        var doLoad = function () { return getDocumentScriptLoader(doc).loadScripts(items, success, failure); };\n        if (delay > 0) {\n            setTimeout(doLoad, delay);\n        }\n        else {\n            doLoad();\n        }\n    };\n    var reinitialize = function () {\n        for (var loader = cache.pop(); loader != null; loader = cache.pop()) {\n            loader.deleteScripts();\n        }\n    };\n    return {\n        loadList: loadList,\n        reinitialize: reinitialize\n    };\n};\nexport var ScriptLoader = createScriptLoader();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader2';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers, isBeforeInputEventAvailable, isInDoc, setMode } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\n/**\n * @see {@link https://www.tiny.cloud/docs/tinymce/7/react-ref/} for the TinyMCE React Technical Reference\n */\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _a, _b, _c;\n        var _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus()) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymce(_this.view);\n            if (!tinymce) {\n                throw new Error('tinymce should have been loaded into global scope');\n            }\n            var finalInit = __assign(__assign(__assign(__assign({}, _this.props.init), { selector: undefined, target: target, readonly: _this.props.disabled, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar }), (_this.props.licenseKey ? { license_key: _this.props.licenseKey } : {})), { setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a, _b;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    var disabled = (_b = _this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(_this.editor, disabled ? 'readonly' : 'design');\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Object.defineProperty(Editor.prototype, \"view\", {\n        get: function () {\n            var _a, _b;\n            return (_b = (_a = this.elementRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument.defaultView) !== null && _b !== void 0 ? _b : window;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    var disabled = (_b = this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, disabled ? 'readonly' : 'design');\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a, _b, _c, _d, _e;\n        if (getTinymce(this.view) !== null) {\n            this.initialise();\n        }\n        else if (Array.isArray(this.props.tinymceScriptSrc) && this.props.tinymceScriptSrc.length === 0) {\n            (_b = (_a = this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, new Error('No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.'));\n        }\n        else if ((_c = this.elementRef.current) === null || _c === void 0 ? void 0 : _c.ownerDocument) {\n            var successHandler = function () {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoad) === null || _b === void 0 ? void 0 : _b.call(_a);\n                _this.initialise();\n            };\n            var errorHandler = function (err) {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n            };\n            ScriptLoader.loadList(this.elementRef.current.ownerDocument, this.getScriptSources(), (_e = (_d = this.props.scriptLoading) === null || _d === void 0 ? void 0 : _d.delay) !== null && _e !== void 0 ? _e : 0, successHandler, errorHandler);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(this.changeEvents(), this.handleEditorChange);\n            editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.changeEvents = function () {\n        var _a, _b, _c;\n        var isIE = (_c = (_b = (_a = getTinymce(this.view)) === null || _a === void 0 ? void 0 : _a.Env) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.isIE();\n        return (isIE\n            ? 'change keyup compositionend setcontent CommentChange'\n            : 'change input compositionend setcontent CommentChange');\n    };\n    Editor.prototype.beforeInputEvent = function () {\n        return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange';\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id,\n            tabIndex: this.props.tabIndex\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id,\n            tabIndex: this.props.tabIndex\n        });\n    };\n    Editor.prototype.getScriptSources = function () {\n        var _a, _b;\n        var async = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async;\n        var defer = (_b = this.props.scriptLoading) === null || _b === void 0 ? void 0 : _b.defer;\n        if (this.props.tinymceScriptSrc !== undefined) {\n            if (typeof this.props.tinymceScriptSrc === 'string') {\n                return [{ src: this.props.tinymceScriptSrc, async: async, defer: defer }];\n            }\n            // multiple scripts can be specified which allows for hybrid mode\n            return this.props.tinymceScriptSrc.map(function (item) {\n                if (typeof item === 'string') {\n                    // async does not make sense for multiple items unless\n                    // they are not dependent (which will be unlikely)\n                    return { src: item, async: async, defer: defer };\n                }\n                else {\n                    return item;\n                }\n            });\n        }\n        // fallback to the cloud when the tinymceScriptSrc is not specified\n        var channel = this.props.cloudChannel; // `cloudChannel` is in `defaultProps`, so it's always defined.\n        var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n        var cloudTinyJs = \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        return [{ src: cloudTinyJs, async: async, defer: defer }];\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(this.changeEvents(), this.handleEditorChange);\n                this.editor.on(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(this.changeEvents(), this.handleEditorChange);\n                this.editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '7',\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCommentChange: PropTypes.func,\n    onCompositionEnd: PropTypes.func,\n    onCompositionStart: PropTypes.func,\n    onCompositionUpdate: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onInput: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n    onScriptsLoad: PropTypes.func,\n    onScriptsLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, licenseKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, tabIndex: PropTypes.number, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n        PropTypes.arrayOf(PropTypes.shape({\n            src: PropTypes.string,\n            async: PropTypes.bool,\n            defer: PropTypes.bool\n        }))\n    ]), rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","import { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\n","var getTinymce = function (view) {\n    var global = view;\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'accordion-toggle': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z\"/><path opacity=\".2\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z\"/><path opacity=\".2\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z\"/></svg>',\n    'accordion': '<svg width=\"24\" height=\"24\"><rect x=\"12\" y=\"7\" width=\"10\" height=\"2\" rx=\"1\"/><rect x=\"12\" y=\"11\" width=\"10\" height=\"2\" rx=\"1\"/><rect x=\"12\" y=\"15\" width=\"6\" height=\"2\" rx=\"1\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z\"/></svg>',\n    'addtag': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'ai-prompt': '<svg width=\"24\" height=\"24\"><g clip-path=\"url(#a)\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z\"/><path d=\"m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z\"/></g><defs><clipPath id=\"a\"><path d=\"M0 0h24v24H0z\"/></clipPath></defs></svg>',\n    'ai': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"m13 11-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3 3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z\"/><path d=\"M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z\" fill-rule=\"nonzero\"/></svg>',\n    'footnote': '<svg width=\"24\" height=\"24\"><path d=\"M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 4v6h-1V5h-1.5V4h2.6Z\"/><path d=\"M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z\"/></svg>',\n    'format-code': '<svg width=\"24\" height=\"24\"><path d=\"m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path class=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'math-equation': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z\"/></svg>',\n    'mentions': '<svg height=\"24\" width=\"24\"><path d=\"M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z\"/></svg>',\n    'minus': '<svg width=\"24\" height=\"24\"><path d=\"M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'export-pdf': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z\"/><path d=\"M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z\"/></svg>',\n    'export-word': '<svg width=\"24\" height=\"24\"><path d=\"M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z\"/></svg>',\n    'import-word': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z\"/><path d=\"M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'revision-history': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z\"/></svg>',\n    'send': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z\" opacity=\".2\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z\"/><path d=\"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z\"/></svg>',\n    'template-add': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z\"/><path d=\"M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path class=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z\"/></g></svg>',\n    'text-size-decrease': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z\"/></svg>',\n    'text-size-increase': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'typography': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z\"/><path d=\"m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'add-file': '<svg height=\"24\" width=\"24\"><path d=\"M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/><path d=\"M6 17h12l-4-5-3 3.8-2-2.6z\"/></svg>',\n    'adjustments': '<svg width=\"24\" height=\"24\"><path d=\"M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z\"/></svg>',\n    'alt-text': '<svg width=\"24\" height=\"24\"><path d=\"M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z\"/><path d=\"M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z\"/></svg>',\n    'blur': '<svg width=\"24\" height=\"24\"><path d=\"M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z\"/></svg>',\n    'box': '<svg width=\"24\" height=\"24\"><path d=\"M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z\"/></svg>',\n    'camera': '<svg height=\"24\" width=\"24\"><g clip-rule=\"evenodd\" fill-rule=\"evenodd\"><path d=\"M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z\"/><path d=\"M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z\"/></g></svg>',\n    'caption': '<svg height=\"24\" width=\"24\"><path d=\"M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z\"/></svg>',\n    'dropbox': '<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z\" fill-rule=\"evenodd\"/></svg>',\n    'evernote': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z\" clip-rule=\"evenodd\"/></svg>',\n    'exposure': '<svg width=\"24\" height=\"24\"><path d=\"M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z\"/></svg>',\n    'fb': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z\" clip-rule=\"evenodd\"/></svg>',\n    'flickr': '<svg width=\"24\" height=\"24\"><path d=\"M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z\"/></svg>',\n    'folder': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z\" clip-rule=\"evenodd\"/></svg>',\n    'google-drive': '<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z\" fill-rule=\"evenodd\"/></svg>',\n    'google-photos': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z\" clip-rule=\"evenodd\"/></svg>',\n    'grayscale': '<svg height=\"24\" width=\"24\"><g clip-rule=\"evenodd\" fill-rule=\"evenodd\"><path d=\"M12 15v2a5 5 0 0 0 0-10v2a3 3 0 1 0 0 6zm0 0a3 3 0 1 0 0-6z\"/><path d=\"M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm7-2h7V5h-7v2a5 5 0 0 0 0 10z\"/></g></svg>',\n    'huddle': '<svg height=\"24\" width=\"24\"><path d=\"M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z\"/></svg>',\n    'image-decorative': '<svg width=\"24\" height=\"24\"><path d=\"M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z\"/></svg>',\n    'image-enhancements': '<svg height=\"24\" width=\"24\"><path d=\"M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z\"/><path d=\"M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z\"/></svg>',\n    'instagram': '<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\" fill-rule=\"evenodd\"/><path d=\"M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z\"/><path clip-rule=\"evenodd\" d=\"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z\" fill-rule=\"evenodd\"/></svg>',\n    'onedrive': '<svg height=\"24\" width=\"24\"><path d=\"M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z\"/></svg>',\n    'revert-changes': '<svg height=\"24\" width=\"24\"><path d=\"m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z\"/><path d=\"m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/></svg>',\n    'saturation': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z\" clip-rule=\"evenodd\"/></svg>',\n    'transform-image': '<svg height=\"24\" width=\"24\"><path d=\"M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z\"/></svg>',\n    'vibrance': '<svg height=\"24\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z\" fill-rule=\"evenodd\"/></svg>',\n    'vk': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z\" clip-rule=\"evenodd\"/></svg>',\n    'warmth': '<svg height=\"24\" width=\"24\"><path d=\"M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","// Exports the \"dom\" model for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/models/dom')\n//   ES2015:\n//     import 'tinymce/models/dom'\nrequire('./model.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ModelManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$2 = t => a => t === a;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isNull = eq$2(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$2(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$1 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map$1 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$2 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$2(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$1 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$2 = (xs, f) => flatten(map$1(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort$1 = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$d = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$d(xs, 0);\n    const last$2 = xs => get$d(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$c = (obj, key) => {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$1 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve$2 = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve$2(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve$2('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement = element => isElement(element) && isPrototypeOf(element.dom);\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, attrs) => {\n      each$1(attrs, (v, k) => {\n        v.fold(() => {\n          remove$7(element, k);\n        }, value => {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    const get$b = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$b(element, key));\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$1 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq$1 = (e1, e2) => e1.dom === e2.dom;\n    const contains$1 = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$2 = element => map$1(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$5 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$1(parent, element);\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const wrap = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$4 = (marker, elements) => {\n      each$2(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$2(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$2(children$2(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$2(wrapper);\n      if (children.length > 0) {\n        after$4(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const copy$2 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      const cloneChildren = children$2(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    const mutate$1 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$5(original, nu);\n      const children = children$2(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains$2(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const address = (row, column) => ({\n      row,\n      column\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const detailnew = (element, rowspan, colspan, isNew) => ({\n      element,\n      rowspan,\n      colspan,\n      isNew\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const rowdetailnew = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const elementnew = (element, isNew, isLocked) => ({\n      element,\n      isNew,\n      isLocked\n    });\n    const rowcells = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const getRootNode = e => SugarElement.fromDom(e.dom.getRootNode());\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body$1 = () => getBody$1(SugarElement.fromDom(document));\n    const getBody$1 = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const ancestors$4 = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n    const children$1 = (scope, predicate) => filter$2(children$2(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$2(children$2(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const ancestors$3 = (scope, selector, isRoot) => ancestors$4(scope, e => is$2(e, selector), isRoot);\n    const children = (scope, selector) => children$1(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$2 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, e => is$2(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const bindFrom = (a, f) => a !== undefined && a !== null ? f(a) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const contains = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$1(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$a = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$2 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$5 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const copy$1 = (source, target) => {\n      const sourceDom = source.dom;\n      const targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n    const getSpan = (cell, type) => getAttrValue(cell, type, 1);\n    const hasColspan = cellOrCol => {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    const hasRowspan = cell => getSpan(cell, 'rowspan') > 1;\n    const getCssValue = (element, property) => parseInt(get$a(element, property), 10);\n    const minWidth = constant(10);\n    const minHeight = constant(10);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$2(children$2(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells$1 = ancestor => firstLayer(ancestor, 'th,td');\n    const columns$1 = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), columnGroup => children(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows$1 = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map$1(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map$1(columns$1(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells = map$1(cells$1(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows = rows$1(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    const fromPastedRows = (elems, section) => fromRowsOrColGroups(elems, () => section);\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$2(0, 0);\n    };\n    const nu$2 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$2,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$1(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(window.navigator.userAgent, Optional.from(window.navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$a(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$a(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getHeight$1 = element => getProp(element, 'height', element.dom.offsetHeight);\n    const getWidth = element => getProp(element, 'width', element.dom.offsetWidth);\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const api$2 = Dimension('width', element => element.dom.offsetWidth);\n    const get$9 = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const getInner = getInnerWidth;\n    const getRuntime$1 = getWidth;\n\n    const addCells = (gridRow, index, cells) => {\n      const existingCells = gridRow.cells;\n      const before = existingCells.slice(0, index);\n      const after = existingCells.slice(index);\n      const newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    const addCell = (gridRow, index, cell) => addCells(gridRow, index, [cell]);\n    const mutateCell = (gridRow, index, cell) => {\n      const cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    const setCells = (gridRow, cells) => rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    const mapCells = (gridRow, f) => {\n      const cells = gridRow.cells;\n      const r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    const getCell = (gridRow, index) => gridRow.cells[index];\n    const getCellElement = (gridRow, index) => getCell(gridRow, index).element;\n    const cellLength = gridRow => gridRow.cells.length;\n    const extractGridDetails = grid => {\n      const result = partition(grid, row => row.section === 'colgroup');\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    const clone = (gridRow, cloneRow, cloneCell) => {\n      const newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n    const getLockedColumnsFromGrid = grid => {\n      const locked = foldl(extractGridDetails(grid).rows, (acc, row) => {\n        each$2(row.cells, (cell, idx) => {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      const lockedArr = mapToArray(locked, (_val, key) => parseInt(key, 10));\n      return sort$1(lockedArr);\n    };\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind$2(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each$2(rowData.cells, column => {\n        const colspan = column.colspan;\n        range$1(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each$2(rows, rowData => {\n        const currentRow = [];\n        each$2(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last$2(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind$2(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    const columns = (warehouse, isValidCell = always) => {\n      const grid = warehouse.grid;\n      const cols = range$1(grid.columns, identity);\n      const rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, col => {\n        const getBlock = () => bind$2(rowsArr, r => Warehouse.getAt(warehouse, r, col).filter(detail => detail.column === col).toArray());\n        const isValid = detail => detail.colspan === 1 && isValidCell(detail.element);\n        const getFallback = () => Warehouse.getAt(warehouse, 0, col);\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    const decide = (getBlock, isValid, getFallback) => {\n      const inBlock = getBlock();\n      const validInBlock = find$1(inBlock, isValid);\n      const detailOption = validInBlock.orThunk(() => Optional.from(inBlock[0]).orThunk(getFallback));\n      return detailOption.map(detail => detail.element);\n    };\n    const rows = warehouse => {\n      const grid = warehouse.grid;\n      const rowsArr = range$1(grid.rows, identity);\n      const cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, row => {\n        const getBlock = () => bind$2(cols, c => Warehouse.getAt(warehouse, row, c).filter(detail => detail.row === row).fold(constant([]), detail => [detail]));\n        const isSingle = detail => detail.rowspan === 1;\n        const getFallback = () => Warehouse.getAt(warehouse, row, 0);\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    const deduce = (xs, index) => {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      const current = xs[index].fold(() => {\n        const rest = reverse(xs.slice(0, index));\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, c => Optional.some({\n        value: c,\n        delta: 0\n      }));\n      const next = xs[index + 1].fold(() => {\n        const rest = xs.slice(index + 1);\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, n => Optional.some({\n        value: n,\n        delta: 1\n      }));\n      return current.bind(c => next.map(n => {\n        const extras = n.delta + c.delta;\n        return Math.abs(n.value - c.value) / extras;\n      }));\n    };\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    const api$1 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$8 = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const getRuntime = getHeight$1;\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const rowInfo = (row, y) => ({\n      row,\n      y\n    });\n    const colInfo = (col, x) => ({\n      col,\n      x\n    });\n    const rtlEdge = cell => {\n      const pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    const ltrEdge = cell => {\n      return absolute(cell).left;\n    };\n    const getLeftEdge = (index, cell) => {\n      return colInfo(index, ltrEdge(cell));\n    };\n    const getRightEdge = (index, cell) => {\n      return colInfo(index, rtlEdge(cell));\n    };\n    const getTop$1 = cell => {\n      return absolute(cell).top;\n    };\n    const getTopEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell));\n    };\n    const getBottomEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    const findPositions = (getInnerEdge, getOuterEdge, array) => {\n      if (array.length === 0) {\n        return [];\n      }\n      const lines = map$1(array.slice(1), (cellOption, index) => {\n        return cellOption.map(cell => {\n          return getInnerEdge(index, cell);\n        });\n      });\n      const lastLine = array[array.length - 1].map(cell => {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    const negate = step => {\n      return -step;\n    };\n    const height = {\n      delta: identity,\n      positions: optElements => findPositions(getTopEdge, getBottomEdge, optElements),\n      edge: getTop$1\n    };\n    const ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: optElements => findPositions(getLeftEdge, getRightEdge, optElements)\n    };\n    const rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: optElements => findPositions(getRightEdge, getLeftEdge, optElements)\n    };\n    const detect$1 = onDirection(ltr$1, rtl$1);\n    const width = {\n      delta: (amount, table) => detect$1(table).delta(amount, table),\n      positions: (cols, table) => detect$1(table).positions(cols, table),\n      edge: cell => detect$1(cell).edge(cell)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    const rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    const rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    const isCol$2 = isTag('col');\n    const isRow$2 = isTag('tr');\n    const getPercentSize = (elm, outerGetter, innerGetter) => {\n      const relativeParent = parentElement(elm).getOrThunk(() => getBody$1(owner(elm)));\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    const setPixelWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + 'px');\n    };\n    const setPercentageWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + '%');\n    };\n    const setHeight = (cell, amount) => {\n      set$1(cell, 'height', amount + 'px');\n    };\n    const removeHeight = cell => {\n      remove$5(cell, 'height');\n    };\n    const getHeightValue = cell => getRuntime(cell) + 'px';\n    const convert = (cell, number, getter, setter) => {\n      const newSize = table(cell).map(table => {\n        const total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    const normalizePixelSize = (value, cell, getter, setter) => {\n      const number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    const getTotalHeight = cell => {\n      const value = getHeightValue(cell);\n      if (!value) {\n        return get$8(cell);\n      }\n      return normalizePixelSize(value, cell, get$8, setHeight);\n    };\n    const get$7 = (cell, type, f) => {\n      const v = f(cell);\n      const span = getSpan(cell, type);\n      return v / span;\n    };\n    const getRaw$1 = (element, prop) => {\n      return getRaw$2(element, prop).orThunk(() => {\n        return getOpt(element, prop).map(val => val + 'px');\n      });\n    };\n    const getRawWidth$1 = element => getRaw$1(element, 'width');\n    const getRawHeight$1 = element => getRaw$1(element, 'height');\n    const getPercentageWidth = cell => getPercentSize(cell, get$9, getInner);\n    const getPixelWidth$1 = cell => isCol$2(cell) ? get$9(cell) : getRuntime$1(cell);\n    const getHeight = cell => {\n      return isRow$2(cell) ? get$8(cell) : get$7(cell, 'rowspan', getTotalHeight);\n    };\n    const getGenericWidth = cell => {\n      const width = getRawWidth$1(cell);\n      return width.bind(w => parse(w, [\n        'fixed',\n        'relative',\n        'empty'\n      ]));\n    };\n    const setGenericWidth = (cell, amount, unit) => {\n      set$1(cell, 'width', amount + unit);\n    };\n    const getPixelTableWidth = table => get$9(table) + 'px';\n    const getPixelTableHeight = table => get$8(table) + 'px';\n    const getPercentTableWidth = table => getPercentSize(table, get$9, getInner) + '%';\n    const isPercentSizing$1 = table => getRawWidth$1(table).exists(size => rPercentageBasedSizeRegex.test(size));\n    const isPixelSizing$1 = table => getRawWidth$1(table).exists(size => rPixelBasedSizeRegex.test(size));\n    const isNoneSizing$1 = table => getRawWidth$1(table).isNone();\n    const percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    const isCol$1 = isTag('col');\n    const getRawW = cell => {\n      return getRawWidth$1(cell).getOrThunk(() => getPixelWidth$1(cell) + 'px');\n    };\n    const getRawH = cell => {\n      return getRawHeight$1(cell).getOrThunk(() => getHeight(cell) + 'px');\n    };\n    const justCols = warehouse => map$1(Warehouse.justColumns(warehouse), column => Optional.from(column.element));\n    const isValidColumn = cell => {\n      const browser = detect$2().browser;\n      const supportsColWidths = browser.isChromium() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    const getDimension = (cellOpt, index, backups, filter, getter, fallback) => cellOpt.filter(filter).fold(() => fallback(deduce(backups, index)), cell => getter(cell));\n    const getWidthFrom = (warehouse, table, getWidth, fallback) => {\n      const columnCells = columns(warehouse);\n      const columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      const backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), pos => pos.map(p => p.x)));\n      const colFilter = not(hasColspan);\n      return map$1(columns$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, colFilter, column => {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            const cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, cell => fallback(Optional.some(get$9(cell))), fallback);\n          }\n        }, fallback);\n      });\n    };\n    const getDeduced = deduced => {\n      return deduced.map(d => {\n        return d + 'px';\n      }).getOr('');\n    };\n    const getRawWidths = (warehouse, table) => {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    const getPercentageWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPercentageWidth, deduced => {\n        return deduced.fold(() => {\n          return tableSize.minCellWidth();\n        }, cellWidth => {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    const getPixelWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, deduced => {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    const getHeightFrom = (warehouse, table, getHeight, fallback) => {\n      const rowCells = rows(warehouse);\n      const rows$1 = map$1(warehouse.all, r => Optional.some(r.element));\n      const backups = [Optional.some(height.edge(table))].concat(map$1(height.positions(rowCells, table), pos => pos.map(p => p.y)));\n      return map$1(rows$1, (row, i) => getDimension(row, i, backups, always, getHeight, fallback));\n    };\n    const getPixelHeights = (warehouse, table) => {\n      return getHeightFrom(warehouse, table, getHeight, deduced => {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    const getRawHeights = (warehouse, table) => {\n      return getHeightFrom(warehouse, table, getRawH, getDeduced);\n    };\n\n    const widthLookup = (table, getter) => () => {\n      if (inBody(table)) {\n        return getter(table);\n      } else {\n        return parseFloat(getRaw$2(table, 'width').getOr('0'));\n      }\n    };\n    const noneSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const zero = constant(0);\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    const percentageSize = table => {\n      const getFloatWidth = widthLookup(table, elem => parseFloat(getPercentTableWidth(elem)));\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = delta => delta / getWidth() * 100;\n      const singleColumnWidth = (w, _delta) => [100 - w];\n      const minCellWidth = () => minWidth() / getWidth() * 100;\n      const adjustTableWidth = delta => {\n        const currentWidth = getFloatWidth();\n        const change = delta / 100 * currentWidth;\n        const newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPercentageWidths(warehouse, table, tableSize);\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    const pixelSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = identity;\n      const singleColumnWidth = (w, delta) => {\n        const newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      const adjustTableWidth = delta => {\n        const newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    const chooseSize = (element, width) => {\n      const percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    const getTableSize = table => {\n      const width = getRawWidth$1(table);\n      return width.fold(() => noneSize(table), w => chooseSize(table, w));\n    };\n    const TableSize = {\n      getTableSize,\n      pixelSize,\n      percentageSize,\n      noneSize\n    };\n\n    const statsStruct = (minRow, minCol, maxRow, maxCol, allCells, selectedCells) => ({\n      minRow,\n      minCol,\n      maxRow,\n      maxCol,\n      allCells,\n      selectedCells\n    });\n    const findSelectedStats = (house, isSelected) => {\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      let minRow = totalRows;\n      let minCol = totalColumns;\n      let maxRow = 0;\n      let maxCol = 0;\n      const allCells = [];\n      const selectedCells = [];\n      each$1(house.access, detail => {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          const startRow = detail.row;\n          const endRow = startRow + detail.rowspan - 1;\n          const startCol = detail.column;\n          const endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    const makeCell = (list, seenSelected, rowIndex) => {\n      const row = list[rowIndex].element;\n      const td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      const f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    const fillInGaps = (list, house, stats, isSelected) => {\n      const rows = filter$2(list, row => row.section !== 'colgroup');\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      for (let i = 0; i < totalRows; i++) {\n        let seenSelected = false;\n        for (let j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            const needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(rows, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    const clean = (replica, stats, house, widthDelta) => {\n      each$1(house.columns, col => {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$6(col.element);\n        }\n      });\n      const emptyRows = filter$2(firstLayer(replica, 'tr'), row => row.dom.childElementCount === 0);\n      each$2(emptyRows, remove$6);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), cell => {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      const tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    const getTableWidthDelta = (table, warehouse, tableSize, stats) => {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      const colWidths = getPixelWidths(warehouse, table, tableSize);\n      const allColsWidth = foldl(colWidths, (acc, width) => acc + width, 0);\n      const selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), (acc, width) => acc + width, 0);\n      const newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      const delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    const extract$1 = (table, selectedSelector) => {\n      const isSelected = detail => is$2(detail.element, selectedSelector);\n      const replica = deep(table);\n      const list = fromTable$1(replica);\n      const tableSize = TableSize.getTableSize(table);\n      const replicaHouse = Warehouse.generate(list);\n      const replicaStats = findSelectedStats(replicaHouse, isSelected);\n      const selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      const unselectedCells = filterFirstLayer(replica, 'th,td', cell => is$2(cell, selector));\n      each$2(unselectedCells, remove$6);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      const house = Warehouse.fromTable(table);\n      const widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    const nbsp = '\\xA0';\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$6 = element => api.get(element);\n    const getOption = element => api.getOption(element);\n    const set = (element, value) => api.set(element, value);\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$2(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const isContentEditableFalse = elem => isHTMLElement(elem) && get$b(elem, 'contenteditable') === 'false';\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem)) || isContentEditableFalse(elem);\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last$1 = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$2(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    const createCell = doc => () => {\n      const td = SugarElement.fromTag('td', doc.dom);\n      append$1(td, SugarElement.fromTag('br', doc.dom));\n      return td;\n    };\n    const createCol = doc => () => {\n      return SugarElement.fromTag('col', doc.dom);\n    };\n    const createColgroup = doc => () => {\n      return SugarElement.fromTag('colgroup', doc.dom);\n    };\n    const createRow$1 = doc => () => {\n      return SugarElement.fromTag('tr', doc.dom);\n    };\n    const replace$1 = (cell, tag, attrs) => {\n      const replica = copy$2(cell, tag);\n      each$1(attrs, (v, k) => {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    const pasteReplace = cell => {\n      return cell;\n    };\n    const cloneFormats = (oldCell, newCell, formats) => {\n      const first$1 = first(oldCell);\n      return first$1.map(firstText => {\n        const formatSelector = formats.join(',');\n        const parents = ancestors$3(firstText, formatSelector, element => {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, (last, parent) => {\n          const clonedFormat = shallow(parent);\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    const cloneAppropriateAttributes = (original, clone) => {\n      each$1(transferableAttributes, (validAttributes, attributeName) => getOpt(original, attributeName).filter(attribute => contains$2(validAttributes, attribute)).each(attribute => set$2(clone, attributeName, attribute)));\n    };\n    const cellOperations = (mutate, doc, formatsToClone) => {\n      const cloneCss = (prev, clone) => {\n        copy$1(prev.element, clone);\n        remove$5(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$5(clone, 'width');\n        }\n      };\n      const newCell = prev => {\n        const td = SugarElement.fromTag(name(prev.element), doc.dom);\n        const formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        const lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      const newCol = prev => {\n        const col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    const paste$1 = doc => {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$2(SugarElement.fromDom(div));\n    };\n    const fromDom = nodes => map$1(nodes, SugarElement.fromDom);\n\n    const option = name => editor => editor.options.get(name);\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultTableStyles = (editor, defaultStyles) => {\n      if (isTableResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultTableAttributes = (editor, defaultAttributes) => {\n      if (isTableResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_clone_elements', { processor: 'string[]' });\n      registerOption('table_use_colgroups', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_header_type', {\n        processor: value => {\n          const valid = contains$2([\n            'section',\n            'cells',\n            'sectionCells',\n            'auto'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: section, cells, sectionCells or auto.'\n          };\n        },\n        default: 'section'\n      });\n      registerOption('table_sizing_mode', {\n        processor: 'string',\n        default: 'auto'\n      });\n      registerOption('table_default_attributes', {\n        processor: 'object',\n        default: { border: '1' }\n      });\n      registerOption('table_default_styles', {\n        processor: 'object',\n        default: { 'border-collapse': 'collapse' }\n      });\n      registerOption('table_column_resizing', {\n        processor: value => {\n          const valid = contains$2([\n            'preservetable',\n            'resizetable'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be preservetable, or resizetable.'\n          };\n        },\n        default: 'preservetable'\n      });\n      registerOption('table_resize_bars', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_style_by_css', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_merge_content_on_paste', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getTableCloneElements = editor => {\n      return Optional.from(editor.options.get('table_clone_elements'));\n    };\n    const hasTableObjectResizing = editor => {\n      const objectResizing = editor.options.get('object_resizing');\n      return contains$2(objectResizing.split(','), 'table');\n    };\n    const getTableHeaderType = option('table_header_type');\n    const getTableColumnResizingBehaviour = option('table_column_resizing');\n    const isPreserveTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'preservetable';\n    const isResizeTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'resizetable';\n    const getTableSizingMode = option('table_sizing_mode');\n    const isTablePercentagesForced = editor => getTableSizingMode(editor) === 'relative';\n    const isTablePixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isTableResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const hasTableResizeBars = option('table_resize_bars');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const shouldMergeContentOnPaste = option('table_merge_content_on_paste');\n    const getTableDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultTableAttributes(editor, defaultAttributes);\n    };\n    const getTableDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultTableStyles(editor, defaultStyles);\n    };\n    const tableUseColumnGroup = option('table_use_colgroups');\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable$1 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq$1(element, getBody(editor));\n    const removeDataStyle = table => {\n      remove$7(table, 'data-mce-style');\n      const removeStyleAttribute = element => remove$7(element, 'data-mce-style');\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getPixelWidth = elm => elm.getBoundingClientRect().width;\n    const getPixelHeight = elm => elm.getBoundingClientRect().height;\n    const getRawValue = prop => (editor, elm) => {\n      const raw = editor.dom.getStyle(elm, prop) || editor.dom.getAttrib(elm, prop);\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    const getRawWidth = getRawValue('width');\n    const getRawHeight = getRawValue('height');\n    const isPercentage$1 = value => /^(\\d+(\\.\\d+)?)%$/.test(value);\n    const isPixel = value => /^(\\d+(\\.\\d+)?)px$/.test(value);\n    const isInEditableContext$1 = cell => closest$2(cell, isTag('table')).exists(isEditable$1);\n\n    const inSelection = (bounds, detail) => {\n      const leftEdge = detail.column;\n      const rightEdge = detail.column + detail.colspan - 1;\n      const topEdge = detail.row;\n      const bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const moveBy$1 = (warehouse, cell, row, column) => {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(detail => {\n        const startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        const startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        const dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(d => {\n          return d.element;\n        });\n      });\n    };\n    const intercepts$1 = (warehouse, start, finish) => {\n      return getAnyBox(warehouse, start, finish).map(bounds => {\n        const inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, detail => {\n          return detail.element;\n        });\n      });\n    };\n    const parentCell = (warehouse, innerCell) => {\n      const isContainedBy = (c1, c2) => {\n        return contains$1(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(detail => {\n        return detail.element;\n      });\n    };\n\n    const moveBy = (cell, deltaRow, deltaColumn) => {\n      return table(cell).bind(table => {\n        const warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    const intercepts = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    const nestedIntercepts = (table, first, firstTable, last, lastTable) => {\n      const warehouse = getWarehouse(table);\n      const optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      const optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(startCell => optLastCell.bind(lastCell => intercepts$1(warehouse, startCell, lastCell)));\n    };\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$b(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$5\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$3,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$6\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$2,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get$6,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const eq = (universe, item) => {\n      return curry(universe.eq, item);\n    };\n    const ancestors$2 = (universe, start, end, isRoot = never) => {\n      const ps1 = [start].concat(universe.up().all(start));\n      const ps2 = [end].concat(universe.up().all(end));\n      const prune = path => {\n        const index = findIndex(path, isRoot);\n        return index.fold(() => {\n          return path;\n        }, ind => {\n          return path.slice(0, ind + 1);\n        });\n      };\n      const pruned1 = prune(ps1);\n      const pruned2 = prune(ps2);\n      const shared = find$1(pruned1, x => {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared\n      };\n    };\n\n    const sharedOne$1 = oneAll;\n    const ancestors$1 = ancestors$2;\n\n    const universe$3 = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe$3, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n    const ancestors = (start, finish, isRoot) => {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    const lookupTable = container => {\n      return ancestor$1(container, 'table');\n    };\n    const identify = (start, finish, isRoot) => {\n      const getIsRoot = rootTable => {\n        return element => {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start,\n          finish\n        });\n      } else {\n        return lookupTable(start).bind(startTable => {\n          return lookupTable(finish).bind(finishTable => {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start,\n                finish\n              });\n            } else if (contains$1(startTable, finishTable)) {\n              const ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              const finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start,\n                finish: finishCell\n              });\n            } else if (contains$1(finishTable, startTable)) {\n              const ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              const startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(lca => {\n                return closest$1(lca, 'table', isRoot).bind(lcaTable => {\n                  const finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  const finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  const startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  const startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getLast = (boxes, lastSelectedSelector) => {\n      return find$1(boxes, box => {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n    const expandTo = (finish, firstSelectedSelector) => {\n      return ancestor$1(finish, 'table').bind(table => {\n        return descendant(table, firstSelectedSelector).bind(start => {\n          return identify(start, finish).bind(identified => {\n            return identified.boxes.map(boxes => {\n              return {\n                boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    const shiftSelection = (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) => {\n      return getLast(boxes, lastSelectedSelector).bind(last => {\n        return moveBy(last, deltaRow, deltaColumn).bind(finish => {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq$1(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strAttributeSelector = '[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const attributeSelector = strAttributeSelector;\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n    const paste = (element, clipboard, generators) => ({\n      element,\n      clipboard,\n      generators\n    });\n    const pasteRows = (selectedCells, _cell, clipboard, generators) => ({\n      selection: selection(selectedCells),\n      clipboard,\n      generators\n    });\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getCellsFromFakeSelection = editor => filter$2(getCellsFromSelection(editor), cell => is$2(cell, ephemera.selectedSelector));\n\n    const extractSelected = cells => {\n      return table(cells[0]).map(table => {\n        const replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    const serializeElements = (editor, elements) => map$1(elements, elm => editor.selection.serializer.serialize(elm.dom, {})).join('');\n    const getTextContent = (editor, replicaElements) => {\n      const doc = editor.getDoc();\n      const dos = getRootNode(SugarElement.fromDom(editor.getBody()));\n      const offscreenDiv = SugarElement.fromTag('div', doc);\n      set$2(offscreenDiv, 'data-mce-bogus', 'all');\n      setAll(offscreenDiv, {\n        position: 'fixed',\n        left: '-9999999px',\n        top: '0',\n        overflow: 'hidden',\n        opacity: '0'\n      });\n      const root = getContentContainer(dos);\n      append(offscreenDiv, replicaElements);\n      append$1(root, offscreenDiv);\n      const textContent = offscreenDiv.dom.innerText;\n      remove$6(offscreenDiv);\n      return textContent;\n    };\n    const registerEvents = (editor, actions) => {\n      editor.on('BeforeGetContent', e => {\n        const multiCellContext = cells => {\n          e.preventDefault();\n          extractSelected(cells).each(replicaElements => {\n            const content = e.format === 'text' ? getTextContent(editor, replicaElements) : serializeElements(editor, replicaElements);\n            e.content = content;\n          });\n        };\n        if (e.selection === true) {\n          const cells = getCellsFromFakeSelection(editor);\n          if (cells.length >= 1) {\n            multiCellContext(cells);\n          }\n        }\n      });\n      editor.on('BeforeSetContent', e => {\n        if (e.selection === true && e.paste === true) {\n          const selectedCells = getCellsFromSelection(editor);\n          head(selectedCells).each(cell => {\n            table(cell).each(table => {\n              const elements = filter$2(fromHtml(e.content), content => {\n                return name(content) !== 'meta';\n              });\n              const isTable = isTag('table');\n              if (shouldMergeContentOnPaste(editor) && elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                const doc = SugarElement.fromDom(editor.getDoc());\n                const generators = paste$1(doc);\n                const targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(() => {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n\n    const scan$1 = (universe, element, direction) => {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(elem => {\n          return scan$1(universe, elem, direction).orThunk(() => {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const toEnd = (universe, element) => {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      const children = universe.property().children(element);\n      return children.length;\n    };\n    const freefallRtl$2 = (universe, element) => {\n      const candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      const children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    const freefallRtl$1 = freefallRtl$2;\n\n    const universe$2 = DomUniverse();\n    const freefallRtl = element => {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    const halve = (main, other) => {\n      if (!hasColspan(main)) {\n        const width = getGenericWidth(main);\n        width.each(w => {\n          const newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    const zero = array => map$1(array, constant(0));\n    const surround = (sizes, startIndex, endIndex, results, f) => f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    const clampDeltaHelper = predicate => (sizes, index, delta, minCellSize) => {\n      if (!predicate(delta)) {\n        return delta;\n      } else {\n        const newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n        const diff = Math.abs(newSize - sizes[index]);\n        return delta >= 0 ? diff : -diff;\n      }\n    };\n    const clampNegativeDelta = clampDeltaHelper(delta => delta < 0);\n    const clampDelta = clampDeltaHelper(always);\n    const resizeTable = () => {\n      const calcFixedDeltas = (sizes, index, next, delta, minCellSize) => {\n        const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      const calcRelativeDeltas = (sizes, index, delta, minCellSize) => {\n        const ratio = (100 + delta) / 100;\n        const newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, (size, idx) => {\n          const newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize, isRelative) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      const resizeTable = (resizer, delta) => resizer(delta);\n      const calcRightEdgeDeltas = (sizes, _prev, index, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      const calcRedestributedWidths = (sizes, totalWidth, pixelDelta, isRelative) => {\n        if (isRelative) {\n          const tableWidth = totalWidth + pixelDelta;\n          const ratio = tableWidth / totalWidth;\n          const newSizes = map$1(sizes, size => size / ratio);\n          return {\n            delta: ratio * 100 - 100,\n            newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n    const preserveTable = () => {\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize) => {\n        const idx = delta >= 0 ? next : index;\n        const clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      const resizeTable = (resizer, delta, isLastColumn) => {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      const calcRightEdgeDeltas = (sizes, _prev, _index, delta, _minCellSize, isRelative) => {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          const diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      const clampTableDelta = (sizes, index, delta, minCellSize, isLastColumn) => {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            const maxDelta = foldl(sizes, (a, b) => a + b - minCellSize, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      const calcRedestributedWidths = (sizes, _totalWidth, _pixelDelta, _isRelative) => ({\n        delta: 0,\n        newSizes: sizes\n      });\n      return {\n        resizeTable,\n        clampTableDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n\n    const getGridSize = table => {\n      const warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    const isHeaderCell = isTag('th');\n    const isHeaderCells = cells => forall(cells, cell => isHeaderCell(cell.element));\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter$2(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map$1(rows, row => getRowType(row).type);\n      const hasHeader = contains$2(rowTypes, 'header');\n      const hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const findTableRowHeaderType = warehouse => findMap(warehouse.all, row => {\n      const rowType = getRowType(row);\n      return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n    });\n\n    const transformCell = (cell, comparator, substitution) => elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    const transformRow = (row, section) => row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    const section = () => ({\n      transformRow,\n      transformCell: (cell, comparator, substitution) => {\n        const newCell = substitution(cell.element, comparator);\n        const fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n        return elementnew(fixedCell, cell.isNew, cell.isLocked);\n      }\n    });\n    const sectionCells = () => ({\n      transformRow,\n      transformCell\n    });\n    const cells = () => ({\n      transformRow: (row, section) => {\n        const newSection = section === 'thead' ? 'tbody' : section;\n        return transformRow(row, newSection);\n      },\n      transformCell\n    });\n    const fallback = () => ({\n      transformRow: identity,\n      transformCell\n    });\n    const getTableSectionType = (table, fallback) => {\n      const warehouse = Warehouse.fromTable(table);\n      const type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    const TableSection = {\n      getTableSectionType,\n      section,\n      sectionCells,\n      cells,\n      fallback\n    };\n\n    const setIfNot = (element, property, value, ignore) => {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    const insert$1 = (table, selector, element) => {\n      last$2(children(table, selector)).fold(() => prepend(table, element), child => after$5(child, element));\n    };\n    const generateSection = (table, sectionName) => {\n      const section = child(table, sectionName).getOrThunk(() => {\n        const newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    const render$1 = (table, grid) => {\n      const newRows = [];\n      const newCells = [];\n      const syncRows = gridSection => map$1(gridSection, row => {\n        if (row.isNew) {\n          newRows.push(row.element);\n        }\n        const tr = row.element;\n        empty(tr);\n        each$2(row.cells, cell => {\n          if (cell.isNew) {\n            newCells.push(cell.element);\n          }\n          setIfNot(cell.element, 'colspan', cell.colspan, 1);\n          setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n          append$1(tr, cell.element);\n        });\n        return tr;\n      });\n      const syncColGroup = gridSection => bind$2(gridSection, colGroup => map$1(colGroup.cells, col => {\n        setIfNot(col.element, 'span', col.colspan, 1);\n        return col.element;\n      }));\n      const renderSection = (gridSection, sectionName) => {\n        const section = generateSection(table, sectionName);\n        const sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        const sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      const removeSection = sectionName => {\n        child(table, sectionName).each(remove$6);\n      };\n      const renderOrRemoveSection = (gridSection, sectionName) => {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      const headSection = [];\n      const bodySection = [];\n      const footSection = [];\n      const columnGroupsSection = [];\n      each$2(grid, row => {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows,\n        newCells\n      };\n    };\n    const copy = grid => map$1(grid, row => {\n      const tr = shallow(row.element);\n      each$2(row.cells, cell => {\n        const clonedCell = deep(cell.element);\n        setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n        setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n        append$1(tr, clonedCell);\n      });\n      return tr;\n    });\n\n    const getColumn = (grid, index) => {\n      return map$1(grid, row => {\n        return getCell(row, index);\n      });\n    };\n    const getRow = (grid, index) => {\n      return grid[index];\n    };\n    const findDiff = (xs, comp) => {\n      if (xs.length === 0) {\n        return 0;\n      }\n      const first = xs[0];\n      const index = findIndex(xs, x => {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    const subgrid = (grid, row, column, comparator) => {\n      const gridRow = getRow(grid, row);\n      const isColRow = gridRow.section === 'colgroup';\n      const colspan = findDiff(gridRow.cells.slice(column), comparator);\n      const rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan,\n        rowspan\n      };\n    };\n\n    const toDetails = (grid, comparator) => {\n      const seen = map$1(grid, row => map$1(row.cells, never));\n      const updateSeen = (rowIndex, columnIndex, rowspan, colspan) => {\n        for (let row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (let column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, (row, rowIndex) => {\n        const details = bind$2(row.cells, (cell, columnIndex) => {\n          if (seen[rowIndex][columnIndex] === false) {\n            const result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    const toGrid = (warehouse, generators, isNew) => {\n      const grid = [];\n      each$2(warehouse.colgroups, colgroup => {\n        const colgroupCols = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getColumnAt(warehouse, columnIndex).map(column => elementnew(column.element, isNew, false)).getOrThunk(() => elementnew(generators.colGap(), true, false));\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (let rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        const rowCells = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(item => elementnew(item.element, isNew, item.isLocked)).getOrThunk(() => elementnew(generators.gap(), true, false));\n          rowCells.push(element);\n        }\n        const rowDetail = warehouse.all[rowIndex];\n        const row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    const fromWarehouse = (warehouse, generators) => toGrid(warehouse, generators, false);\n    const toDetailList = grid => toDetails(grid, eq$1);\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find$1(r.cells, e => eq$1(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map$1(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const run = (operation, extract, adjustment, postAction, genWrappers) => (table, target, generators, behaviours) => {\n      const warehouse = Warehouse.fromTable(table);\n      const tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n      const output = extract(warehouse, target).map(info => {\n        const model = fromWarehouse(warehouse, generators);\n        const result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n        const lockedColumns = getLockedColumnsFromGrid(result.grid);\n        const grid = toDetailList(result.grid);\n        return {\n          info,\n          grid,\n          cursor: result.cursor,\n          lockedColumns\n        };\n      });\n      return output.bind(out => {\n        const newElements = render$1(table, out.grid);\n        const tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(() => TableSize.getTableSize(table));\n        const resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n        adjustment(table, out.grid, out.info, {\n          sizing: tableSizing,\n          resize: resizing,\n          section: tableSection\n        });\n        postAction(table);\n        remove$7(table, LOCKED_COL_ATTR);\n        if (out.lockedColumns.length > 0) {\n          set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n        }\n        return Optional.some({\n          cursor: out.cursor,\n          newRows: newElements.newRows,\n          newCells: newElements.newCells\n        });\n      });\n    };\n    const onPaste = (warehouse, target) => cell(target.element).bind(cell => findInWarehouse(warehouse, cell).map(details => {\n      const value = {\n        ...details,\n        generators: target.generators,\n        clipboard: target.clipboard\n      };\n      return value;\n    }));\n    const onPasteByEditor = (warehouse, target) => extractCells(warehouse, target, always).map(cells => ({\n      cells,\n      generators: target.generators,\n      clipboard: target.clipboard\n    }));\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const onUnlockedCells = (warehouse, target) => extractCells(warehouse, target, detail => !detail.isLocked);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const merge$2 = (grid, bounds, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          const row = rows[i];\n          const isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    const unmerge = (grid, target, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      let first = true;\n      for (let i = 0; i < rows.length; i++) {\n        for (let j = 0; j < cellLength(rows[0]); j++) {\n          const row = rows[i];\n          const currentCell = getCell(row, j);\n          const currentCellElm = currentCell.element;\n          const isToReplace = comparator(currentCellElm, target);\n          if (isToReplace && !first) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    const uniqueCells = (row, comparator) => {\n      return foldl(row, (rest, cell) => {\n        return exists(rest, currentCell => {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    const splitCols = (grid, index, comparator, substitution) => {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, row => {\n          const prevCell = row.cells[index - 1];\n          let offset = 0;\n          const substitute = substitution();\n          while (row.cells.length > index + offset && comparator(prevCell.element, row.cells[index + offset].element)) {\n            mutateCell(row, index + offset, elementnew(substitute, true, row.cells[index + offset].isLocked));\n            offset++;\n          }\n        });\n      }\n      return grid;\n    };\n    const splitRows = (grid, index, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        const rowPrevCells = rows[index - 1].cells;\n        const cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, cell => {\n          let replacement = Optional.none();\n          for (let i = index; i < rows.length; i++) {\n            for (let j = 0; j < cellLength(rows[0]); j++) {\n              const row = rows[i];\n              const current = getCell(row, j);\n              const isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(sub => {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const measure = (startAddress, gridA, gridB) => {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      const rowRemainder = gridA.slice(startAddress.row);\n      const colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      const colRequired = cellLength(gridB[0]);\n      const rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    const measureWidth = (gridA, gridB) => {\n      const colLengthA = cellLength(gridA[0]);\n      const colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    const measureHeight = (gridA, gridB) => {\n      const rowLengthA = gridA.length;\n      const rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    const generateElements = (amount, row, generators, isLocked) => {\n      const generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, idx => elementnew(generator(), true, isLocked(idx)));\n    };\n    const rowFill = (grid, amount, generators, lockedColumns) => {\n      const exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, () => {\n        const generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        const row = clone(exampleRow, generator, identity);\n        const elements = generateElements(row.cells.length, row, generators, idx => has$1(lockedColumns, idx.toString()));\n        return setCells(row, elements);\n      }));\n    };\n    const colFill = (grid, amount, generators, startIndex) => map$1(grid, row => {\n      const newChildren = generateElements(amount, row, generators, never);\n      return addCells(row, startIndex, newChildren);\n    });\n    const lockedColFill = (grid, generators, lockedColumns) => map$1(grid, row => {\n      return foldl(lockedColumns, (acc, colNum) => {\n        const newChild = generateElements(1, row, generators, always)[0];\n        return addCell(acc, colNum, newChild);\n      }, row);\n    });\n    const tailor = (gridA, delta, generators) => {\n      const fillCols = delta.colDelta < 0 ? colFill : identity;\n      const fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const gridWidth = cellLength(gridA[0]);\n      const isLastColLocked = exists(lockedColumns, locked => locked === gridWidth - 1);\n      const modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      const newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    const isSpanning = (grid, row, col, comparator) => {\n      const candidate = getCell(grid[row], col);\n      const matching = curry(comparator, candidate.element);\n      const currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    const mergeTables = (startAddress, gridA, gridBRows, generator, comparator, lockedColumns) => {\n      const startRow = startAddress.row;\n      const startCol = startAddress.column;\n      const mergeHeight = gridBRows.length;\n      const mergeWidth = cellLength(gridBRows[0]);\n      const endRow = startRow + mergeHeight;\n      const endCol = startCol + mergeWidth + lockedColumns.length;\n      const lockedColumnObj = mapToObject(lockedColumns, always);\n      for (let r = startRow; r < endRow; r++) {\n        let skippedCol = 0;\n        for (let c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          const gridBColIndex = c - startCol - skippedCol;\n          const newCell = getCell(gridBRows[r - startRow], gridBColIndex);\n          const newCellElm = newCell.element;\n          const replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    const getValidStartAddress = (currentStartAddress, grid, lockedColumns) => {\n      const gridColLength = cellLength(grid[0]);\n      const adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      const possibleColAddresses = range$1(gridColLength - currentStartAddress.column, num => num + currentStartAddress.column);\n      const validColAddress = find$1(possibleColAddresses, num => forall(lockedColumns, col => col !== num)).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    const getLockedColumnsWithinBounds = (startAddress, rows, lockedColumns) => filter$2(lockedColumns, colNum => colNum >= startAddress.column && colNum <= cellLength(rows[0]) + startAddress.column);\n    const merge$1 = (startAddress, gridA, gridB, generator, comparator) => {\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      const gridBRows = extractGridDetails(gridB).rows;\n      const lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      const result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(diff => {\n        const delta = {\n          ...diff,\n          colDelta: diff.colDelta - lockedColumnsWithinBounds.length\n        };\n        const fittedGrid = tailor(gridA, delta, generator);\n        const newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        const newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    const insertCols = (index, gridA, gridB, generator, comparator) => {\n      splitCols(gridA, index, comparator, generator.cell);\n      const delta = measureHeight(gridB, gridA);\n      const fittedNewGrid = tailor(gridB, delta, generator);\n      const secondDelta = measureHeight(gridA, fittedNewGrid);\n      const fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, (gridRow, i) => {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    const insertRows = (index, gridA, gridB, generator, comparator) => {\n      splitRows(gridA, index, comparator, generator.cell);\n      const locked = getLockedColumnsFromGrid(gridA);\n      const diff = measureWidth(gridA, gridB);\n      const delta = {\n        ...diff,\n        colDelta: diff.colDelta - locked.length\n      };\n      const fittedOldGrid = tailor(gridA, delta, generator);\n      const {\n        cols: oldCols,\n        rows: oldRows\n      } = extractGridDetails(fittedOldGrid);\n      const newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      const secondDiff = measureWidth(gridB, gridA);\n      const secondDelta = {\n        ...secondDiff,\n        colDelta: secondDiff.colDelta + newLocked.length\n      };\n      const fittedGridB = lockedColFill(gridB, generator, newLocked);\n      const fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return [\n        ...oldCols,\n        ...oldRows.slice(0, index),\n        ...fittedNewGrid,\n        ...oldRows.slice(index, oldRows.length)\n      ];\n    };\n\n    const cloneRow = (row, cloneCell, comparator, substitution) => clone(row, elem => substitution(elem, comparator), cloneCell);\n    const insertRowAt = (grid, index, example, comparator, substitution) => {\n      const {rows, cols} = extractGridDetails(grid);\n      const before = rows.slice(0, index);\n      const after = rows.slice(index);\n      const newRow = cloneRow(rows[example], (ex, c) => {\n        const withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        const ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return [\n        ...cols,\n        ...before,\n        newRow,\n        ...after\n      ];\n    };\n    const getElementFor = (row, column, section, withinSpan, example, comparator, substitution) => {\n      if (section === 'colgroup' || !withinSpan) {\n        const cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    const insertColumnAt = (grid, index, example, comparator, substitution) => map$1(grid, row => {\n      const withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n      const sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n      return addCell(row, index, sub);\n    });\n    const deleteColumnsAt = (grid, columns) => bind$2(grid, row => {\n      const existingCells = row.cells;\n      const cells = foldr(columns, (acc, column) => column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc, existingCells);\n      return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n    });\n    const deleteRowsAt = (grid, start, finish) => {\n      const {rows, cols} = extractGridDetails(grid);\n      return [\n        ...cols,\n        ...rows.slice(0, start),\n        ...rows.slice(finish + 1)\n      ];\n    };\n\n    const notInStartRow = (grid, rowIndex, colIndex, comparator) => getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    const notInStartColumn = (row, index, comparator) => index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    const isDuplicatedCell = (grid, rowIndex, colIndex, comparator) => notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    const rowReplacerPredicate = (targetRow, columnHeaders) => {\n      const entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : (cell, _rowIndex, colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    const columnReplacePredicate = (targetColumn, rowHeaders) => {\n      const entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : (cell, rowIndex, _colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    const determineScope = (applyScope, cell, newScope, isInHeader) => {\n      const hasSpan = scope => scope === 'row' ? hasRowspan(cell) : hasColspan(cell);\n      const getScope = scope => hasSpan(scope) ? `${ scope }group` : scope;\n      if (applyScope) {\n        return isHeaderCell(cell) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(cell)) {\n        const oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    const rowScopeGenerator = (applyScope, columnHeaders) => (cell, rowIndex, columnIndex) => Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n    const columnScopeGenerator = (applyScope, rowHeaders) => (cell, rowIndex) => Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n    const replace = (cell, comparator, substitute) => elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    const replaceIn = (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) => {\n      const isTarget = cell => {\n        return exists(targets, target => {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, (row, rowIndex) => {\n        return mapCells(row, (cell, colIndex) => {\n          if (isTarget(cell)) {\n            const newCell = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell, rowIndex, colIndex).each(scope => {\n              setOptions(newCell.element, { scope: Optional.from(scope) });\n            });\n            return newCell;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    const getColumnCells = (rows, columnIndex, comparator) => bind$2(rows, (row, i) => {\n      return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n    });\n    const getRowCells = (rows, rowIndex, comparator) => {\n      const targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, (item, i) => {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    const replaceColumns = (grid, indexes, applyScope, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targets = bind$2(indexes, index => getColumnCells(rows, index, comparator));\n      const rowHeaders = map$1(rows, row => isHeaderCells(row.cells));\n      const shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      const scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceRows = (grid, indexes, section, applyScope, comparator, substitution, tableSection) => {\n      const {cols, rows} = extractGridDetails(grid);\n      const targetRow = rows[indexes[0]];\n      const targets = bind$2(indexes, index => getRowCells(rows, index, comparator));\n      const columnHeaders = map$1(targetRow.cells, (_cell, index) => isHeaderCells(getColumnCells(rows, index, comparator)));\n      const newRows = [...rows];\n      each$2(indexes, index => {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      const newGrid = [\n        ...cols,\n        ...newRows\n      ];\n      const shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      const scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceCells = (grid, details, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targetCells = map$1(details, detail => getCell(rows[detail.row], detail.column));\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$2(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt$6 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    const ColumnContext = { ...adt$6 };\n\n    const neighbours = (input, index) => {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    const determine = (input, column, step, tableSize, resize) => {\n      const result = input.slice(0);\n      const context = neighbours(input, column);\n      const onNone = constant(map$1(result, constant(0)));\n      const onOnly = index => tableSize.singleColumnWidth(result[index], step);\n      const onLeft = (index, next) => resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onMiddle = (prev, index, next) => resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onRight = (prev, index) => resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    const total = (start, end, measures) => {\n      let r = 0;\n      for (let i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    const recalculateWidthForCells = (warehouse, widths) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    const recalculateWidthForColumns = (warehouse, widths) => {\n      const groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, (column, index) => ({\n        element: column.element,\n        width: widths[index],\n        colspan: column.colspan\n      }));\n    };\n    const matchRowHeight = (warehouse, heights) => {\n      return map$1(warehouse.all, (row, i) => {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    const sumUp = newSize => foldr(newSize, (b, a) => b + a, 0);\n    const recalculate = (warehouse, widths) => {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    const recalculateAndApply = (warehouse, widths, tableSize) => {\n      const newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, cell => {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    const adjustWidth = (table, delta, index, resizing, tableSize) => {\n      const warehouse = Warehouse.fromTable(table);\n      const step = tableSize.getCellDelta(delta);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      const isLastColumn = index === warehouse.grid.columns - 1;\n      const clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      const deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      const newWidths = map$1(deltas, (dx, i) => dx + widths[i]);\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    const adjustHeight = (table, delta, index) => {\n      const warehouse = Warehouse.fromTable(table);\n      const heights = getPixelHeights(warehouse, table);\n      const newHeights = map$1(heights, (dy, i) => index === i ? Math.max(delta + dy, minHeight()) : dy);\n      const newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, row => {\n        setHeight(row.element, row.height);\n      });\n      each$2(Warehouse.justCells(warehouse), cell => {\n        removeHeight(cell.element);\n      });\n      const total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    const adjustAndRedistributeWidths$1 = (_table, list, details, tableSize, resizeBehaviour) => {\n      const warehouse = Warehouse.generate(list);\n      const sizes = tableSize.getWidths(warehouse, tableSize);\n      const tablePixelWidth = tableSize.pixelWidth();\n      const {newSizes, delta} = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative);\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    const adjustWidthTo = (_table, list, _info, tableSize) => {\n      const warehouse = Warehouse.generate(list);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    const uniqueColumns = details => {\n      const uniqueCheck = (rest, detail) => {\n        const columnExists = exists(rest, currentDetail => currentDetail.column === detail.column);\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort((detailA, detailB) => detailA.column - detailB.column);\n    };\n\n    const isCol = isTag('col');\n    const isColgroup = isTag('colgroup');\n    const isRow$1 = element => name(element) === 'tr' || isColgroup(element);\n    const elementToData = element => {\n      const colspan = getAttrValue(element, 'colspan', 1);\n      const rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element,\n        colspan,\n        rowspan\n      };\n    };\n    const modification = (generators, toData = elementToData) => {\n      const nuCell = data => isCol(data.element) ? generators.col(data) : generators.cell(data);\n      const nuRow = data => isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      const add = element => {\n        if (isRow$1(element)) {\n          return nuRow({ element });\n        } else {\n          const cell = element;\n          const replacement = nuCell(toData(cell));\n          recent = Optional.some({\n            item: cell,\n            replacement\n          });\n          return replacement;\n        }\n      };\n      let recent = Optional.none();\n      const getOrInit = (element, comparator) => {\n        return recent.fold(() => {\n          return add(element);\n        }, p => {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit };\n    };\n    const transform$1 = tag => {\n      return generators => {\n        const list = [];\n        const find = (element, comparator) => {\n          return find$1(list, x => {\n            return comparator(x.item, element);\n          });\n        };\n        const makeNew = element => {\n          const attrs = tag === 'td' ? { scope: null } : {};\n          const cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        const replaceOrInit = (element, comparator) => {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            const cell = element;\n            return find(cell, comparator).fold(() => {\n              return makeNew(cell);\n            }, p => {\n              return comparator(element, p.item) ? p.sub : makeNew(cell);\n            });\n          }\n        };\n        return { replaceOrInit };\n      };\n    };\n    const getScopeAttribute = cell => getOpt(cell, 'scope').map(attribute => attribute.substr(0, 3));\n    const merging = generators => {\n      const unmerge = cell => {\n        const scope = getScopeAttribute(cell);\n        scope.each(attribute => set$2(cell, 'scope', attribute));\n        return () => {\n          const raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$5(raw, 'width');\n          remove$5(cell, 'width');\n          scope.each(attribute => set$2(raw, 'scope', attribute));\n          return raw;\n        };\n      };\n      const merge = cells => {\n        const getScopeProperty = () => {\n          const stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            const baseScope = stringAttributes[0];\n            const scopes = [\n              'row',\n              'col'\n            ];\n            const isMixed = exists(stringAttributes, attribute => {\n              return attribute !== baseScope && contains$2(scopes, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope);\n          }\n        };\n        remove$5(cells[0], 'width');\n        getScopeProperty().fold(() => remove$7(cells[0], 'scope'), attribute => set$2(cells[0], 'scope', attribute + 'group'));\n        return constant(cells[0]);\n      };\n      return {\n        unmerge,\n        merge\n      };\n    };\n    const Generators = {\n      modification,\n      transform: transform$1,\n      merging\n    };\n\n    const blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    const isList$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    const isBlock$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    const isEmptyTag$1 = (universe, item) => {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    const universe$1 = DomUniverse();\n    const isBlock = element => {\n      return isBlock$1(universe$1, element);\n    };\n    const isList = element => {\n      return isList$1(universe$1, element);\n    };\n    const isEmptyTag = element => {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    const merge = cells => {\n      const isBr = isTag('br');\n      const advancedBr = children => {\n        return forall(children, c => {\n          return isBr(c) || isText(c) && get$6(c).trim().length === 0;\n        });\n      };\n      const isListItem = el => {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      const siblingIsBlock = el => {\n        return nextSibling(el).map(rightSibling => {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      const markCell = cell => {\n        return last$1(cell).bind(rightEdge => {\n          const rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(parent => {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      const markContent = () => {\n        const content = bind$2(cells, cell => {\n          const children = children$2(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      const contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    const isEditable = elem => isEditable$1(elem, true);\n    const prune = table => {\n      const cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$6(table);\n      }\n    };\n    const outcome = (grid, cursor) => ({\n      grid,\n      cursor\n    });\n    const findEditableCursorPosition = rows => findMap(rows, row => findMap(row.cells, cell => {\n      const elem = cell.element;\n      return someIf(isEditable(elem), elem);\n    }));\n    const elementFromGrid = (grid, row, column) => {\n      var _a, _b;\n      const rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(() => findEditableCursorPosition(rows));\n    };\n    const bundle = (grid, row, column) => {\n      const cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    const uniqueRows = details => {\n      const rowCompilation = (rest, detail) => {\n        const rowExists = exists(rest, currentDetail => currentDetail.row === detail.row);\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort((detailA, detailB) => detailA.row - detailB.row);\n    };\n    const opInsertRowsBefore = (grid, details, comparator, genWrappers) => {\n      const targetIndex = details[0].row;\n      const rows = uniqueRows(details);\n      const newGrid = foldr(rows, (acc, row) => {\n        const newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertRowsAfter = (grid, details, comparator, genWrappers) => {\n      const rows = uniqueRows(details);\n      const target = rows[rows.length - 1];\n      const targetIndex = target.row + target.rowspan;\n      const newGrid = foldr(rows, (newG, row) => {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertColumnsBefore = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const columns = uniqueColumns(details);\n      const targetIndex = columns[0].column;\n      const newGrid = foldr(columns, (acc, col) => {\n        const newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opInsertColumnsAfter = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const target = details[details.length - 1];\n      const targetIndex = target.column + target.colspan;\n      const columns = uniqueColumns(details);\n      const newGrid = foldr(columns, (newG, col) => {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opMakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const makeRowsSection = (section, applyScope) => (initialGrid, details, comparator, genWrappers, tableSection) => {\n      const rows = uniqueRows(details);\n      const rowIndexes = map$1(rows, detail => detail.row);\n      const newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeRowsHeader = makeRowsSection('thead', true);\n    const opMakeRowsBody = makeRowsSection('tbody', false);\n    const opMakeRowsFooter = makeRowsSection('tfoot', false);\n    const opEraseColumns = (grid, extractDetail, _comparator, _genWrappers) => {\n      const columns = uniqueColumns(extractDetail.details);\n      const newGrid = deleteColumnsAt(grid, map$1(columns, column => column.column));\n      const maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    const opEraseRows = (grid, details, _comparator, _genWrappers) => {\n      const rows = uniqueRows(details);\n      const newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      const maxRowIndex = Math.max(extractGridDetails(newGrid).rows.length - 1, 0);\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    const opMergeCells = (grid, mergable, comparator, genWrappers) => {\n      const cells = mergable.cells;\n      merge(cells);\n      const newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    const opUnmergeCells = (grid, unmergable, comparator, genWrappers) => {\n      const unmerge$1 = (b, cell) => unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      const newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    const opPasteCells = (grid, pasteDetails, comparator, _genWrappers) => {\n      const gridify = (table, generators) => {\n        const wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      const gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      const startAddress = address(pasteDetails.row, pasteDetails.column);\n      const mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(() => outcome(grid, Optional.some(pasteDetails.element)), newGrid => {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    const gridifyRows = (rows, generators, context) => {\n      const pasteDetails = fromPastedRows(rows, context.section);\n      const wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    const opPasteColsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].column;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteColsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, index);\n    };\n    const opPasteRowsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].row;\n      const context = rows[index];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, index, pasteDetails.cells[0].column);\n    };\n    const opGetColumnsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const selectedColumnCells = flatten(map$1(house.all, row => filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange)));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    const opGetCellsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const resize = (table, list, details, behaviours) => adjustWidthTo(table, list, details, behaviours.sizing);\n    const adjustAndRedistributeWidths = (table, list, details, behaviours) => adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    const firstColumnIsLocked = (_warehouse, details) => exists(details, detail => detail.column === 0 && detail.isLocked);\n    const lastColumnIsLocked = (warehouse, details) => exists(details, detail => detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked);\n    const getColumnsWidth = (warehouse, details) => {\n      const columns$1 = columns(warehouse);\n      const uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, (acc, detail) => {\n        const column = columns$1[detail.column];\n        const colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    const insertColumnsExtractor = before => (warehouse, target) => onCells(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details);\n    }).map(details => ({\n      details,\n      pixelDelta: getColumnsWidth(warehouse, details)\n    }));\n    const eraseColumnsExtractor = (warehouse, target) => onUnlockedCells(warehouse, target).map(details => ({\n      details,\n      pixelDelta: -getColumnsWidth(warehouse, details)\n    }));\n    const pasteColumnsExtractor = before => (warehouse, target) => onPasteByEditor(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details.cells);\n    });\n    const headerCellGenerator = Generators.transform('th');\n    const bodyCellGenerator = Generators.transform('td');\n    const insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    const insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    const insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    const insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    const eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    const eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    const makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsHeader = run(opMakeRowsHeader, onCells, noop, noop, headerCellGenerator);\n    const makeRowsBody = run(opMakeRowsBody, onCells, noop, noop, bodyCellGenerator);\n    const makeRowsFooter = run(opMakeRowsFooter, onCells, noop, noop, bodyCellGenerator);\n    const makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    const unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    const pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    const pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    const pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    const pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    const pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    const getColumnsType = opGetColumnsType;\n    const getCellsType = opGetCellsType;\n    const getRowsType = opGetRowsType;\n\n    const fireNewRow = (editor, row) => editor.dispatch('NewRow', { node: row });\n    const fireNewCell = (editor, cell) => editor.dispatch('NewCell', { node: cell });\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n    const fireTableSelectionChange = (editor, cells, start, finish, otherCells) => {\n      editor.dispatch('TableSelectionChange', {\n        cells,\n        start,\n        finish,\n        otherCells\n      });\n    };\n    const fireTableSelectionClear = editor => {\n      editor.dispatch('TableSelectionClear');\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const styleModified = {\n      structure: false,\n      style: true\n    };\n    const structureModified = {\n      structure: true,\n      style: false\n    };\n    const styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    const get$5 = (editor, table) => {\n      if (isTablePercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isTablePixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    const TableActions = (editor, resizeHandler, cellSelectionHandler) => {\n      const isTableBody = editor => name(getBody(editor)) === 'table';\n      const lastRowGuard = table => !isTableBody(editor) || getGridSize(table).rows > 1;\n      const lastColumnGuard = table => !isTableBody(editor) || getGridSize(table).columns > 1;\n      const cloneFormats = getTableCloneElements(editor);\n      const colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      const getTableSectionType = table => {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      const setSelectionFromAction = (table, result) => result.cursor.fold(() => {\n        const cells = cells$1(table);\n        return head(cells).filter(inBody).map(firstCell => {\n          cellSelectionHandler.clearSelectedCells(table.dom);\n          const rng = editor.dom.createRng();\n          rng.selectNode(firstCell.dom);\n          editor.selection.setRng(rng);\n          set$2(firstCell, 'data-mce-selected', '1');\n          return rng;\n        });\n      }, cell => {\n        const des = freefallRtl(cell);\n        const rng = editor.dom.createRng();\n        rng.setStart(des.element.dom, des.offset);\n        rng.setEnd(des.element.dom, des.offset);\n        editor.selection.setRng(rng);\n        cellSelectionHandler.clearSelectedCells(table.dom);\n        return Optional.some(rng);\n      });\n      const execute = (operation, guard, mutate, effect) => (table, target, noEvents = false) => {\n        removeDataStyle(table);\n        const doc = SugarElement.fromDom(editor.getDoc());\n        const generators = cellOperations(mutate, doc, cloneFormats);\n        const behaviours = {\n          sizing: get$5(editor, table),\n          resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n          section: getTableSectionType(table)\n        };\n        return guard(table) ? operation(table, target, generators, behaviours).bind(result => {\n          resizeHandler.refresh(table.dom);\n          each$2(result.newRows, row => {\n            fireNewRow(editor, row.dom);\n          });\n          each$2(result.newCells, cell => {\n            fireNewCell(editor, cell.dom);\n          });\n          const range = setSelectionFromAction(table, result);\n          if (inBody(table)) {\n            removeDataStyle(table);\n            if (!noEvents) {\n              fireTableModified(editor, table.dom, effect);\n            }\n          }\n          return range.map(rng => ({\n            rng,\n            effect\n          }));\n        }) : Optional.none();\n      };\n      const deleteRow = execute(eraseRows, lastRowGuard, noop, structureModified);\n      const deleteColumn = execute(eraseColumns, lastColumnGuard, noop, structureModified);\n      const insertRowsBefore$1 = execute(insertRowsBefore, always, noop, structureModified);\n      const insertRowsAfter$1 = execute(insertRowsAfter, always, noop, structureModified);\n      const insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, structureModified);\n      const insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, structureModified);\n      const mergeCells$1 = execute(mergeCells, always, noop, structureModified);\n      const unmergeCells$1 = execute(unmergeCells, always, noop, structureModified);\n      const pasteColsBefore$1 = execute(pasteColsBefore, always, noop, structureModified);\n      const pasteColsAfter$1 = execute(pasteColsAfter, always, noop, structureModified);\n      const pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, structureModified);\n      const pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, structureModified);\n      const pasteCells$1 = execute(pasteCells, always, noop, styleAndStructureModified);\n      const makeCellsHeader$1 = execute(makeCellsHeader, always, noop, structureModified);\n      const unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, structureModified);\n      const makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, structureModified);\n      const unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, structureModified);\n      const makeRowsHeader$1 = execute(makeRowsHeader, always, noop, structureModified);\n      const makeRowsBody$1 = execute(makeRowsBody, always, noop, structureModified);\n      const makeRowsFooter$1 = execute(makeRowsFooter, always, noop, structureModified);\n      const getTableCellType = getCellsType;\n      const getTableColType = getColumnsType;\n      const getTableRowType = getRowsType;\n      return {\n        deleteRow,\n        deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType,\n        getTableCellType,\n        getTableColType\n      };\n    };\n\n    const constrainSpan = (element, property, value) => {\n      const currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    const isColInRange = (minColRange, maxColRange) => cell => {\n      const endCol = cell.column + cell.colspan - 1;\n      const startCol = cell.column;\n      return endCol >= minColRange && startCol < maxColRange;\n    };\n    const generateColGroup = (house, minColRange, maxColRange) => {\n      if (Warehouse.hasColumns(house)) {\n        const colsToCopy = filter$2(Warehouse.justColumns(house), isColInRange(minColRange, maxColRange));\n        const copiedCols = map$1(colsToCopy, c => {\n          const clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        const fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    const generateRows = (house, minColRange, maxColRange) => map$1(house.all, row => {\n      const cellsToCopy = filter$2(row.cells, isColInRange(minColRange, maxColRange));\n      const copiedCells = map$1(cellsToCopy, cell => {\n        const clonedCell = deep(cell.element);\n        constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n        return clonedCell;\n      });\n      const fakeTR = SugarElement.fromTag('tr');\n      append(fakeTR, copiedCells);\n      return fakeTR;\n    });\n    const copyCols = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onUnlockedCells(house, target);\n      return details.map(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        const fakeRows = generateRows(house, minColRange, maxColRange);\n        return [\n          ...fakeColGroups,\n          ...fakeRows\n        ];\n      });\n    };\n\n    const copyRows = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.bind(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const rows = extractGridDetails(grid).rows;\n        const slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        const filteredGrid = bind$2(slicedGrid, row => {\n          const newCells = filter$2(row.cells, cell => !cell.isLocked);\n          return newCells.length > 0 ? [{\n              ...row,\n              cells: newCells\n            }] : [];\n        });\n        const slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(slicedDetails => copy(slicedDetails));\n    };\n\n    const adt$5 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    const validateFor = (suffix, type, value) => {\n      const rawAmount = value.substring(0, value.length - suffix.length);\n      const amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$5.invalid(value);\n    };\n    const from = value => {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$5.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$5.pixels, value);\n      }\n      return adt$5.invalid(value);\n    };\n    const Size = {\n      ...adt$5,\n      from\n    };\n\n    const redistributeToPercent = (widths, totalWidth) => {\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          const ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, pc => {\n          return pc + '%';\n        });\n      });\n    };\n    const redistributeToPx = (widths, totalWidth, newTotalWidth) => {\n      const scale = newTotalWidth / totalWidth;\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          return px * scale + 'px';\n        }, pc => {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    const redistributeEmpty = (newWidthType, columns) => {\n      const f = newWidthType.fold(() => constant(''), pixels => {\n        const num = pixels / columns;\n        return constant(num + 'px');\n      }, () => {\n        const num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    const redistributeValues = (newWidthType, widths, totalWidth) => {\n      return newWidthType.fold(() => {\n        return widths;\n      }, px => {\n        return redistributeToPx(widths, totalWidth, px);\n      }, _pc => {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    const redistribute$1 = (widths, totalWidth, newWidth) => {\n      const newType = Size.from(newWidth);\n      const floats = forall(widths, s => {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    const sum = (values, fallback) => {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, (rest, v) => {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    const roundDown = (num, unit) => {\n      const floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    const add$3 = (value, amount) => {\n      return Size.from(value).fold(constant(value), px => {\n        return px + amount + 'px';\n      }, pc => {\n        return pc + amount + '%';\n      });\n    };\n    const normalize = values => {\n      if (values.length === 0) {\n        return values;\n      }\n      const scan = foldr(values, (rest, value) => {\n        const info = Size.from(value).fold(() => ({\n          value,\n          remainder: 0\n        }), num => roundDown(num, 'px'), num => ({\n          value: num + '%',\n          remainder: 0\n        }));\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      const r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    const validate = Size.from;\n\n    const redistributeToW = (newWidths, cells, unit) => {\n      each$2(cells, cell => {\n        const widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        const w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    const redistributeToColumns = (newWidths, columns, unit) => {\n      each$2(columns, (column, index) => {\n        const width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    const redistributeToH = (newHeights, rows, cells) => {\n      each$2(cells, cell => {\n        remove$5(cell.element, 'height');\n      });\n      each$2(rows, (row, i) => {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    const getUnit = newSize => {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    const redistribute = (table, optWidth, optHeight) => {\n      const warehouse = Warehouse.fromTable(table);\n      const rows = warehouse.all;\n      const cells = Warehouse.justCells(warehouse);\n      const columns = Warehouse.justColumns(warehouse);\n      optWidth.each(newWidth => {\n        const widthUnit = getUnit(newWidth);\n        const totalWidth = get$9(table);\n        const oldWidths = getRawWidths(warehouse, table);\n        const nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(newHeight => {\n        const totalHeight = get$8(table);\n        const oldHeights = getRawHeights(warehouse, table);\n        const nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    const isPercentSizing = isPercentSizing$1;\n    const isPixelSizing = isPixelSizing$1;\n    const isNoneSizing = isNoneSizing$1;\n\n    const cleanupLegacyAttributes = element => {\n      remove$7(element, 'width');\n      remove$7(element, 'height');\n    };\n    const convertToPercentSizeWidth = table => {\n      const newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSizeWidth = table => {\n      const newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSizeHeight = table => {\n      const newHeight = getPixelTableHeight(table);\n      redistribute(table, Optional.none(), Optional.some(newHeight));\n      cleanupLegacyAttributes(table);\n    };\n    const convertToNoneSizeWidth = table => {\n      remove$5(table, 'width');\n      const columns = columns$1(table);\n      const rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, cell => {\n        remove$5(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    const DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    const tableHeaderCell = () => SugarElement.fromTag('th');\n    const tableCell = () => SugarElement.fromTag('td');\n    const tableColumn = () => SugarElement.fromTag('col');\n    const createRow = (columns, rowHeaders, columnHeaders, rowIndex) => {\n      const tr = SugarElement.fromTag('tr');\n      for (let j = 0; j < columns; j++) {\n        const td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    const createGroupRow = columns => {\n      const columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, () => append$1(columnGroup, tableColumn()));\n      return columnGroup;\n    };\n    const createRows = (rows, columns, rowHeaders, columnHeaders) => range$1(rows, r => createRow(columns, rowHeaders, columnHeaders, r));\n    const render = (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts = DefaultRenderOptions) => {\n      const table = SugarElement.fromTag('table');\n      const rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      const actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        const thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        const theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        const theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      const tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      const numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      const numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      const tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    const get$4 = element => element.dom.innerHTML;\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$4(container);\n    };\n\n    const placeCaretInCell = (editor, cell) => {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    const selectFirstCellInTable = (editor, tableElm) => {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    const fireEvents = (editor, table) => {\n      each$2(descendants(table, 'tr'), row => {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), cell => {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    const isPercentage = width => isString(width) && width.indexOf('%') !== -1;\n    const insert = (editor, columns, rows, colHeaders, rowHeaders) => {\n      const defaultStyles = getTableDefaultStyles(editor);\n      const options = {\n        styles: defaultStyles,\n        attributes: getTableDefaultAttributes(editor),\n        colGroups: tableUseColumnGroup(editor)\n      };\n      editor.undoManager.ignore(() => {\n        const table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        const html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(table => {\n        if (isTablePixelsForced(editor)) {\n          convertToPixelSizeWidth(table);\n        } else if (isTableResponsiveForced(editor)) {\n          convertToNoneSizeWidth(table);\n        } else if (isTablePercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          convertToPercentSizeWidth(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOrNull();\n    };\n    const insertTable = (editor, rows, columns, options = {}) => {\n      const checkInput = val => isNumber(val) && val > 0;\n      if (checkInput(rows) && checkInput(columns)) {\n        const headerRows = options.headerRows || 0;\n        const headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error('Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        return null;\n      }\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const setData = items => {\n      const fakeClipboardItem = global.FakeClipboardItem(items);\n      global.write([fakeClipboardItem]);\n    };\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const clearData = type => {\n      if (getData(type).isSome()) {\n        global.clear();\n      }\n    };\n    const setRows = rowsOpt => {\n      rowsOpt.fold(clearRows, rows => setData({ [tableTypeRow]: rows }));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const clearRows = () => clearData(tableTypeRow);\n    const setColumns = columnsOpt => {\n      columnsOpt.fold(clearColumns, columns => setData({ [tableTypeColumn]: columns }));\n    };\n    const getColumns = () => getData(tableTypeColumn);\n    const clearColumns = () => clearData(tableTypeColumn);\n\n    const getSelectionStartCellOrCaption = editor => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const getSelectionStartCell = editor => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const registerCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const eraseTable = () => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        table(cellOrCaption, isRoot).filter(not(isRoot)).each(table => {\n          const cursor = SugarElement.fromText('');\n          after$5(table, cursor);\n          remove$6(table);\n          if (editor.dom.isEmpty(editor.getBody())) {\n            editor.setContent('');\n            editor.selection.setCursorLocation();\n          } else {\n            const rng = editor.dom.createRng();\n            rng.setStart(cursor.dom, 0);\n            rng.setEnd(cursor.dom, 0);\n            editor.selection.setRng(rng);\n            editor.nodeChanged();\n          }\n        });\n      });\n      const setSizingMode = sizing => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        const isForcedSizing = isTableResponsiveForced(editor) || isTablePixelsForced(editor) || isTablePercentagesForced(editor);\n        if (!isForcedSizing) {\n          table(cellOrCaption, isRoot).each(table => {\n            if (sizing === 'relative' && !isPercentSizing(table)) {\n              convertToPercentSizeWidth(table);\n            } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n              convertToPixelSizeWidth(table);\n            } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n              convertToNoneSizeWidth(table);\n            }\n            removeDataStyle(table);\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        }\n      });\n      const getTableFromCell = cell => table(cell, isRoot);\n      const performActionOnSelection = action => getSelectionStartCell(editor).bind(cell => getTableFromCell(cell).map(table => action(table, cell)));\n      const toggleTableClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleTableCellClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          const selectedCells = getCellsFromSelection(editor);\n          const allHaveClass = forall(selectedCells, cell => editor.formatter.match('tablecellclass', { value: clazz }, cell.dom));\n          const formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, cell => formatterAction('tablecellclass', { value: clazz }, cell.dom));\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleCaption = () => {\n        getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n          table(cellOrCaption, isRoot).each(table => {\n            child(table, 'caption').fold(() => {\n              const caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, caption => {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(td => editor.selection.setCursorLocation(td.dom, 0));\n              }\n              remove$6(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      const postExecute = _data => {\n        editor.focus();\n      };\n      const actOnSelection = (execute, noEvents = false) => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        execute(table, targets, noEvents).each(postExecute);\n      });\n      const copyRowSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n        return copyRows(table, targets, generators);\n      });\n      const copyColSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        return copyCols(table, targets);\n      });\n      const pasteOnSelection = (execute, getRows) => getRows().each(rows => {\n        const clonedRows = map$1(rows, row => deep(row));\n        performActionOnSelection((table, startCell) => {\n          const generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n          const targets = pasteRows(getCellsFromSelection(editor), startCell, clonedRows, generators);\n          execute(table, targets).each(postExecute);\n        });\n      });\n      const actOnType = getAction => (_ui, args) => get$c(args, 'type').each(type => {\n        actOnSelection(getAction(type), args.no_events);\n      });\n      each$1({\n        mceTableSplitCells: () => actOnSelection(actions.unmergeCells),\n        mceTableMergeCells: () => actOnSelection(actions.mergeCells),\n        mceTableInsertRowBefore: () => actOnSelection(actions.insertRowsBefore),\n        mceTableInsertRowAfter: () => actOnSelection(actions.insertRowsAfter),\n        mceTableInsertColBefore: () => actOnSelection(actions.insertColumnsBefore),\n        mceTableInsertColAfter: () => actOnSelection(actions.insertColumnsAfter),\n        mceTableDeleteCol: () => actOnSelection(actions.deleteColumn),\n        mceTableDeleteRow: () => actOnSelection(actions.deleteRow),\n        mceTableCutCol: () => copyColSelection().each(selection => {\n          setColumns(selection);\n          actOnSelection(actions.deleteColumn);\n        }),\n        mceTableCutRow: () => copyRowSelection().each(selection => {\n          setRows(selection);\n          actOnSelection(actions.deleteRow);\n        }),\n        mceTableCopyCol: () => copyColSelection().each(selection => setColumns(selection)),\n        mceTableCopyRow: () => copyRowSelection().each(selection => setRows(selection)),\n        mceTablePasteColBefore: () => pasteOnSelection(actions.pasteColsBefore, getColumns),\n        mceTablePasteColAfter: () => pasteOnSelection(actions.pasteColsAfter, getColumns),\n        mceTablePasteRowBefore: () => pasteOnSelection(actions.pasteRowsBefore, getRows),\n        mceTablePasteRowAfter: () => pasteOnSelection(actions.pasteRowsAfter, getRows),\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: (_ui, sizing) => setSizingMode(sizing),\n        mceTableCellType: actOnType(type => type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader),\n        mceTableColType: actOnType(type => type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader),\n        mceTableRowType: actOnType(type => {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, (func, name) => editor.addCommand(name, func));\n      editor.addCommand('mceInsertTable', (_ui, args) => {\n        insertTable(editor, args.rows, args.columns, args.options);\n      });\n      editor.addCommand('mceTableApplyCellStyle', (_ui, args) => {\n        const getFormatName = style => 'tablecell' + style.toLowerCase().replace('-', '');\n        if (!isObject(args)) {\n          return;\n        }\n        const cells = filter$2(getCellsFromSelection(editor), isInEditableContext$1);\n        if (cells.length === 0) {\n          return;\n        }\n        const validArgs = filter$1(args, (value, style) => editor.formatter.has(getFormatName(style)) && isString(value));\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, (value, style) => {\n          const formatName = getFormatName(style);\n          each$2(cells, cell => {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, cell.dom, true);\n            } else {\n              editor.formatter.apply(formatName, { value }, cell.dom);\n            }\n          });\n        });\n        getTableFromCell(cells[0]).each(table => fireTableModified(editor, table.dom, styleModified));\n      });\n    };\n\n    const registerQueryCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const lookupOnSelection = action => getSelectionCell(getSelectionStart(editor)).bind(cell => table(cell, isRoot).map(table => {\n        const targets = forMenu(getCellsFromSelection(editor), table, cell);\n        return action(table, targets);\n      })).getOr('');\n      each$1({\n        mceTableRowType: () => lookupOnSelection(actions.getTableRowType),\n        mceTableCellType: () => lookupOnSelection(actions.getTableCellType),\n        mceTableColType: () => lookupOnSelection(actions.getTableColType)\n      }, (func, name) => editor.addQueryValueHandler(name, func));\n    };\n\n    const adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata$1 = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before$2 = adt$4.before;\n    const on = adt$4.on;\n    const after$3 = adt$4.after;\n    const Situ = {\n      before: before$2,\n      on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    const create$4 = (selection, kill) => ({\n      selection,\n      kill\n    });\n    const Response = { create: create$4 };\n\n    const selectNode = (win, element) => {\n      const rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    const selectNodeContents = (win, element) => {\n      const rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    const selectNodeContentsUsing = (rng, element) => rng.selectNodeContents(element.dom);\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const create$2 = (start, soffset, finish, foffset) => {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    const Situs = { create: create$2 };\n\n    const convertToRange = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    const makeSitus = Situs.create;\n\n    const sync = (container, isRoot, start, soffset, finish, foffset, selectRange) => {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(s => {\n          return closest$1(finish, 'td,th', isRoot).bind(f => {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const detect = (container, isRoot, start, finish, selectRange) => {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const update = (rows, columns, container, selected, annotations) => {\n      const updateSelection = newSels => {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    const traverse = (item, mode) => ({\n      item,\n      mode\n    });\n    const backtrack = (universe, item, _direction, transition = sidestep) => {\n      return universe.property().parent(item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const sidestep = (universe, item, direction, transition = advance) => {\n      return direction.sibling(universe, item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const advance = (universe, item, direction, transition = advance) => {\n      const children = universe.property().children(item);\n      const result = direction.first(children);\n      return result.map(r => {\n        return traverse(r, transition);\n      });\n    };\n    const successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    const go = (universe, item, mode, direction, rules = successors) => {\n      const ruleOpt = find$1(rules, succ => {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(rule => {\n        return rule.current(universe, item, direction, rule.next).orThunk(() => {\n          return rule.fallback.bind(fb => {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    const left$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().prevSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const right$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().nextSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    const hone = (universe, item, predicate, mode, direction, isRoot) => {\n      const next = go(universe, item, mode, direction);\n      return next.bind(n => {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    const left = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    const right = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    const isLeaf = universe => element => universe.property().children(element).length === 0;\n    const before$1 = (universe, item, isRoot) => {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const after$2 = (universe, item, isRoot) => {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const seekLeft$1 = left;\n    const seekRight$1 = right;\n\n    const universe = DomUniverse();\n    const before = (element, isRoot) => {\n      return before$1(universe, element, isRoot);\n    };\n    const after$1 = (element, isRoot) => {\n      return after$2(universe, element, isRoot);\n    };\n    const seekLeft = (element, predicate, isRoot) => {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    const seekRight = (element, predicate, isRoot) => {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    const ancestor = (scope, predicate, isRoot) => ancestor$2(scope, predicate, isRoot).isSome();\n\n    const adt$2 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    const isOverlapping = (bridge, before, after) => {\n      const beforeBounds = bridge.getRect(before);\n      const afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    const isRow = elem => {\n      return closest$1(elem, 'tr');\n    };\n    const verify = (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) => {\n      return closest$1(after, 'td,th', isRoot).bind(afterCell => {\n        return closest$1(before, 'td,th', isRoot).map(beforeCell => {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(() => {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$2.success() : failure(beforeCell);\n            }, _sharedRow => {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$2.none('in same cell');\n          }\n        });\n      }).getOr(adt$2.none('default'));\n    };\n    const cata = (subject, onNone, onSuccess, onFailedUp, onFailedDown) => {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    const BeforeAfter = {\n      ...adt$2,\n      verify,\n      cata\n    };\n\n    const inParent = (parent, children, element, index) => ({\n      parent,\n      children,\n      element,\n      index\n    });\n    const indexInParent = element => parent(element).bind(parent => {\n      const children = children$2(parent);\n      return indexOf(children, element).map(index => inParent(parent, children, element, index));\n    });\n    const indexOf = (elements, element) => findIndex(elements, curry(eq$1, element));\n\n    const isBr = isTag('br');\n    const gatherer = (cand, gather, isRoot) => {\n      return gather(cand, isRoot).bind(target => {\n        return isText(target) && get$6(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    const handleBr = (isRoot, element, direction) => {\n      return direction.traverse(element).orThunk(() => {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    const findBr = (element, offset) => {\n      return child$2(element, offset).filter(isBr).orThunk(() => {\n        return child$2(element, offset - 1).filter(isBr);\n      });\n    };\n    const handleParent = (isRoot, element, offset, direction) => {\n      return findBr(element, offset).bind(br => {\n        return direction.traverse(br).fold(() => {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, adjacent => {\n          return indexInParent(adjacent).map(info => {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    const tryBr = (isRoot, element, offset, direction) => {\n      const target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(tgt => {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    const process = analysis => {\n      return BeforeAfter.cata(analysis, _message => {\n        return Optional.none();\n      }, () => {\n        return Optional.none();\n      }, cell => {\n        return Optional.some(point(cell, 0));\n      }, cell => {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    const moveDown = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    const moveUp = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    const translate = (caret, xDelta, yDelta) => {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    const getTop = caret => {\n      return caret.top;\n    };\n    const getBottom = caret => {\n      return caret.bottom;\n    };\n\n    const getPartialBox = (bridge, element, offset) => {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    const toCaret = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom\n    });\n    const getElemBox = (bridge, element) => {\n      return Optional.some(bridge.getRect(element));\n    };\n    const getBoxAt = (bridge, element, offset) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    const getEntireBox = (bridge, element) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const JUMP_SIZE = 5;\n    const NUM_RETRIES = 100;\n    const adt$1 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    const isOutside = (caret, box) => {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    const inOutsideBlock = (bridge, element, caret) => {\n      return closest$2(element, isBlock).fold(never, cell => {\n        return getEntireBox(bridge, cell).exists(box => {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    const adjustDown = (bridge, element, guessBox, original, caret) => {\n      const lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt$1.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const adjustUp = (bridge, element, guessBox, original, caret) => {\n      const higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt$1.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    const downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after$1\n    };\n    const isAtTable = (bridge, x, y) => {\n      return bridge.elementFromPoint(x, y).filter(elm => {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    const adjustForTable = (bridge, movement, original, caret, numRetries) => {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    const adjustTil = (bridge, movement, original, caret, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(guess => {\n        return guess.start.fold(Optional.none, element => {\n          return getEntireBox(bridge, element).bind(guessBox => {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, newCaret => {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(() => {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    const checkScroll = (movement, adjusted, bridge) => {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    const retry = (movement, bridge, caret) => {\n      const moved = movement.move(caret, JUMP_SIZE);\n      const adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(() => {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, delta => {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    const Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    const MAX_RETRIES = 20;\n    const findSpot = (bridge, isRoot, direction) => {\n      return bridge.getSelection().bind(sel => {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(() => {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, brNeighbour => {\n          const range = bridge.fromSitus(brNeighbour);\n          const analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    const scan = (bridge, isRoot, element, offset, direction, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(situs => {\n        const range = bridge.fromSitus(situs);\n        const analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, () => {\n          return Optional.none();\n        }, () => {\n          return Optional.some(situs);\n        }, cell => {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, cell => {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    const tryAgain = (bridge, element, offset, move, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    const tryAt = (bridge, direction, box) => {\n      const browser = detect$2().browser;\n      if (browser.isChromium() || browser.isSafari() || browser.isFirefox()) {\n        return direction.retry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryCursor = (bridge, isRoot, element, offset, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    const handle$1 = (bridge, isRoot, direction) => {\n      return findSpot(bridge, isRoot, direction).bind(spot => {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    const inSameTable = (elem, table) => {\n      return ancestor(elem, e => {\n        return parent(e).exists(p => {\n          return eq$1(p, table);\n        });\n      });\n    };\n    const simulate = (bridge, isRoot, direction, initial, anchor) => {\n      return closest$1(initial, 'td,th', isRoot).bind(start => {\n        return closest$1(start, 'table', isRoot).bind(table => {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle$1(bridge, isRoot, direction).bind(range => {\n            return closest$1(range.finish, 'td,th', isRoot).map(finish => {\n              return {\n                start,\n                finish,\n                range\n              };\n            });\n          });\n        });\n      });\n    };\n    const navigate = (bridge, isRoot, direction, initial, anchor, precheck) => {\n      return precheck(initial, isRoot).orThunk(() => {\n        return simulate(bridge, isRoot, direction, initial, anchor).map(info => {\n          const range = info.range;\n          return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n        });\n      });\n    };\n    const firstUpCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, element => {\n              return last$1(element).isSome();\n            }, isRoot).map(last => {\n              const lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const lastDownCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, element => {\n              return first(element).isSome();\n            }, isRoot).map(first => {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const select = (bridge, container, isRoot, direction, initial, anchor, selectRange) => {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(info => {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const findCell = (target, isRoot) => closest$1(target, 'td,th', isRoot);\n    const isInEditableContext = cell => parentElement(cell).exists(isEditable$1);\n    const MouseSelection = (bridge, container, isRoot, annotations) => {\n      const cursor = value();\n      const clearstate = cursor.clear;\n      const applySelection = event => {\n        cursor.on(start => {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(finish => {\n            identify(start, finish, isRoot).each(cellSel => {\n              const boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                const singleCell = boxes[0];\n                const isNonEditableCell = getRaw(singleCell) === 'false';\n                const isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      const mousedown = event => {\n        annotations.clear(container);\n        findCell(event.target, isRoot).filter(isInEditableContext).each(cursor.set);\n      };\n      const mouseover = event => {\n        applySelection(event);\n      };\n      const mouseup = event => {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate,\n        mousedown,\n        mouseover,\n        mouseup\n      };\n    };\n\n    const down = {\n      traverse: nextSibling,\n      gather: after$1,\n      relative: Situ.before,\n      retry: Retries.tryDown,\n      failure: BeforeAfter.failedDown\n    };\n    const up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      retry: Retries.tryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    const isKey = key => {\n      return keycode => {\n        return keycode === key;\n      };\n    };\n    const isUp = isKey(38);\n    const isDown = isKey(40);\n    const isNavigation = keycode => {\n      return keycode >= 37 && keycode <= 40;\n    };\n    const ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    const rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    const get$3 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const by = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    const adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt.domRange;\n    const relative = adt.relative;\n    const exact = adt.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a;\n      return Optional.from((_a = doc.caretPositionFromPoint) === null || _a === void 0 ? void 0 : _a.call(doc, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a;\n      return Optional.from((_a = doc.caretRangeFromPoint) === null || _a === void 0 ? void 0 : _a.call(doc, x, y));\n    };\n    const availableSearch = (doc, x, y) => {\n      if (doc.caretPositionFromPoint) {\n        return caretPositionFromPoint(doc, x, y);\n      } else if (doc.caretRangeFromPoint) {\n        return caretRangeFromPoint(doc, x, y);\n      } else {\n        return Optional.none();\n      }\n    };\n    const fromPoint = (win, x, y) => {\n      const doc = win.document;\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const doSetNativeRange = (win, rng) => {\n      getNativeSelection(win).each(selection => {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    const doSetRange = (win, start, soffset, finish, foffset) => {\n      const rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    const setLegacyRtlRange = (win, selection, start, soffset, finish, foffset) => {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    const setRangeFromRelative = (win, relative) => diagnose(win, relative).match({\n      ltr: (start, soffset, finish, foffset) => {\n        doSetRange(win, start, soffset, finish, foffset);\n      },\n      rtl: (start, soffset, finish, foffset) => {\n        getNativeSelection(win).each(selection => {\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        });\n      }\n    });\n    const setExact = (win, start, soffset, finish, foffset) => {\n      const relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    const setRelative = (win, startSitu, finishSitu) => {\n      const relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const setToElement = (win, element, selectNodeContents$1 = true) => {\n      const rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      const rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const get$2 = win => getExact(win).map(range => SimSelection.exact(range.start, range.soffset, range.finish, range.foffset));\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getAtPoint = (win, x, y) => fromPoint(win, x, y);\n    const clear = win => {\n      getNativeSelection(win).each(selection => selection.removeAllRanges());\n    };\n\n    const WindowBridge = win => {\n      const elementFromPoint = (x, y) => {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      const getRect = element => {\n        return element.dom.getBoundingClientRect();\n      };\n      const getRangedRect = (start, soffset, finish, foffset) => {\n        const sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      const getSelection = () => {\n        return get$2(win).map(exactAdt => {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      const fromSitus = situs => {\n        const relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      const situsFromPoint = (x, y) => {\n        return getAtPoint(win, x, y).map(exact => {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      const clearSelection = () => {\n        clear(win);\n      };\n      const collapseSelection = (toStart = false) => {\n        get$2(win).each(sel => sel.fold(rng => rng.collapse(toStart), (startSitu, finishSitu) => {\n          const situ = toStart ? startSitu : finishSitu;\n          setRelative(win, situ, situ);\n        }, (start, soffset, finish, foffset) => {\n          const node = toStart ? start : finish;\n          const offset = toStart ? soffset : foffset;\n          setExact(win, node, offset, node, offset);\n        }));\n      };\n      const selectNode = element => {\n        setToElement(win, element, false);\n      };\n      const selectContents = element => {\n        setToElement(win, element);\n      };\n      const setSelection = sel => {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      const setRelativeSelection = (start, finish) => {\n        setRelative(win, start, finish);\n      };\n      const getInnerHeight = () => {\n        return win.innerHeight;\n      };\n      const getScrollY = () => {\n        const pos = get$3(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      const scrollBy = (x, y) => {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint,\n        getRect,\n        getRangedRect,\n        getSelection,\n        fromSitus,\n        situsFromPoint,\n        clearSelection,\n        collapseSelection,\n        setSelection,\n        setRelativeSelection,\n        selectNode,\n        selectContents,\n        getInnerHeight,\n        getScrollY,\n        scrollBy\n      };\n    };\n\n    const rc = (rows, cols) => ({\n      rows,\n      cols\n    });\n    const mouse = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    const isEditableNode = node => closest$2(node, isHTMLElement).exists(isEditable$1);\n    const isEditableSelection = (start, finish) => isEditableNode(start) || isEditableNode(finish);\n    const keyboard = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const clearToNavigate = () => {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      const keydown = (event, start, soffset, finish, foffset, direction) => {\n        const realEvent = event.raw;\n        const keycode = realEvent.which;\n        const shiftKey = realEvent.shiftKey === true;\n        const handler = retrieve$1(container, annotations.selectedSelector).fold(() => {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, selected => {\n          const update$1 = attempts => {\n            return () => {\n              const navigation = findMap(attempts, delta => {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(() => {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(edges => {\n                  const relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, _ => {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      const keyup = (event, start, soffset, finish, foffset) => {\n        return retrieve$1(container, annotations.selectedSelector).fold(() => {\n          const realEvent = event.raw;\n          const keycode = realEvent.which;\n          const shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode) && isEditableSelection(start, finish)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown,\n        keyup\n      };\n    };\n    const external = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      return (start, finish) => {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    const read = (element, attr) => {\n      const value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$2 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$1 = element => read(element, 'class');\n    const add$1 = (element, clazz) => add$2(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$1(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const remove$1 = (element, classes) => {\n      each$2(classes, x => {\n        remove$2(element, x);\n      });\n    };\n\n    const addClass = clazz => element => {\n      add(element, clazz);\n    };\n    const removeClasses = classes => element => {\n      remove$1(element, classes);\n    };\n\n    const byClass = ephemera => {\n      const addSelectionClass = addClass(ephemera.selected);\n      const removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      const clear = container => {\n        const sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const byAttr = (ephemera, onSelection, onClear) => {\n      const removeSelectionAttributes = element => {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      const addSelectionAttribute = element => {\n        set$2(element, ephemera.selected, '1');\n      };\n      const clear = container => {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      const clearBeforeUpdate = container => {\n        const sels = descendants(container, `${ ephemera.selectedSelector },${ ephemera.firstSelectedSelector },${ ephemera.lastSelectedSelector }`);\n        each$2(sels, removeSelectionAttributes);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const SelectionAnnotation = {\n      byClass,\n      byAttr\n    };\n\n    const fold = (subject, onNone, onMultiple, onSingle) => {\n      switch (subject.tag) {\n      case 'none':\n        return onNone();\n      case 'single':\n        return onSingle(subject.element);\n      case 'multiple':\n        return onMultiple(subject.elements);\n      }\n    };\n    const none = () => ({ tag: 'none' });\n    const multiple = elements => ({\n      tag: 'multiple',\n      elements\n    });\n    const single = element => ({\n      tag: 'single',\n      element\n    });\n\n    const Selections = (lazyRoot, getStart, selectedSelector) => {\n      const get = () => retrieve(lazyRoot(), selectedSelector).fold(() => getStart().fold(none, single), multiple);\n      return { get };\n    };\n\n    const getUpOrLeftCells = (grid, selectedCells) => {\n      const upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      const upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, detail => {\n        const slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getDownOrRightCells = (grid, selectedCells) => {\n      const downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      const downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, detail => {\n        const slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getOtherCells = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.map(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const {rows} = extractGridDetails(grid);\n        const upOrLeftCells = getUpOrLeftCells(rows, selectedCells);\n        const downOrRightCells = getDownOrRightCells(rows, selectedCells);\n        return {\n          upOrLeftCells,\n          downOrRightCells\n        };\n      });\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$1 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const hasInternalTarget = e => !has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar');\n    const TableCellSelectionHandler = (editor, resizeHandler) => {\n      const cellSelection = Selections(() => SugarElement.fromDom(editor.getBody()), () => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)), ephemera.selectedSelector);\n      const onSelection = (cells, start, finish) => {\n        const tableOpt = table(start);\n        tableOpt.each(table => {\n          const cellsDom = map$1(cells, cell => cell.dom);\n          const cloneFormats = getTableCloneElements(editor);\n          const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n          const selectedCells = getCellsFromSelection(editor);\n          const otherCellsDom = getOtherCells(table, { selection: selectedCells }, generators).map(otherCells => map(otherCells, cellArr => map$1(cellArr, cell => cell.dom))).getOrUndefined();\n          fireTableSelectionChange(editor, cellsDom, start.dom, finish.dom, otherCellsDom);\n        });\n      };\n      const onClear = () => fireTableSelectionClear(editor);\n      const annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', _e => {\n        const win = editor.getWin();\n        const body = getBody(editor);\n        const isRoot = getIsRoot(editor);\n        const syncSelection = () => {\n          const sel = editor.selection;\n          const start = SugarElement.fromDom(sel.getStart());\n          const end = SugarElement.fromDom(sel.getEnd());\n          const shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(() => annotations.clear(body), noop);\n        };\n        const mouseHandlers = mouse(win, body, isRoot, annotations);\n        const keyHandlers = keyboard(win, body, isRoot, annotations);\n        const external$1 = external(win, body, isRoot, annotations);\n        const hasShiftKey = event => event.raw.shiftKey === true;\n        editor.on('TableSelectorChange', e => external$1(e.start, e.finish));\n        const handleResponse = (event, response) => {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(ns => {\n            const relative = SimSelection.relative(ns.start, ns.finish);\n            const rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        const keyup = event => {\n          const wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            const rng = editor.selection.getRng();\n            const start = SugarElement.fromDom(rng.startContainer);\n            const end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(response => {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        const keydown = event => {\n          const wrappedEvent = fromRawEvent(event);\n          resizeHandler.hide();\n          const rng = editor.selection.getRng();\n          const start = SugarElement.fromDom(rng.startContainer);\n          const end = SugarElement.fromDom(rng.endContainer);\n          const direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(response => {\n            handleResponse(wrappedEvent, response);\n          });\n          resizeHandler.show();\n        };\n        const isLeftMouse = raw => raw.button === 0;\n        const isLeftButtonPressed = raw => {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        const dragStart = _e => {\n          mouseHandlers.clearstate();\n        };\n        const mouseDown = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        const mouseOver = e => {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        const mouseUp = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        const getDoubleTap = () => {\n          const lastTarget = Cell(SugarElement.fromDom(body));\n          const lastTimeStamp = Cell(0);\n          const touchEnd = t => {\n            const target = SugarElement.fromDom(t.target);\n            if (isTag('td')(target) || isTag('th')(target)) {\n              const lT = lastTarget.get();\n              const lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd };\n        };\n        const doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      editor.on('PreInit', () => {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n      });\n      const clearSelectedCells = container => annotations.clear(SugarElement.fromDom(container));\n      const getSelectedCells = () => fold(cellSelection.get(), constant([]), cells => {\n        return map$1(cells, cell => cell.dom);\n      }, cell => [cell.dom]);\n      return {\n        getSelectedCells,\n        clearSelectedCells\n      };\n    };\n\n    const Event = fields => {\n      let handlers = [];\n      const bind = handler => {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      const unbind = handler => {\n        handlers = filter$2(handlers, h => {\n          return h !== handler;\n        });\n      };\n      const trigger = (...args) => {\n        const event = {};\n        each$2(fields, (name, i) => {\n          event[name] = args[i];\n        });\n        each$2(handlers, handler => {\n          handler(event);\n        });\n      };\n      return {\n        bind,\n        unbind,\n        trigger\n      };\n    };\n\n    const create$1 = typeDefs => {\n      const registry = map(typeDefs, event => {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      const trigger = map(typeDefs, event => {\n        return event.trigger;\n      });\n      return {\n        registry,\n        trigger\n      };\n    };\n\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const sort = arr => {\n      return arr.slice(0).sort();\n    };\n    const reqMessage = (required, keys) => {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    const unsuppMessage = unsupported => {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    const validateStrArr = (label, array) => {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, a => {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    const invalidTypeMessage = (incorrect, type) => {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    const checkDupes = everything => {\n      const sorted = sort(everything);\n      const dupe = find$1(sorted, (s, i) => {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(d => {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    const base = (handleUnsupported, required) => {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    const baseWith = (handleUnsupported, required, pred) => {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return obj => {\n        const keys$1 = keys(obj);\n        const allReqd = forall(required, req => {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        const invalidKeys = filter$2(required, key => {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    const handleExact = (required, keys) => {\n      const unsupported = filter$2(keys, key => {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    const exactly = required => base(handleExact, required);\n\n    const DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    const DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    const DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    const InDrag = () => {\n      let previous = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n      };\n      const update = (mode, nu) => {\n        const result = previous.map(old => {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      const onEvent = (event, mode) => {\n        const dataOption = mode.extract(event);\n        dataOption.each(data => {\n          const offset = update(mode, data);\n          offset.each(d => {\n            events.trigger.move(d);\n          });\n        });\n      };\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent,\n        reset,\n        events: events.registry\n      };\n    };\n\n    const NoDrag = () => {\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    const Movement = () => {\n      const noDragState = NoDrag();\n      const inDragState = InDrag();\n      let dragState = noDragState;\n      const on = () => {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      const off = () => {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      const onEvent = (event, mode) => {\n        dragState.onEvent(event, mode);\n      };\n      const isOn = () => {\n        return dragState === inDragState;\n      };\n      return {\n        on,\n        off,\n        isOn,\n        onEvent,\n        events: inDragState.events\n      };\n    };\n\n    const setup = (mutation, mode, settings) => {\n      let active = false;\n      const events = create$1({\n        start: Event([]),\n        stop: Event([])\n      });\n      const movement = Movement();\n      const drop = () => {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      const throttledDrop = last(drop, 200);\n      const go = parent => {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      const mousemove = event => {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(event => {\n        mode.mutate(mutation, event.info);\n      });\n      const on = () => {\n        active = true;\n      };\n      const off = () => {\n        active = false;\n      };\n      const isActive = () => active;\n      const runIfActive = f => {\n        return (...args) => {\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      const sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      const destroy = () => {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go,\n        on,\n        off,\n        isActive,\n        destroy,\n        events: events.registry\n      };\n    };\n\n    const css = namespace => {\n      const dashNamespace = namespace.replace(/\\./g, '-');\n      const resolve = str => {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve };\n    };\n\n    const styles$1 = css('ephox-dragster');\n    const resolve$1 = styles$1.resolve;\n\n    const Blocker = options => {\n      const settings = {\n        layerClass: resolve$1('blocker'),\n        ...options\n      };\n      const div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      const element = constant(div);\n      const destroy = () => {\n        remove$6(div);\n      };\n      return {\n        element,\n        destroy\n      };\n    };\n\n    const compare = (old, nu) => {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    const extract = event => {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    const mutate = (mutation, info) => {\n      mutation.mutate(info.left, info.top);\n    };\n    const sink = (dragApi, settings) => {\n      const blocker = Blocker(settings);\n      const mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      const mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      const mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      const mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      const destroy = () => {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      const start = parent => {\n        append$1(parent, blocker.element());\n      };\n      const stop = () => {\n        remove$6(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start,\n        stop,\n        destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare,\n      extract,\n      sink,\n      mutate\n    });\n\n    const transform = (mutation, settings = {}) => {\n      var _a;\n      const mode = (_a = settings.mode) !== null && _a !== void 0 ? _a : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    const styles = css('ephox-snooker');\n    const resolve = styles.resolve;\n\n    const Mutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      const mutate = (x, y) => {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate,\n        events: events.registry\n      };\n    };\n\n    const BarMutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      let target = Optional.none();\n      const delegate = Mutation();\n      delegate.events.drag.bind(event => {\n        target.each(t => {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      const assign = t => {\n        target = Optional.some(t);\n      };\n      const get = () => {\n        return target;\n      };\n      return {\n        assign,\n        get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    const col = (column, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    const row = (r, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    const resizeBar = resolve('resizer-bar');\n    const resizeRowBar = resolve('resizer-rows');\n    const resizeColBar = resolve('resizer-cols');\n    const BAR_THICKNESS = 7;\n    const resizableRows = (warehouse, isResizable) => bind$2(warehouse.all, (row, i) => isResizable(row.element) ? [i] : []);\n    const resizableColumns = (warehouse, isResizable) => {\n      const resizableCols = [];\n      range$1(warehouse.grid.columns, index => {\n        const colElmOpt = Warehouse.getColumnAt(warehouse, index).map(col => col.element);\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, colIndex => {\n        const columnCells = Warehouse.filterItems(warehouse, cell => cell.column === colIndex);\n        return forall(columnCells, cell => isResizable(cell.element));\n      });\n    };\n    const destroy = wire => {\n      const previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$6);\n    };\n    const drawBar = (wire, positions, create) => {\n      const origin = wire.origin();\n      each$2(positions, cpOption => {\n        cpOption.each(cp => {\n          const bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    const refreshCol = (wire, colPositions, position, tableHeight) => {\n      drawBar(wire, colPositions, (origin, cp) => {\n        const colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    const refreshRow = (wire, rowPositions, position, tableWidth) => {\n      drawBar(wire, rowPositions, (origin, cp) => {\n        const rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    const refreshGrid = (warhouse, wire, table, rows, cols) => {\n      const position = absolute(table);\n      const isResizable = wire.isResizable;\n      const rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      const resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      const resizableRowPositions = filter$2(rowPositions, (_pos, i) => exists(resizableRowBars, barIndex => i === barIndex));\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      const colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      const resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      const resizableColPositions = filter$2(colPositions, (_pos, i) => exists(resizableColBars, barIndex => i === barIndex));\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    const refresh = (wire, table) => {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        const warehouse = Warehouse.fromTable(table);\n        const rows$1 = rows(warehouse);\n        const cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    const each = (wire, f) => {\n      const bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    const hide = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    const show = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    const isRowBar = element => {\n      return has(element, resizeRowBar);\n    };\n    const isColBar = element => {\n      return has(element, resizeColBar);\n    };\n\n    const resizeBarDragging = resolve('resizer-bar-dragging');\n    const BarManager = wire => {\n      const mutation = BarMutation();\n      const resizing = transform(mutation, {});\n      let hoverTable = Optional.none();\n      const getResizer = (element, type) => {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(event => {\n        getResizer(event.target, 'data-row').each(_dataRow => {\n          const currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(_dataCol => {\n          const currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      const getDelta = (target, dir) => {\n        const newX = getCssValue(target, dir);\n        const oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(() => {\n        mutation.get().each(target => {\n          hoverTable.each(table => {\n            getResizer(target, 'data-row').each(row => {\n              const delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(column => {\n              const delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      const handler = (target, dir) => {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      const mousedown = bind(wire.parent(), 'mousedown', event => {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      const isRoot = e => {\n        return eq$1(e, wire.view());\n      };\n      const findClosestEditableTable = target => closest$1(target, 'table', isRoot).filter(isEditable$1);\n      const mouseover = bind(wire.view(), 'mouseover', event => {\n        findClosestEditableTable(event.target).fold(() => {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, table => {\n          if (resizing.isActive()) {\n            hoverTable = Optional.some(table);\n            refresh(wire, table);\n          }\n        });\n      });\n      const destroy$1 = () => {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      const refresh$1 = tbl => {\n        refresh(wire, tbl);\n      };\n      const events = create$1({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    const create = (wire, resizing, lazySizing) => {\n      const hdirection = height;\n      const vdirection = width;\n      const manager = BarManager(wire);\n      const events = create$1({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        const delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(_event => {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        const delta = vdirection.delta(event.delta, table);\n        const tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        refreshBars: manager.refresh,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    const TableResize = { create };\n\n    const only = (element, isResizable) => {\n      const parent = isDocument(element) ? documentElement(element) : element;\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const detached = (editable, chrome, isResizable) => {\n      const origin = () => absolute(chrome);\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin,\n        isResizable\n      };\n    };\n    const body = (editable, chrome, isResizable) => {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const ResizeWire = {\n      only,\n      detached,\n      body\n    };\n\n    const createContainer = () => {\n      const container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    const get = (editor, isResizable) => {\n      return editor.inline ? ResizeWire.body(SugarElement.fromDom(editor.getBody()), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    const remove = (editor, wire) => {\n      if (editor.inline) {\n        remove$6(wire.parent());\n      }\n    };\n\n    const isTable = node => isNonNullable(node) && node.nodeName === 'TABLE';\n    const barResizerPrefix = 'bar-';\n    const isResizable = elm => get$b(elm, 'data-mce-resize') !== 'false';\n    const syncTableCellPixels = table => {\n      const warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), cell => {\n          const computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n    const isCornerResize = origin => startsWith(origin, 'corner-');\n    const getCornerLocation = origin => removeLeading(origin, 'corner-');\n    const TableResizeHandler = editor => {\n      const selectionRng = value();\n      const tableResize = value();\n      const resizeWire = value();\n      let startW;\n      let startRawW;\n      let startH;\n      let startRawH;\n      const lazySizing = table => get$5(editor, table);\n      const lazyResizingBehaviour = () => isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      const getNumColumns = table => getGridSize(table).columns;\n      const getNumRows = table => getGridSize(table).rows;\n      const afterCornerResize = (table, origin, width, height) => {\n        const location = getCornerLocation(origin);\n        const isRightEdgeResize = endsWith(location, 'e');\n        const isNorthEdgeResize = startsWith(location, 'n');\n        if (startRawW === '') {\n          convertToPercentSizeWidth(table);\n        }\n        if (startRawH === '') {\n          convertToPixelSizeHeight(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          const resizing = lazyResizingBehaviour();\n          const tableSize = lazySizing(table);\n          const col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          const percentW = parseFloat(startRawW.replace('%', ''));\n          const targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncTableCellPixels(table);\n        }\n        if (height !== startH && startRawH !== '') {\n          set$1(table, 'height', startRawH);\n          const idx = isNorthEdgeResize ? 0 : getNumRows(table) - 1;\n          adjustHeight(table, height - startH, idx);\n        }\n      };\n      const destroy = () => {\n        tableResize.on(sz => {\n          sz.destroy();\n        });\n        resizeWire.on(w => {\n          remove(editor, w);\n        });\n      };\n      editor.on('init', () => {\n        const rawWire = get(editor, isResizable);\n        resizeWire.set(rawWire);\n        if (hasTableObjectResizing(editor) && hasTableResizeBars(editor)) {\n          const resizing = lazyResizingBehaviour();\n          const sz = TableResize.create(rawWire, resizing, lazySizing);\n          if (!editor.mode.isReadOnly()) {\n            sz.on();\n          }\n          sz.events.startDrag.bind(_event => {\n            selectionRng.set(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(event => {\n            const rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(event => {\n            const table = event.table;\n            const rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.on(rng => {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          tableResize.set(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm) && !editor.mode.isReadOnly()) {\n          const table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), clone => {\n            editor.dom.addClass(clone, 'mce-' + getTableColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isTablePixelsForced(editor)) {\n            convertToPixelSizeWidth(table);\n          } else if (!isPercentSizing(table) && isTablePercentagesForced(editor)) {\n            convertToPercentSizeWidth(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            convertToPercentSizeWidth(table);\n          }\n          startW = e.width;\n          startRawW = isTableResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n          startH = e.height;\n          startRawH = getRawHeight(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          const origin = e.origin;\n          if (isCornerResize(origin)) {\n            afterCornerResize(table, origin, e.width, e.height);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      const showResizeBars = () => {\n        tableResize.on(resize => {\n          resize.on();\n          resize.showBars();\n        });\n      };\n      const hideResizeBars = () => {\n        tableResize.on(resize => {\n          resize.off();\n          resize.hideBars();\n        });\n      };\n      editor.on('DisabledStateChange', e => {\n        e.state ? hideResizeBars() : showResizeBars();\n      });\n      editor.on('SwitchMode', () => {\n        editor.mode.isReadOnly() ? hideResizeBars() : showResizeBars();\n      });\n      editor.on('dragstart dragend', e => {\n        e.type === 'dragstart' ? hideResizeBars() : showResizeBars();\n      });\n      editor.on('remove', () => {\n        destroy();\n      });\n      const refresh = table => {\n        tableResize.on(resize => resize.refreshBars(SugarElement.fromDom(table)));\n      };\n      const hide = () => {\n        tableResize.on(resize => resize.hideBars());\n      };\n      const show = () => {\n        tableResize.on(resize => resize.showBars());\n      };\n      return {\n        refresh,\n        hide,\n        show\n      };\n    };\n\n    const setupTable = editor => {\n      register(editor);\n      const resizeHandler = TableResizeHandler(editor);\n      const cellSelectionHandler = TableCellSelectionHandler(editor, resizeHandler);\n      const actions = TableActions(editor, resizeHandler, cellSelectionHandler);\n      registerCommands(editor, actions);\n      registerQueryCommands(editor, actions);\n      registerEvents(editor, actions);\n      return {\n        getSelectedCells: cellSelectionHandler.getSelectedCells,\n        clearSelectedCells: cellSelectionHandler.clearSelectedCells\n      };\n    };\n\n    const DomModel = editor => {\n      const table = setupTable(editor);\n      return { table };\n    };\n    var Model = () => {\n      global$1.add('dom', DomModel);\n    };\n\n    Model();\n\n})();\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n  'use strict';\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  const link = () => /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-.~*+=!;:'%@$(),\\/\\w]*[-~*+=%@$()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n\n  const option = name => editor => editor.options.get(name);\n  const register = editor => {\n    const registerOption = editor.options.register;\n    registerOption('autolink_pattern', {\n      processor: 'regexp',\n      default: new RegExp('^' + link().source + '$', 'i')\n    });\n    registerOption('link_default_target', { processor: 'string' });\n    registerOption('link_default_protocol', {\n      processor: 'string',\n      default: 'https'\n    });\n  };\n  const getAutoLinkPattern = option('autolink_pattern');\n  const getDefaultLinkTarget = option('link_default_target');\n  const getDefaultLinkProtocol = option('link_default_protocol');\n  const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n\n  const hasProto = (v, constructor, predicate) => {\n    var _a;\n    if (predicate(v, constructor.prototype)) {\n      return true;\n    } else {\n      return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n    }\n  };\n  const typeOf = x => {\n    const t = typeof x;\n    if (x === null) {\n      return 'null';\n    } else if (t === 'object' && Array.isArray(x)) {\n      return 'array';\n    } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n      return 'string';\n    } else {\n      return t;\n    }\n  };\n  const isType = type => value => typeOf(value) === type;\n  const eq = t => a => t === a;\n  const isString = isType('string');\n  const isUndefined = eq(undefined);\n  const isNullable = a => a === null || a === undefined;\n  const isNonNullable = a => !isNullable(a);\n\n  const not = f => t => !f(t);\n\n  const hasOwnProperty = Object.hasOwnProperty;\n  const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n  const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n  const contains = (str, substr, start = 0, end) => {\n    const idx = str.indexOf(substr, start);\n    if (idx !== -1) {\n      return isUndefined(end) ? true : idx + substr.length <= end;\n    } else {\n      return false;\n    }\n  };\n  const startsWith = (str, prefix) => {\n    return checkRange(str, prefix, 0);\n  };\n\n  const zeroWidth = '\\uFEFF';\n  const isZwsp = char => char === zeroWidth;\n  const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n  var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n  const isTextNode = node => node.nodeType === 3;\n  const isElement = node => node.nodeType === 1;\n  const isBracketOrSpace = char => /^[(\\[{ \\u00a0]$/.test(char);\n  const hasProtocol = url => /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n  const isPunctuation = char => /[?!,.;:]/.test(char);\n  const findChar = (text, index, predicate) => {\n    for (let i = index - 1; i >= 0; i--) {\n      const char = text.charAt(i);\n      if (!isZwsp(char) && predicate(char)) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  const freefallRtl = (container, offset) => {\n    let tempNode = container;\n    let tempOffset = offset;\n    while (isElement(tempNode) && tempNode.childNodes[tempOffset]) {\n      tempNode = tempNode.childNodes[tempOffset];\n      tempOffset = isTextNode(tempNode) ? tempNode.data.length : tempNode.childNodes.length;\n    }\n    return {\n      container: tempNode,\n      offset: tempOffset\n    };\n  };\n\n  const parseCurrentLine = (editor, offset) => {\n    var _a;\n    const voidElements = editor.schema.getVoidElements();\n    const autoLinkPattern = getAutoLinkPattern(editor);\n    const {dom, selection} = editor;\n    if (dom.getParent(selection.getNode(), 'a[href]') !== null || editor.mode.isReadOnly()) {\n      return null;\n    }\n    const rng = selection.getRng();\n    const textSeeker = global(dom, node => {\n      return dom.isBlock(node) || has(voidElements, node.nodeName.toLowerCase()) || dom.getContentEditable(node) === 'false';\n    });\n    const {\n      container: endContainer,\n      offset: endOffset\n    } = freefallRtl(rng.endContainer, rng.endOffset);\n    const root = (_a = dom.getParent(endContainer, dom.isBlock)) !== null && _a !== void 0 ? _a : dom.getRoot();\n    const endSpot = textSeeker.backwards(endContainer, endOffset + offset, (node, offset) => {\n      const text = node.data;\n      const idx = findChar(text, offset, not(isBracketOrSpace));\n      return idx === -1 || isPunctuation(text[idx]) ? idx : idx + 1;\n    }, root);\n    if (!endSpot) {\n      return null;\n    }\n    let lastTextNode = endSpot.container;\n    const startSpot = textSeeker.backwards(endSpot.container, endSpot.offset, (node, offset) => {\n      lastTextNode = node;\n      const idx = findChar(node.data, offset, isBracketOrSpace);\n      return idx === -1 ? idx : idx + 1;\n    }, root);\n    const newRng = dom.createRng();\n    if (!startSpot) {\n      newRng.setStart(lastTextNode, 0);\n    } else {\n      newRng.setStart(startSpot.container, startSpot.offset);\n    }\n    newRng.setEnd(endSpot.container, endSpot.offset);\n    const rngText = removeZwsp(newRng.toString());\n    const matches = rngText.match(autoLinkPattern);\n    if (matches) {\n      let url = matches[0];\n      if (startsWith(url, 'www.')) {\n        const protocol = getDefaultLinkProtocol(editor);\n        url = protocol + '://' + url;\n      } else if (contains(url, '@') && !hasProtocol(url)) {\n        url = 'mailto:' + url;\n      }\n      return {\n        rng: newRng,\n        url\n      };\n    } else {\n      return null;\n    }\n  };\n  const convertToLink = (editor, result) => {\n    const {dom, selection} = editor;\n    const {rng, url} = result;\n    const bookmark = selection.getBookmark();\n    selection.setRng(rng);\n    const command = 'createlink';\n    const args = {\n      command,\n      ui: false,\n      value: url\n    };\n    const beforeExecEvent = editor.dispatch('BeforeExecCommand', args);\n    if (!beforeExecEvent.isDefaultPrevented()) {\n      editor.getDoc().execCommand(command, false, url);\n      editor.dispatch('ExecCommand', args);\n      const defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (isString(defaultLinkTarget)) {\n        const anchor = selection.getNode();\n        dom.setAttrib(anchor, 'target', defaultLinkTarget);\n        if (defaultLinkTarget === '_blank' && !allowUnsafeLinkTarget(editor)) {\n          dom.setAttrib(anchor, 'rel', 'noopener');\n        }\n      }\n    }\n    selection.moveToBookmark(bookmark);\n    editor.nodeChanged();\n  };\n  const handleSpacebar = editor => {\n    const result = parseCurrentLine(editor, -1);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const handleBracket = handleSpacebar;\n  const handleEnter = editor => {\n    const result = parseCurrentLine(editor, 0);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const setup = editor => {\n    editor.on('keydown', e => {\n      if (e.keyCode === 13 && !e.isDefaultPrevented()) {\n        handleEnter(editor);\n      }\n    });\n    editor.on('keyup', e => {\n      if (e.keyCode === 32) {\n        handleSpacebar(editor);\n      } else if (e.keyCode === 48 && e.shiftKey || e.keyCode === 221) {\n        handleBracket(editor);\n      }\n    });\n  };\n\n  var Plugin = () => {\n    global$1.add('autolink', editor => {\n      register(editor);\n      setup(editor);\n    });\n  };\n\n  Plugin();\n\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = value => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativePush = Array.prototype.push;\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get(xs, 0);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isNotEmpty = s => s.length > 0;\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('image_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_advtab', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_uploadtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_prepend_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('image_class_list', { processor: 'object[]' });\n      registerOption('image_description', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_title', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_caption', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_list', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be false, a string, an array or a function.'\n          };\n        },\n        default: false\n      });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = editor => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = editor => isNonNullable(editor.options.get('images_upload_handler'));\n\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = url => new Promise(callback => {\n      const img = document.createElement('img');\n      const done = dimensions => {\n        img.onload = img.onerror = null;\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback(dimensions);\n      };\n      img.onload = () => {\n        const width = parseIntAndGetMax(img.width, img.clientWidth);\n        const height = parseIntAndGetMax(img.height, img.clientHeight);\n        const dimensions = {\n          width,\n          height\n        };\n        done(Promise.resolve(dimensions));\n      };\n      img.onerror = () => {\n        done(Promise.reject(`Failed to get image dimensions for: ${ url }`));\n      };\n      const style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      document.body.appendChild(img);\n      img.src = url;\n    });\n    const removePixelSuffix = value => {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    const addPixelSuffix = value => {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    const mergeMargins = css => {\n      if (css.margin) {\n        const splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    const createImageList = (editor, callback) => {\n      const imageList = getImageList(editor);\n      if (isString(imageList)) {\n        fetch(imageList).then(res => {\n          if (res.ok) {\n            res.json().then(callback);\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n      const selectImage = () => {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = () => {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = blob => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = () => {\n        var _a;\n        reject((_a = reader.error) === null || _a === void 0 ? void 0 : _a.message);\n      };\n      reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = imgElm => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n      const getOption = editor.options.get;\n      return global$2.isDomSafe(src, 'img', {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = image => {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    const getVspace = image => {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    const getBorder = image => {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    const getAttrib = (image, name) => {\n      var _a;\n      if (image.hasAttribute(name)) {\n        return (_a = image.getAttribute(name)) !== null && _a !== void 0 ? _a : '';\n      } else {\n        return '';\n      }\n    };\n    const hasCaption = image => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n      if (value === '' || value === null) {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    const wrapInFigure = image => {\n      const figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    const removeFigure = image => {\n      const figureElm = image.parentNode;\n      if (isNonNullable(figureElm)) {\n        DOM.insertAfter(image, figureElm);\n        DOM.remove(figureElm);\n      }\n    };\n    const toggleCaption = image => {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n      const attrValue = image.getAttribute('style');\n      const value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n      const styles = image.style;\n      if (styles[name]) {\n        styles[name] = addPixelSuffix(value);\n        normalizeStyle(image, normalizeCss);\n      } else {\n        updateAttrib(image, name, value);\n      }\n    };\n    const getSize = (image, name) => {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    const setHspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n      image.style.borderStyle = value;\n    };\n    const getBorderStyle = image => {\n      var _a;\n      return (_a = image.style.borderStyle) !== null && _a !== void 0 ? _a : '';\n    };\n    const isFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE';\n    const isImage = elm => elm.nodeName === 'IMG';\n    const getIsDecorative = image => DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    const getAlt = image => {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    const defaultData = () => ({\n      src: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      class: '',\n      style: '',\n      caption: false,\n      hspace: '',\n      vspace: '',\n      border: '',\n      borderStyle: '',\n      isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n      var _a;\n      const image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss((_a = image.getAttribute('style')) !== null && _a !== void 0 ? _a : '');\n    };\n    const create = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      write(normalizeCss, {\n        ...data,\n        caption: false\n      }, image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        const figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    const read = (normalizeCss, image) => ({\n      src: getAttrib(image, 'src'),\n      alt: getAlt(image),\n      title: getAttrib(image, 'title'),\n      width: getSize(image, 'width'),\n      height: getSize(image, 'height'),\n      class: getAttrib(image, 'class'),\n      style: normalizeCss(getAttrib(image, 'style')),\n      caption: hasCaption(image),\n      hspace: getHspace(image),\n      vspace: getVspace(image),\n      border: getBorder(image),\n      borderStyle: getBorderStyle(image),\n      isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, String(newData[name]));\n      }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        const sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          const sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          const sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    const updateAlt = (image, oldData, newData) => {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n      set(image, value);\n      normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n      const oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n      const css = editor.dom.styles.parse(cssText);\n      const mergedCss = mergeMargins(css);\n      const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = editor => {\n      const imgElm = editor.selection.getNode();\n      const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n      var _a;\n      const dom = editor.dom;\n      const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n      const textBlock = dom.getParent(figure.parentNode, node => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n      if (textBlock) {\n        return (_a = dom.split(textBlock, figure)) !== null && _a !== void 0 ? _a : figure;\n      } else {\n        return figure;\n      }\n    };\n    const readImageDataFromSelection = editor => {\n      const image = getSelectedImage(editor);\n      return image ? read(css => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n      const elm = create(css => normalizeCss$1(editor, css), data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        const figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    const syncSrcAttr = (editor, image) => {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n      if (image) {\n        const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        write(css => normalizeCss$1(editor, css), data, image);\n        syncSrcAttr(editor, image);\n        if (isFigure(image.parentNode)) {\n          const figure = image.parentNode;\n          splitTextBlock(editor, figure);\n          editor.selection.select(image.parentNode);\n        } else {\n          editor.selection.select(image);\n          waitLoadImage(editor, data, image);\n        }\n      }\n    };\n    const sanitizeImageData = (editor, data) => {\n      const src = data.src;\n      return {\n        ...data,\n        src: isSafeImageUrl(editor, src) ? src : ''\n      };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        const selectedImageData = read(css => normalizeCss$1(editor, css), image);\n        const data = {\n          ...selectedImageData,\n          ...partialData\n        };\n        const sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, {\n          ...defaultData(),\n          ...partialData\n        });\n      }\n    };\n\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizer = (extractor = getValue) => list => {\n      if (list) {\n        return Optional.from(list).map(list => sanitizeList(list, extractor));\n      } else {\n        return Optional.none();\n      }\n    };\n    const sanitize = list => sanitizer(getValue)(list);\n    const isGroup = item => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, item => {\n      if (isGroup(item)) {\n        return findEntryDelegate(item.items, value);\n      } else if (item.value === value) {\n        return Optional.some(item);\n      } else {\n        return Optional.none();\n      }\n    });\n    const findEntry = (optList, value) => optList.bind(list => findEntryDelegate(list, value));\n    const ListUtils = {\n      sanitizer,\n      sanitize,\n      findEntry\n    };\n\n    const makeTab$2 = _info => ({\n      title: 'Advanced',\n      name: 'advanced',\n      items: [{\n          type: 'grid',\n          columns: 2,\n          items: [\n            {\n              type: 'input',\n              label: 'Vertical space',\n              name: 'vspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Horizontal space',\n              name: 'hspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Border width',\n              name: 'border',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'listbox',\n              name: 'borderstyle',\n              label: 'Border style',\n              items: [\n                {\n                  text: 'Select...',\n                  value: ''\n                },\n                {\n                  text: 'Solid',\n                  value: 'solid'\n                },\n                {\n                  text: 'Dotted',\n                  value: 'dotted'\n                },\n                {\n                  text: 'Dashed',\n                  value: 'dashed'\n                },\n                {\n                  text: 'Double',\n                  value: 'double'\n                },\n                {\n                  text: 'Groove',\n                  value: 'groove'\n                },\n                {\n                  text: 'Ridge',\n                  value: 'ridge'\n                },\n                {\n                  text: 'Inset',\n                  value: 'inset'\n                },\n                {\n                  text: 'Outset',\n                  value: 'outset'\n                },\n                {\n                  text: 'None',\n                  value: 'none'\n                },\n                {\n                  text: 'Hidden',\n                  value: 'hidden'\n                }\n              ]\n            }\n          ]\n        }]\n    });\n    const AdvTab = { makeTab: makeTab$2 };\n\n    const collect = editor => {\n      const urlListSanitizer = ListUtils.sanitizer(item => editor.convertURL(item.value || item.url || '', 'src'));\n      const futureImageList = new Promise(completer => {\n        createImageList(editor, imageList => {\n          completer(urlListSanitizer(imageList).map(items => flatten([\n            [{\n                text: 'None',\n                value: ''\n              }],\n            items\n          ])));\n        });\n      });\n      const classList = ListUtils.sanitize(getClassList(editor));\n      const hasAdvTab$1 = hasAdvTab(editor);\n      const hasUploadTab$1 = hasUploadTab(editor);\n      const hasUploadUrl$1 = hasUploadUrl(editor);\n      const hasUploadHandler$1 = hasUploadHandler(editor);\n      const image = readImageDataFromSelection(editor);\n      const hasDescription$1 = hasDescription(editor);\n      const hasImageTitle$1 = hasImageTitle(editor);\n      const hasDimensions$1 = hasDimensions(editor);\n      const hasImageCaption$1 = hasImageCaption(editor);\n      const hasAccessibilityOptions = showAccessibilityOptions(editor);\n      const automaticUploads = isAutomaticUploadsEnabled(editor);\n      const prependURL = Optional.some(getPrependUrl(editor)).filter(preUrl => isString(preUrl) && preUrl.length > 0);\n      return futureImageList.then(imageList => ({\n        image,\n        imageList,\n        classList,\n        hasAdvTab: hasAdvTab$1,\n        hasUploadTab: hasUploadTab$1,\n        hasUploadUrl: hasUploadUrl$1,\n        hasUploadHandler: hasUploadHandler$1,\n        hasDescription: hasDescription$1,\n        hasImageTitle: hasImageTitle$1,\n        hasDimensions: hasDimensions$1,\n        hasImageCaption: hasImageCaption$1,\n        prependURL,\n        hasAccessibilityOptions,\n        automaticUploads\n      }));\n    };\n\n    const makeItems = info => {\n      const imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source',\n        picker_text: 'Browse files'\n      };\n      const imageList = info.imageList.map(items => ({\n        name: 'images',\n        type: 'listbox',\n        label: 'Image list',\n        items\n      }));\n      const imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n      };\n      const imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      const imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      const isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      const classList = info.classList.map(items => ({\n        name: 'classes',\n        type: 'listbox',\n        label: 'Class',\n        items\n      }));\n      const caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      const getDialogContainerType = useColumns => useColumns ? {\n        type: 'grid',\n        columns: 2\n      } : { type: 'panel' };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [{\n            ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          }]\n      ]);\n    };\n    const makeTab$1 = info => ({\n      title: 'General',\n      name: 'general',\n      items: makeItems(info)\n    });\n    const MainTab = {\n      makeTab: makeTab$1,\n      makeItems\n    };\n\n    const makeTab = _info => {\n      const items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items\n      };\n    };\n    const UploadTab = { makeTab };\n\n    const createState = info => ({\n      prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n      prevAlt: info.image.alt,\n      open: true\n    });\n    const fromImageData = image => ({\n      src: {\n        value: image.src,\n        meta: {}\n      },\n      images: image.src,\n      alt: image.alt,\n      title: image.title,\n      dimensions: {\n        width: image.width,\n        height: image.height\n      },\n      classes: image.class,\n      caption: image.caption,\n      style: image.style,\n      vspace: image.vspace,\n      border: image.border,\n      hspace: image.hspace,\n      borderstyle: image.borderStyle,\n      fileinput: [],\n      isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n      src: data.src.value,\n      alt: (data.alt === null || data.alt.length === 0) && removeEmptyAlt ? null : data.alt,\n      title: data.title,\n      width: data.dimensions.width,\n      height: data.dimensions.height,\n      class: data.classes,\n      style: data.style,\n      caption: data.caption,\n      hspace: data.hspace,\n      vspace: data.vspace,\n      border: data.border,\n      borderStyle: data.borderstyle,\n      isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(prependUrl => {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n      const data = api.getData();\n      addPrependUrl2(info, data.src.value).each(srcURL => {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(entry => {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    const formFillFromMeta = (info, api) => {\n      const data = api.getData();\n      const meta = data.src.meta;\n      if (meta !== undefined) {\n        const newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n      const data = api.getData();\n      const url = data.src.value;\n      const meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(size => {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(e => console.error(e));\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({ images: image.map(entry => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(img => {\n        const updateAlt = data.alt === '' || state.prevImage.map(image => image.text === data.alt).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n      const data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(() => {\n        api.unblock();\n      }, file => {\n        const blobUri = URL.createObjectURL(file);\n        const finalize = () => {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        const updateSrcAndSwitchTab = url => {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n          api.focus('src');\n        };\n        blobToDataUri(file).then(dataUrl => {\n          const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(result => {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(err => {\n              finalize();\n              helpers.alertErr(err, () => {\n                api.focus('fileinput');\n              });\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n      if (evt.name === 'src') {\n        changeSrc(helpers, info, state, api);\n      } else if (evt.name === 'images') {\n        changeImages(helpers, info, state, api);\n      } else if (evt.name === 'alt') {\n        state.prevAlt = api.getData().alt;\n      } else if (evt.name === 'fileinput') {\n        changeFileInput(helpers, info, state, api);\n      } else if (evt.name === 'isDecorative') {\n        api.setEnabled('alt', !api.getData().isDecorative);\n      }\n    };\n    const closeHandler = state => () => {\n      state.open = false;\n    };\n    const makeDialogBody = info => {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        const tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        const panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    const submitHandler = (editor, info, helpers) => api => {\n      const data = deepMerge(fromImageData(info.image), api.getData());\n      const finalData = {\n        ...data,\n        style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n      };\n      editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n      editor.editorUpload.uploadImagesAuto();\n      api.close();\n    };\n    const imageSize = editor => url => {\n      if (!isSafeImageUrl(editor, url)) {\n        return Promise.resolve({\n          width: '',\n          height: ''\n        });\n      } else {\n        return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(dimensions => ({\n          width: String(dimensions.width),\n          height: String(dimensions.height)\n        }));\n      }\n    };\n    const createBlobCache = editor => (file, blobUri, dataUrl) => {\n      var _a;\n      return editor.editorUpload.blobCache.create({\n        blob: file,\n        blobUri,\n        name: (_a = file.name) === null || _a === void 0 ? void 0 : _a.replace(/\\.[^\\.]+$/, ''),\n        filename: file.name,\n        base64: dataUrl.split(',')[1]\n      });\n    };\n    const addToBlobCache = editor => blobInfo => {\n      editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = editor => (message, callback) => {\n      editor.windowManager.alert(message, callback);\n    };\n    const normalizeCss = editor => cssText => normalizeCss$1(editor, cssText);\n    const parseStyle = editor => cssText => editor.dom.parseStyle(cssText);\n    const serializeStyle = editor => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = editor => blobInfo => global$1(editor).upload([blobInfo], false).then(results => {\n      var _a;\n      if (results.length === 0) {\n        return Promise.reject('Failed to upload image');\n      } else if (results[0].status === false) {\n        return Promise.reject((_a = results[0].error) === null || _a === void 0 ? void 0 : _a.message);\n      } else {\n        return results[0];\n      }\n    });\n    const Dialog = editor => {\n      const helpers = {\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      const open = () => {\n        collect(editor).then(info => {\n          const state = createState(info);\n          return {\n            title: 'Insert/Edit Image',\n            size: 'normal',\n            body: makeDialogBody(info),\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            initialData: fromImageData(info.image),\n            onSubmit: submitHandler(editor, info, helpers),\n            onChange: changeHandler(helpers, info, state),\n            onClose: closeHandler(state)\n          };\n        }).then(editor.windowManager.open);\n      };\n      return { open };\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', (_ui, data) => {\n        editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n      });\n    };\n\n    const hasImageClass = node => {\n      const className = node.attr('class');\n      return isNonNullable(className) && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = state => nodes => {\n      let i = nodes.length;\n      const toggleContentEditable = node => {\n        node.attr('contenteditable', state ? 'true' : null);\n      };\n      while (i--) {\n        const node = nodes[i];\n        if (hasImageClass(node)) {\n          node.attr('contenteditable', state ? 'false' : null);\n          global.each(node.getAll('figcaption'), toggleContentEditable);\n        }\n      }\n    };\n    const setup = editor => {\n      editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const register = editor => {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: buttonApi => {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          const unbindSelectorChanged = editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n          const unbindEditable = onSetupEditable(editor)(buttonApi);\n          return () => {\n            unbindSelectorChanged();\n            unbindEditable();\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open,\n        onSetup: onSetupEditable(editor)\n      });\n      editor.ui.registry.addContextMenu('image', { update: element => editor.selection.isEditable() && (isFigure(element) || isImage(element) && !isPlaceholderImage(element)) ? ['image'] : [] });\n    };\n\n    var Plugin = () => {\n      global$4.add('image', editor => {\n        register$2(editor);\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const isAnchor = elm => isNonNullable(elm) && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const firstChild = contents.firstChild;\n        const walker = new global$3(firstChild, contents);\n        const elements = [];\n        let current = firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      var _a, _b;\n      return (_b = (_a = elm.getAttribute('data-mce-href')) !== null && _a !== void 0 ? _a : elm.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$2.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$2.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || getLinksInSelection(editor.selection.getRng())[0] || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return Optional.from(editor.dom.select('a[href]', selectedElm)[0]);\n      } else {\n        return Optional.from(editor.dom.getParent(selectedElm, 'a[href]'));\n      }\n    };\n    const isInAnchor = (editor, selectedElm) => getAnchorElement(editor, selectedElm).isSome();\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm.fold(() => selection.getContent({ format: 'text' }), anchorElm => anchorElm.innerText || anchorElm.textContent || '');\n      return trimCaretContainers(text);\n    };\n    const getLinksInSelection = rng => collectNodesInRange(rng, isLink);\n    const getLinks$1 = elements => global$2.grep(elements, isLink);\n    const hasLinks = elements => getLinks$1(elements).length > 0;\n    const hasLinksInSelection = rng => getLinksInSelection(rng).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const isInBlockAnchor = getAnchorElement(editor).exists(anchor => anchor.hasAttribute('data-mce-block'));\n      if (isInBlockAnchor) {\n        return false;\n      }\n      const rng = editor.selection.getRng();\n      if (!rng.collapsed) {\n        const elements = collectNodesInRange(rng, isElement);\n        return elements.length === 0;\n      } else {\n        return true;\n      }\n    };\n    const isImageFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      const dom = editor.dom;\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(dom, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(dom.createHTML('a', linkAttrs, dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        anchorElm.fold(() => {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }, elm => {\n          editor.focus();\n          updateLink(editor, elm, data.text, linkAttrs);\n        });\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$4.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      var _a;\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          (_a = a.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (dom, fig, attrs) => {\n      var _a;\n      const img = dom.select('img', fig)[0];\n      if (img) {\n        const a = dom.create('a', attrs);\n        (_a = img.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$2.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.title.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.title).getOr(''));\n      };\n      const getTextFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.text.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.text).getOr(url.value));\n      };\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change).getOr([]);\n        return getDelta(persistentData.text, change, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), name);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global$1.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url || '', 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'href')));\n      const target = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'target')));\n      const rel = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'rel'));\n      const linkClass = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'class'));\n      const title = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'title'));\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: linkNode,\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL',\n          picker_text: 'Browse links'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', (_ui, value) => {\n        if ((value === null || value === void 0 ? void 0 : value.dialog) === true || !useQuickLink(editor)) {\n          open(editor);\n        } else {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        }\n      });\n    };\n\n    const setup$2 = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const openLink = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = new MouseEvent('click', {\n        bubbles: true,\n        cancelable: true,\n        view: window\n      });\n      document.dispatchEvent(evt);\n      appendClickRemove(link, evt);\n    };\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(`${ href },[name=\"${ removeLeading(href, '#') }\"]`);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          openLink(a.href);\n        }\n      }\n    };\n    const isSelectionOnImageWithEmbeddedLink = editor => {\n      const rng = editor.selection.getRng();\n      const node = rng.startContainer;\n      return isLink(node) && rng.startContainer === rng.endContainer && editor.dom.select('img', node).length === 1;\n    };\n    const getLinkFromElement = (editor, element) => {\n      const links = getLinks$1(editor.dom.getParents(element));\n      return someIf(links.length === 1, links[0]);\n    };\n    const getLinkInSelection = editor => {\n      const links = getLinksInSelection(editor.selection.getRng());\n      return someIf(links.length > 0, links[0]).or(getLinkFromElement(editor, editor.selection.getNode()));\n    };\n    const getLinkFromSelection = editor => editor.selection.isCollapsed() || isSelectionOnImageWithEmbeddedLink(editor) ? getLinkFromElement(editor, editor.selection.getStart()) : getLinkInSelection(editor);\n    const setup$1 = editor => {\n      const selectedLink = value();\n      const getSelectedLink = () => selectedLink.get().or(getLinkFromSelection(editor));\n      const gotoSelectedLink = () => getSelectedLink().each(link => gotoLink(editor, link));\n      editor.on('contextmenu', e => {\n        getLinkFromElement(editor, e.target).each(selectedLink.set);\n      });\n      editor.on('SelectionChange', () => {\n        if (!selectedLink.isSet()) {\n          getLinkFromSelection(editor).each(selectedLink.set);\n        }\n      });\n      editor.on('click', e => {\n        selectedLink.clear();\n        const links = getLinks$1(editor.dom.getParents(e.target));\n        if (links.length === 1 && global.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, links[0]);\n        }\n      });\n      editor.on('keydown', e => {\n        selectedLink.clear();\n        if (!e.isDefaultPrevented() && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          getSelectedLink().each(link => {\n            e.preventDefault();\n            gotoLink(editor, link);\n          });\n        }\n      });\n      return { gotoSelectedLink };\n    };\n\n    const openDialog = editor => () => {\n      editor.execCommand('mceLink', false, { dialog: true });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleLinkState = editor => api => {\n      const updateState = () => {\n        api.setActive(!editor.mode.isReadOnly() && isInAnchor(editor, editor.selection.getNode()));\n        api.setEnabled(editor.selection.isEditable());\n      };\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleLinkMenuState = editor => api => {\n      const updateState = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleRequiresLinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      const updateEnabled = parents => {\n        api.setEnabled(hasLinks$1(parents) && editor.selection.isEditable());\n      };\n      updateEnabled(parents);\n      return toggleState(editor, e => updateEnabled(e.parents));\n    };\n    const setupButtons = (editor, openLink) => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor),\n        onSetup: toggleLinkState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: openLink.gotoSelectedLink,\n        onSetup: toggleRequiresLinkState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleRequiresLinkState(editor)\n      });\n    };\n    const setupMenuItems = (editor, openLink) => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: openLink.gotoSelectedLink,\n        onSetup: toggleRequiresLinkState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor),\n        onSetup: toggleLinkMenuState(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleRequiresLinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: element => {\n          const isEditable = editor.dom.isEditable(element);\n          if (!isEditable) {\n            return '';\n          }\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    const setupContextToolbars = (editor, openLink) => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(isInAnchor(editor, node) && editor.selection.isEditable());\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (anchor.isNone() && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return someIf(text.length === 0, value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleLinkState(editor)\n        },\n        label: 'Link',\n        predicate: node => hasContextToolbar(editor) && isInAnchor(editor, node),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return elm.fold(constant(''), getHref);\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(isInAnchor(editor, node));\n              return toggleLinkState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.from(getDefaultLinkTarget(editor)),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              openLink.gotoSelectedLink();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n    const setup = editor => {\n      const openLink = setup$1(editor);\n      setupButtons(editor, openLink);\n      setupMenuItems(editor, openLink);\n      setupContextMenu(editor);\n      setupContextToolbars(editor, openLink);\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$2(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const never = constant(false);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$1 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const filter$1 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const groupBy = (xs, f) => {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        let wasType = f(xs[0]);\n        const r = [];\n        let group = [];\n        for (let i = 0, len = xs.length; i < len; i++) {\n          const x = xs[i];\n          const type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const get$1 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$1(xs, 0);\n    const last = xs => get$1(xs, xs.length - 1);\n    const unique = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$1(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n\n    const COMMENT = 8;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is = is$1;\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name(e) === tag;\n\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child(element, 0);\n    const lastChild = element => child(element, element.dom.childNodes.length - 1);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const getRootNode = e => SugarElement.fromDom(e.dom.getRootNode());\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$3 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n\n    const ancestor$2 = (scope, selector, isRoot) => ancestor$3(scope, e => is$1(e, selector), isRoot);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$1(element, selector);\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n\n    const before = (marker, elements) => {\n      each$1(elements, x => {\n        before$1(marker, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$1(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove(rogue);\n      });\n    };\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const keys = Object.keys;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const deep = original => clone(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const matchNodeName = name => node => isNonNullable(node) && node.nodeName.toLowerCase() === name;\n    const matchNodeNames = regex => node => isNonNullable(node) && regex.test(node.nodeName);\n    const isTextNode$1 = node => isNonNullable(node) && node.nodeType === 3;\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    const isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    const isOlNode = matchNodeName('ol');\n    const isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    const isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    const isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    const isBr = matchNodeName('br');\n    const isFirstChild = node => {\n      var _a;\n      return ((_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === node;\n    };\n    const isTextBlock = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getTextBlockElements();\n    const isBlock = (node, blockElements) => isNonNullable(node) && node.nodeName in blockElements;\n    const isVoid = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getVoidElements();\n    const isBogusBr = (dom, node) => {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    const isEmpty$2 = (dom, elm, keepBookmarks) => {\n      const empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    const isChildOfBody = (dom, elm) => dom.isChildOf(elm, dom.getRoot());\n\n    const option = name => editor => editor.options.get(name);\n    const register$3 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('lists_indent_on_tab', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const shouldIndentOnTab = option('lists_indent_on_tab');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n\n    const createTextBlock = (editor, contentNode, attrs = {}) => {\n      const dom = editor.dom;\n      const blockElements = editor.schema.getBlockElements();\n      const fragment = dom.createFragment();\n      const blockName = getForcedRootBlock(editor);\n      const blockAttrs = getForcedRootBlockAttrs(editor);\n      let node;\n      let textBlock;\n      let hasContentNode = false;\n      textBlock = dom.create(blockName, {\n        ...blockAttrs,\n        ...attrs.style ? { style: attrs.style } : {}\n      });\n      if (!isBlock(contentNode.firstChild, blockElements)) {\n        fragment.appendChild(textBlock);\n      }\n      while (node = contentNode.firstChild) {\n        const nodeName = node.nodeName;\n        if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n          hasContentNode = true;\n        }\n        if (isBlock(node, blockElements)) {\n          fragment.appendChild(node);\n          textBlock = null;\n        } else {\n          if (!textBlock) {\n            textBlock = dom.create(blockName, blockAttrs);\n            fragment.appendChild(textBlock);\n          }\n          textBlock.appendChild(node);\n        }\n      }\n      if (!hasContentNode && textBlock) {\n        textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n      return fragment;\n    };\n\n    const DOM$2 = global$3.DOM;\n    const splitList = (editor, list, li) => {\n      const removeAndKeepBookmarks = targetNode => {\n        const parent = targetNode.parentNode;\n        if (parent) {\n          global$2.each(bookmarks, node => {\n            parent.insertBefore(node, li.parentNode);\n          });\n        }\n        DOM$2.remove(targetNode);\n      };\n      const bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      const newBlock = createTextBlock(editor, li);\n      const tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      const fragment = tmpRng.extractContents();\n      for (let node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      const parent = li.parentElement;\n      if (parent && isEmpty$2(editor.dom, parent)) {\n        removeAndKeepBookmarks(parent);\n      }\n      DOM$2.remove(li);\n      if (isEmpty$2(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    const isDescriptionDetail = isTag('dd');\n    const isDescriptionTerm = isTag('dt');\n    const outdentDlItem = (editor, item) => {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parentElement(item).each(dl => splitList(editor, dl.dom, item.dom));\n      }\n    };\n    const indentDlItem = item => {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    const dlIndentation = (editor, indentation, dlItems) => {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, item => outdentDlItem(editor, item));\n      }\n    };\n\n    const getNormalizedPoint = (container, offset) => {\n      if (isTextNode$1(container)) {\n        return {\n          container,\n          offset\n        };\n      }\n      const node = global$6.getNode(container, offset);\n      if (isTextNode$1(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode$1(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode$1(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container,\n        offset\n      };\n    };\n    const normalizeRange = rng => {\n      const outRng = rng.cloneRange();\n      const rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      const rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    const listNames = [\n      'OL',\n      'UL',\n      'DL'\n    ];\n    const listSelector = listNames.join(',');\n    const getParentList = (editor, node) => {\n      const selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, listSelector, getClosestListHost(editor, selectionStart));\n    };\n    const isParentListSelected = (parentList, selectedBlocks) => isNonNullable(parentList) && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    const findSubLists = parentList => filter$1(parentList.querySelectorAll(listSelector), isListNode);\n    const getSelectedSubLists = editor => {\n      const parentList = getParentList(editor);\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, elm => {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    const findParentListItemsNodes = (editor, elms) => {\n      const listItemsElms = global$2.map(elms, elm => {\n        const parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListHost(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return unique(listItemsElms);\n    };\n    const getSelectedListItems = editor => {\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    const getSelectedDlItems = editor => filter$1(getSelectedListItems(editor), isDlItemNode);\n    const getClosestEditingHost = (editor, elm) => {\n      const parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    const isListHost = (schema, node) => !isListNode(node) && !isListItemNode(node) && exists(listNames, listName => schema.isValidChild(node.nodeName, listName));\n    const getClosestListHost = (editor, elm) => {\n      const parentBlocks = editor.dom.getParents(elm, editor.dom.isBlock);\n      const isNotForcedRootBlock = elm => elm.nodeName.toLowerCase() !== getForcedRootBlock(editor);\n      const parentBlock = find(parentBlocks, elm => isNotForcedRootBlock(elm) && isListHost(editor.schema, elm));\n      return parentBlock.getOr(editor.getBody());\n    };\n    const isListInsideAnLiWithFirstAndLastNotListElement = list => parent(list).exists(parent => isListItemNode(parent.dom) && firstChild(parent).exists(firstChild => !isListNode(firstChild.dom)) && lastChild(parent).exists(lastChild => !isListNode(lastChild.dom)));\n    const findLastParentListNode = (editor, elm) => {\n      const parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n      return last(parentLists);\n    };\n    const getSelectedLists = editor => {\n      const firstList = findLastParentListNode(editor, editor.selection.getStart());\n      const subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    const getParentLists = editor => {\n      const elm = editor.selection.getStart();\n      return editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n    };\n    const getSelectedListRoots = editor => {\n      const selectedLists = getSelectedLists(editor);\n      const parentLists = getParentLists(editor);\n      return find(parentLists, p => isListInsideAnLiWithFirstAndLastNotListElement(SugarElement.fromDom(p))).fold(() => getUniqueListRoots(editor, selectedLists), l => [l]);\n    };\n    const getUniqueListRoots = (editor, lists) => {\n      const listRoots = map(lists, list => findLastParentListNode(editor, list).getOr(list));\n      return unique(listRoots);\n    };\n\n    const isCustomList = list => /\\btox\\-/.test(list.className);\n    const inList = (parents, listName) => findUntil(parents, isListNode, isTableCellNode).exists(list => list.nodeName === listName && !isCustomList(list));\n    const isWithinNonEditable = (editor, element) => element !== null && !editor.dom.isEditable(element);\n    const selectionIsWithinNonEditableList = editor => {\n      const parentList = getParentList(editor);\n      return isWithinNonEditable(editor, parentList) || !editor.selection.isEditable();\n    };\n    const isWithinNonEditableList = (editor, element) => {\n      const parentList = editor.dom.getParent(element, 'ol,ul,dl');\n      return isWithinNonEditable(editor, parentList) || !editor.selection.isEditable();\n    };\n    const setNodeChangeHandler = (editor, nodeChangeHandler) => {\n      const initialNode = editor.selection.getNode();\n      nodeChangeHandler({\n        parents: editor.dom.getParents(initialNode),\n        element: initialNode\n      });\n      editor.on('NodeChange', nodeChangeHandler);\n      return () => editor.off('NodeChange', nodeChangeHandler);\n    };\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$1(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const fireListEvent = (editor, action, element) => editor.dispatch('ListMutation', {\n      action,\n      element\n    });\n\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$1 = s => !isNotEmpty(s);\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const set = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    const isList = el => is(el, 'OL,UL');\n    const isListItem = el => is(el, 'LI');\n    const hasFirstChildList = el => firstChild(el).exists(isList);\n    const hasLastChildList = el => lastChild(el).exists(isList);\n\n    const isEntryList = entry => 'listAttributes' in entry;\n    const isEntryComment = entry => 'isComment' in entry;\n    const isEntryFragment = entry => 'isFragment' in entry;\n    const isIndented = entry => entry.depth > 0;\n    const isSelected = entry => entry.isSelected;\n    const cloneItemContent = li => {\n      const children$1 = children(li);\n      const content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    const createEntry = (li, depth, isSelected) => parent(li).filter(isElement$1).map(list => ({\n      depth,\n      dirty: false,\n      isSelected,\n      content: cloneItemContent(li),\n      itemAttributes: clone$1(li),\n      listAttributes: clone$1(list),\n      listType: name(list),\n      isInPreviousLi: false\n    }));\n\n    const joinSegment = (parent, child) => {\n      append$1(parent.item, child.list);\n    };\n    const joinSegments = segments => {\n      for (let i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    const appendSegments = (head$1, tail) => {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    const createSegment = (scope, listType) => {\n      const segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    const createSegments = (scope, entry, size) => {\n      const segments = [];\n      for (let i = 0; i < size; i++) {\n        segments.push(createSegment(scope, isEntryList(entry) ? entry.listType : entry.parentListType));\n      }\n      return segments;\n    };\n    const populateSegments = (segments, entry) => {\n      for (let i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(segment => {\n        if (isEntryList(entry)) {\n          setAll(segment.list, entry.listAttributes);\n          setAll(segment.item, entry.itemAttributes);\n        }\n        append(segment.item, entry.content);\n      });\n    };\n    const normalizeSegment = (segment, entry) => {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    const createItem = (scope, attr, content) => {\n      const item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    const appendItem = (segment, item) => {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    const writeShallow = (scope, cast, entry) => {\n      const newCast = cast.slice(0, entry.depth);\n      last(newCast).each(segment => {\n        if (isEntryList(entry)) {\n          const item = createItem(scope, entry.itemAttributes, entry.content);\n          appendItem(segment, item);\n          normalizeSegment(segment, entry);\n        } else if (isEntryFragment(entry)) {\n          append(segment.item, entry.content);\n        } else {\n          const item = SugarElement.fromHtml(`<!--${ entry.content }-->`);\n          append$1(segment.list, item);\n        }\n      });\n      return newCast;\n    };\n    const writeDeep = (scope, cast, entry) => {\n      const segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    const composeList = (scope, entries) => {\n      let firstCommentEntryOpt = Optional.none();\n      const cast = foldl(entries, (cast, entry, i) => {\n        if (!isEntryComment(entry)) {\n          return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n        } else {\n          if (i === 0) {\n            firstCommentEntryOpt = Optional.some(entry);\n            return cast;\n          }\n          return writeShallow(scope, cast, entry);\n        }\n      }, []);\n      firstCommentEntryOpt.each(firstCommentEntry => {\n        const item = SugarElement.fromHtml(`<!--${ firstCommentEntry.content }-->`);\n        head(cast).each(fistCast => {\n          prepend(fistCast.list, item);\n        });\n      });\n      return head(cast).map(segment => segment.list);\n    };\n\n    const indentEntry = (indentation, entry) => {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    const cloneListProperties = (target, source) => {\n      if (isEntryList(target) && isEntryList(source)) {\n        target.listType = source.listType;\n        target.listAttributes = { ...source.listAttributes };\n      }\n    };\n    const cleanListProperties = entry => {\n      entry.listAttributes = filter(entry.listAttributes, (_value, key) => key !== 'start');\n    };\n    const closestSiblingEntry = (entries, start) => {\n      const depth = entries[start].depth;\n      const matches = entry => entry.depth === depth && !entry.dirty;\n      const until = entry => entry.depth < depth;\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(() => findUntil(entries.slice(start + 1), matches, until));\n    };\n    const normalizeEntries = entries => {\n      each$1(entries, (entry, i) => {\n        closestSiblingEntry(entries, i).fold(() => {\n          if (entry.dirty && isEntryList(entry)) {\n            cleanListProperties(entry);\n          }\n        }, matchingEntry => cloneListProperties(entry, matchingEntry));\n      });\n      return entries;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const parseSingleItem = (depth, itemSelection, selectionState, item) => {\n      var _a;\n      if (isComment(item)) {\n        return [{\n            depth: depth + 1,\n            content: (_a = item.dom.nodeValue) !== null && _a !== void 0 ? _a : '',\n            dirty: false,\n            isSelected: false,\n            isComment: true\n          }];\n      }\n      itemSelection.each(selection => {\n        if (eq(selection.start, item)) {\n          selectionState.set(true);\n        }\n      });\n      const currentItemEntry = createEntry(item, depth, selectionState.get());\n      itemSelection.each(selection => {\n        if (eq(selection.end, item)) {\n          selectionState.set(false);\n        }\n      });\n      const childListEntries = lastChild(item).filter(isList).map(list => parseList(depth, itemSelection, selectionState, list)).getOr([]);\n      return currentItemEntry.toArray().concat(childListEntries);\n    };\n    const parseItem = (depth, itemSelection, selectionState, item) => firstChild(item).filter(isList).fold(() => parseSingleItem(depth, itemSelection, selectionState, item), list => {\n      const parsedSiblings = foldl(children(item), (acc, liChild, i) => {\n        if (i === 0) {\n          return acc;\n        } else {\n          if (isListItem(liChild)) {\n            return acc.concat(parseSingleItem(depth, itemSelection, selectionState, liChild));\n          } else {\n            const fragment = {\n              isFragment: true,\n              depth,\n              content: [liChild],\n              isSelected: false,\n              dirty: false,\n              parentListType: name(list)\n            };\n            return acc.concat(fragment);\n          }\n        }\n      }, []);\n      return parseList(depth, itemSelection, selectionState, list).concat(parsedSiblings);\n    });\n    const parseList = (depth, itemSelection, selectionState, list) => bind(children(list), element => {\n      const parser = isList(element) ? parseList : parseItem;\n      const newDepth = depth + 1;\n      return parser(newDepth, itemSelection, selectionState, element);\n    });\n    const parseLists = (lists, itemSelection) => {\n      const selectionState = Cell(false);\n      const initialDepth = 0;\n      return map(lists, list => ({\n        sourceList: list,\n        entries: parseList(initialDepth, itemSelection, selectionState, list)\n      }));\n    };\n\n    const outdentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, entry => {\n        const content = !isEntryComment(entry) ? fromElements(entry.content) : fromElements([SugarElement.fromHtml(`<!--${ entry.content }-->`)]);\n        const listItemAttrs = isEntryList(entry) ? entry.itemAttributes : {};\n        return SugarElement.fromDom(createTextBlock(editor, content.dom, listItemAttrs));\n      });\n    };\n    const indentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    const composeEntries = (editor, entries) => bind(groupBy(entries, isIndented), entries => {\n      const groupIsIndented = head(entries).exists(isIndented);\n      return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n    });\n    const indentSelectedEntries = (entries, indentation) => {\n      each$1(filter$1(entries, isSelected), entry => indentEntry(indentation, entry));\n    };\n    const getItemSelection = editor => {\n      const selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), (start, end) => ({\n        start,\n        end\n      }));\n    };\n    const listIndentation = (editor, lists, indentation) => {\n      const entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, entrySet => {\n        indentSelectedEntries(entrySet.entries, indentation);\n        const composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, composedList => {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    const selectionIndentation = (editor, indentation) => {\n      const lists = fromDom(getSelectedListRoots(editor));\n      const dlItems = fromDom(getSelectedDlItems(editor));\n      let isHandled = false;\n      if (lists.length || dlItems.length) {\n        const bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    const handleIndentation = (editor, indentation) => !selectionIsWithinNonEditableList(editor) && selectionIndentation(editor, indentation);\n    const indentListSelection = editor => handleIndentation(editor, 'Indent');\n    const outdentListSelection = editor => handleIndentation(editor, 'Outdent');\n    const flattenListSelection = editor => handleIndentation(editor, 'Flatten');\n\n    const zeroWidth = '\\uFEFF';\n    const isZwsp = char => char === zeroWidth;\n\n    const ancestor$1 = (scope, predicate, isRoot) => ancestor$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (element, target) => ancestor$1(element, curry(eq, target));\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    const DOM$1 = global$3.DOM;\n    const createBookmark = rng => {\n      const bookmark = {};\n      const setupEndPoint = start => {\n        let container = rng[start ? 'startContainer' : 'endContainer'];\n        let offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (isElement(container)) {\n          const offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    const resolveBookmark = bookmark => {\n      const restoreEndPoint = start => {\n        const nodeIndex = container => {\n          var _a;\n          let node = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild;\n          let idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (!isElement(node) || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        let container = bookmark[start ? 'startContainer' : 'endContainer'];\n        let offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (isElement(container) && container.parentNode) {\n          const node = container;\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      const rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    const listToggleActionFromListName = listName => {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    const updateListStyle = (dom, el, detail) => {\n      const type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    const setAttribs = (elm, attrs) => {\n      global$2.each(attrs, (value, key) => {\n        elm.setAttribute(key, value);\n      });\n    };\n    const updateListAttrs = (dom, el, detail) => {\n      setAttribs(el, detail['list-attributes']);\n      global$2.each(dom.select('li', el), li => {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    const updateListWithDetails = (dom, el, detail) => {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    const removeStyles = (dom, element, styles) => {\n      global$2.each(styles, style => dom.setStyle(element, style, ''));\n    };\n    const isInline = (editor, node) => isNonNullable(node) && !isBlock(node, editor.schema.getBlockElements());\n    const getEndPointNode = (editor, rng, start, root) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      const offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement(container)) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      const findBlockAncestor = node => {\n        while (!editor.dom.isBlock(node) && node.parentNode && root !== node) {\n          node = node.parentNode;\n        }\n        return node;\n      };\n      const findBetterContainer = (container, forward) => {\n        var _a;\n        const walker = new global$5(container, findBlockAncestor(container));\n        const dir = forward ? 'next' : 'prev';\n        let node;\n        while (node = walker[dir]()) {\n          if (!(isVoid(editor, node) || isZwsp(node.textContent) || ((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.length) === 0)) {\n            return Optional.some(node);\n          }\n        }\n        return Optional.none();\n      };\n      if (start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, false).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.previousSibling !== null && (isInline(editor, container.previousSibling) || isTextNode$1(container.previousSibling))) {\n            container = container.previousSibling;\n          }\n        }\n      }\n      if (!start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, true).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.nextSibling !== null && (isInline(editor, container.nextSibling) || isTextNode$1(container.nextSibling))) {\n            container = container.nextSibling;\n          }\n        }\n      }\n      while (container.parentNode !== root) {\n        const parent = container.parentNode;\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(parent.nodeName)) {\n          return container;\n        }\n        container = parent;\n      }\n      return container;\n    };\n    const getSelectedTextBlocks = (editor, rng, root) => {\n      const textBlocks = [];\n      const dom = editor.dom;\n      const startNode = getEndPointNode(editor, rng, true, root);\n      const endNode = getEndPointNode(editor, rng, false, root);\n      let block;\n      const siblings = [];\n      for (let node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$2.each(siblings, node => {\n        var _a;\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        const nextSibling = node.nextSibling;\n        if (global$1.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    const hasCompatibleStyle = (dom, sib, detail) => {\n      const sibStyle = dom.getStyle(sib, 'list-style-type');\n      let detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    const getRootSearchStart = (editor, range) => {\n      const start = editor.selection.getStart(true);\n      const startPoint = getEndPointNode(editor, range, true, editor.getBody());\n      if (ancestor(SugarElement.fromDom(startPoint), SugarElement.fromDom(range.commonAncestorContainer))) {\n        return range.commonAncestorContainer;\n      } else {\n        return start;\n      }\n    };\n    const applyList = (editor, listName, detail) => {\n      const rng = editor.selection.getRng();\n      let listItemName = 'LI';\n      const root = getClosestListHost(editor, getRootSearchStart(editor, rng));\n      const dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      const bookmark = createBookmark(rng);\n      const selectedTextBlocks = filter$1(getSelectedTextBlocks(editor, rng, root), editor.dom.isEditable);\n      global$2.each(selectedTextBlocks, block => {\n        let listBlock;\n        const sibling = block.previousSibling;\n        const parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            parent.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    const isValidLists = (list1, list2) => {\n      return isListNode(list1) && list1.nodeName === (list2 === null || list2 === void 0 ? void 0 : list2.nodeName);\n    };\n    const hasSameListStyle = (dom, list1, list2) => {\n      const targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      const style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    const hasSameClasses = (elm1, elm2) => {\n      return elm1.className === elm2.className;\n    };\n    const shouldMerge = (dom, list1, list2) => {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    const mergeWithAdjacentLists = (dom, listBlock) => {\n      let node;\n      let sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(liSibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(liSibling);\n      }\n    };\n    const updateList$1 = (editor, list, listName, detail) => {\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const updateCustomList = (editor, list, listName, detail) => {\n      list.classList.forEach((cls, _, classList) => {\n        if (cls.startsWith('tox-')) {\n          classList.remove(cls);\n          if (classList.length === 0) {\n            list.removeAttribute('class');\n          }\n        }\n      });\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const toggleMultipleLists = (editor, parentList, lists, listName, detail) => {\n      const parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        const bookmark = createBookmark(editor.selection.getRng());\n        const allLists = parentIsList ? [\n          parentList,\n          ...lists\n        ] : lists;\n        const updateFunction = parentIsList && isCustomList(parentList) ? updateCustomList : updateList$1;\n        global$2.each(allLists, elm => {\n          updateFunction(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const hasListStyleDetail = detail => {\n      return 'list-style-type' in detail;\n    };\n    const toggleSingleList = (editor, parentList, listName, detail) => {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          const bookmark = createBookmark(editor.selection.getRng());\n          if (isCustomList(parentList)) {\n            parentList.classList.forEach((cls, _, classList) => {\n              if (cls.startsWith('tox-')) {\n                classList.remove(cls);\n                if (classList.length === 0) {\n                  parentList.removeAttribute('class');\n                }\n              }\n            });\n          }\n          updateListWithDetails(editor.dom, parentList, detail);\n          const newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    const toggleList = (editor, listName, _detail) => {\n      const parentList = getParentList(editor);\n      if (isWithinNonEditableList(editor, parentList)) {\n        return;\n      }\n      const selectedSubLists = getSelectedSubLists(editor);\n      const detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    const DOM = global$3.DOM;\n    const normalizeList = (dom, list) => {\n      const parentNode = list.parentElement;\n      if (parentNode && parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty$2(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    const normalizeLists = (dom, element) => {\n      const lists = global$2.grep(dom.select('ol,ul', element));\n      global$2.each(lists, list => {\n        normalizeList(dom, list);\n      });\n    };\n\n    const findNextCaretContainer = (editor, rng, isForward, root) => {\n      let node = rng.startContainer;\n      const offset = rng.startOffset;\n      if (isTextNode$1(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      const nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (isElement(node)) {\n        node = global$6.getNode(node, offset);\n      }\n      const walker = new global$5(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      const walkFn = isForward ? walker.next.bind(walker) : walker.prev2.bind(walker);\n      while (node = walkFn()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode$1(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const hasOnlyOneBlockChild = (dom, elm) => {\n      const childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    const isUnwrappable = node => Optional.from(node).map(SugarElement.fromDom).filter(isHTMLElement).exists(el => isEditable(el) && !contains$1(['details'], name(el)));\n    const unwrapSingleBlockChild = (dom, elm) => {\n      if (hasOnlyOneBlockChild(dom, elm) && isUnwrappable(elm.firstChild)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    const moveChildren = (dom, fromElm, toElm) => {\n      let node;\n      const targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty$2(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    const mergeLiElements = (dom, fromElm, toElm) => {\n      let listNode;\n      const ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      const node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty$2(dom, toElm, true)) {\n        empty(SugarElement.fromDom(toElm));\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      const contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      const nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, list => {\n        if (isEmpty$2(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    const mergeIntoEmptyLi = (editor, fromLi, toLi) => {\n      empty(SugarElement.fromDom(toLi));\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    const mergeForward = (editor, rng, fromLi, toLi) => {\n      const dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        const bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const mergeBackward = (editor, rng, fromLi, toLi) => {\n      const bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      const resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    const backspaceDeleteFromListToListCaret = (editor, isForward) => {\n      const dom = editor.dom, selection = editor.selection;\n      const selectionStartElm = selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        const ul = li.parentElement;\n        if (ul === editor.getBody() && isEmpty$2(dom, ul)) {\n          return true;\n        }\n        const rng = normalizeRange(selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        const willMergeParentIntoChild = otherLi && (isForward ? dom.isChildOf(li, otherLi) : dom.isChildOf(otherLi, li));\n        if (otherLi && otherLi !== li && !willMergeParentIntoChild) {\n          editor.undoManager.transact(() => {\n            if (isForward) {\n              mergeForward(editor, rng, otherLi, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng, li, otherLi);\n              }\n            }\n          });\n          return true;\n        } else if (willMergeParentIntoChild && !isForward && otherLi !== li) {\n          editor.undoManager.transact(() => {\n            if (rng.commonAncestorContainer.parentElement) {\n              const bookmark = createBookmark(rng);\n              const oldParentElRef = rng.commonAncestorContainer.parentElement;\n              moveChildren(dom, rng.commonAncestorContainer.parentElement, otherLi);\n              oldParentElRef.remove();\n              const resolvedBookmark = resolveBookmark(bookmark);\n              editor.selection.setRng(resolvedBookmark);\n            }\n          });\n          return true;\n        } else if (!otherLi) {\n          if (!isForward && rng.startOffset === 0 && rng.endOffset === 0) {\n            editor.undoManager.transact(() => {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const removeBlock = (dom, block, root) => {\n      const parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    const backspaceDeleteIntoListCaret = (editor, isForward) => {\n      const dom = editor.dom;\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block, undefined, { checkRootAsContent: true })) {\n        const rng = normalizeRange(editor.selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi) {\n          const findValidElement = element => contains$1([\n            'td',\n            'th',\n            'caption'\n          ], name(element));\n          const findRoot = node => node.dom === root;\n          const otherLiCell = closest$2(SugarElement.fromDom(otherLi), findValidElement, findRoot);\n          const caretCell = closest$2(SugarElement.fromDom(rng.startContainer), findValidElement, findRoot);\n          if (!equals(otherLiCell, caretCell, eq)) {\n            return false;\n          }\n          editor.undoManager.transact(() => {\n            const parentNode = otherLi.parentNode;\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, parentNode);\n            editor.selection.select(otherLi, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const backspaceDeleteCaret = (editor, isForward) => {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    const hasListSelection = editor => {\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      return startListParent || getSelectedListItems(editor).length > 0;\n    };\n    const backspaceDeleteRange = editor => {\n      if (hasListSelection(editor)) {\n        editor.undoManager.transact(() => {\n          let shouldFireInput = true;\n          const inputHandler = () => shouldFireInput = false;\n          editor.on('input', inputHandler);\n          editor.execCommand('Delete');\n          editor.off('input', inputHandler);\n          if (shouldFireInput) {\n            editor.dispatch('input');\n          }\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    const backspaceDelete = (editor, isForward) => {\n      const selection = editor.selection;\n      return !isWithinNonEditableList(editor, selection.getNode()) && (selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor));\n    };\n    const setup$2 = editor => {\n      editor.on('ExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if ((cmd === 'delete' || cmd === 'forwarddelete') && hasListSelection(editor)) {\n          normalizeLists(editor.dom, editor.getBody());\n        }\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === global$4.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$4.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    const get = editor => ({\n      backspaceDelete: isForward => {\n        backspaceDelete(editor, isForward);\n      }\n    });\n\n    const updateList = (editor, update) => {\n      const parentList = getParentList(editor);\n      if (parentList === null || isWithinNonEditableList(editor, parentList)) {\n        return;\n      }\n      editor.undoManager.transact(() => {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, (v, k) => editor.dom.setAttrib(parentList, k, v));\n        }\n      });\n    };\n\n    const parseAlphabeticBase26 = str => {\n      const chars = reverse(trim(str).split(''));\n      const values = map(chars, (char, i) => {\n        const charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, (sum, v) => sum + v, 0);\n    };\n    const composeAlphabeticBase26 = value => {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        const remainder = value % 26;\n        const quotient = Math.floor(value / 26);\n        const rest = composeAlphabeticBase26(quotient);\n        const char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    const isUppercase = str => /^[A-Z]+$/.test(str);\n    const isLowercase = str => /^[a-z]+$/.test(str);\n    const isNumeric = str => /^[0-9]+$/.test(str);\n    const deduceListType = start => {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty$1(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    const parseStartValue = start => {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    const parseDetail = detail => {\n      const start = parseInt(detail.start, 10);\n      if (is$2(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is$2(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    const open = editor => {\n      const currentList = getParentList(editor);\n      if (!isOlNode(currentList) || isWithinNonEditableList(editor, currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.from(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const data = api.getData();\n          parseStartValue(data.start).each(detail => {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    const queryListCommandState = (editor, listName) => () => {\n      const parentList = getParentList(editor);\n      return isNonNullable(parentList) && parentList.nodeName === listName;\n    };\n    const registerDialog = editor => {\n      editor.addCommand('mceListProps', () => {\n        open(editor);\n      });\n    };\n    const register$2 = editor => {\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', (ui, detail) => {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', (ui, detail) => {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', (ui, detail) => {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', () => {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', (ui, detail) => {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    const isTextNode = node => node.type === 3;\n    const isEmpty = nodeBuffer => nodeBuffer.length === 0;\n    const wrapInvalidChildren = list => {\n      const insertListItem = (buffer, refNode) => {\n        const li = global.create('li');\n        each$1(buffer, node => li.append(node));\n        if (refNode) {\n          list.insert(li, refNode, true);\n        } else {\n          list.append(li);\n        }\n      };\n      const reducer = (buffer, node) => {\n        if (isTextNode(node)) {\n          return [\n            ...buffer,\n            node\n          ];\n        } else if (!isEmpty(buffer) && !isTextNode(node)) {\n          insertListItem(buffer, node);\n          return [];\n        } else {\n          return buffer;\n        }\n      };\n      const restBuffer = foldl(list.children(), reducer, []);\n      if (!isEmpty(restBuffer)) {\n        insertListItem(restBuffer);\n      }\n    };\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {parser} = editor;\n        parser.addNodeFilter('ul,ol', nodes => each$1(nodes, wrapInvalidChildren));\n      });\n    };\n\n    const setupTabKey = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode !== global$4.TAB || global$4.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(() => {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    const setup = editor => {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$2(editor);\n    };\n\n    const setupToggleButtonHandler = (editor, listName) => api => {\n      const toggleButtonHandler = e => {\n        api.setActive(inList(e.parents, listName));\n        api.setEnabled(!isWithinNonEditableList(editor, e.element) && editor.selection.isEditable());\n      };\n      api.setEnabled(editor.selection.isEditable());\n      return setNodeChangeHandler(editor, toggleButtonHandler);\n    };\n    const register$1 = editor => {\n      const exec = command => () => editor.execCommand(command);\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'OL')\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'UL')\n        });\n      }\n    };\n\n    const setupMenuButtonHandler = (editor, listName) => api => {\n      const menuButtonHandler = e => api.setEnabled(inList(e.parents, listName) && !isWithinNonEditableList(editor, e.element));\n      return setNodeChangeHandler(editor, menuButtonHandler);\n    };\n    const register = editor => {\n      const listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: () => editor.execCommand('mceListProps'),\n        onSetup: setupMenuButtonHandler(editor, 'OL')\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: node => {\n          const parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    var Plugin = () => {\n      global$7.add('lists', editor => {\n        register$3(editor);\n        setup$1(editor);\n        if (!editor.hasPlugin('rtc', true)) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativePush = Array.prototype.push;\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const get$1 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('audio_template_callback', { processor: 'function' });\n      registerOption('video_template_callback', { processor: 'function' });\n      registerOption('iframe_template_callback', { processor: 'function' });\n      registerOption('media_live_embeds', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_filter_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_url_resolver', { processor: 'function' });\n      registerOption('media_alt_source', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_poster', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getAudioTemplateCallback = option('audio_template_callback');\n    const getVideoTemplateCallback = option('video_template_callback');\n    const getIframeTemplateCallback = option('iframe_template_callback');\n    const hasLiveEmbeds = option('media_live_embeds');\n    const shouldFilterHtml = option('media_filter_html');\n    const getUrlResolver = option('media_url_resolver');\n    const hasAltSource = option('media_alt_source');\n    const hasPoster = option('media_poster');\n    const hasDimensions = option('media_dimensions');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    const DOM$1 = global$4.DOM;\n    const trimPx = value => value.replace(/px$/, '');\n    const getEphoxEmbedData = node => {\n      const style = node.attr('style');\n      const styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: node.attr('data-ephox-embed-iri'),\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    const htmlToData = (html, schema) => {\n      let data = {};\n      const parser = global$3({\n        validate: false,\n        forced_root_block: false\n      }, schema);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            data = getEphoxEmbedData(node);\n            break;\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = node.attr('movie');\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$5.extend(node.attributes.map, data);\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = node.attr('src');\n              } else if (!data.altsource) {\n                data.altsource = node.attr('src');\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = node.attr('src');\n            }\n          }\n        }\n      }\n      data.source = data.source || data.src || '';\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    const guess = url => {\n      var _a;\n      const mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      const fileEnd = (_a = url.toLowerCase().split('.').pop()) !== null && _a !== void 0 ? _a : '';\n      return get$1(mimes, fileEnd).getOr('');\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    const Parser = (schema, settings = {}) => global$3({\n      forced_root_block: false,\n      validate: false,\n      allow_conditional_comments: true,\n      ...settings\n    }, schema);\n\n    const DOM = global$4.DOM;\n    const addPx = value => /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    const updateEphoxEmbed = (data, node) => {\n      const style = node.attr('style');\n      const styleMap = style ? DOM.parseStyle(style) : {};\n      if (isNonNullable(data.width)) {\n        styleMap['max-width'] = addPx(data.width);\n      }\n      if (isNonNullable(data.height)) {\n        styleMap['max-height'] = addPx(data.height);\n      }\n      node.attr('style', DOM.serializeStyle(styleMap));\n    };\n    const sources = [\n      'source',\n      'altsource'\n    ];\n    const updateHtml = (html, data, updateAll, schema) => {\n      let numSources = 0;\n      let sourceCount = 0;\n      const parser = Parser(schema);\n      parser.addNodeFilter('source', nodes => numSources = nodes.length);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            updateEphoxEmbed(data, node);\n            break;\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                node.attr('width', data.width);\n                node.attr('height', data.height);\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                node.attr('poster', data.poster);\n                node.attr('src', null);\n                for (let index = numSources; index < 2; index++) {\n                  if (data[sources[index]]) {\n                    const source = new global$2('source', 1);\n                    source.attr('src', data[sources[index]]);\n                    source.attr('type', data[sources[index] + 'mime'] || null);\n                    node.append(source);\n                  }\n                }\n                break;\n              case 'iframe':\n                node.attr('src', data.source);\n                break;\n              case 'object':\n                const hasImage = node.getAll('img').length > 0;\n                if (data.poster && !hasImage) {\n                  node.attr('src', data.poster);\n                  const img = new global$2('img', 1);\n                  img.attr('src', data.poster);\n                  img.attr('width', data.width);\n                  img.attr('height', data.height);\n                  node.append(img);\n                }\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  node.attr('src', data[sources[sourceCount]]);\n                  node.attr('type', data[sources[sourceCount] + 'mime'] || null);\n                  if (!data[sources[sourceCount]]) {\n                    node.remove();\n                    continue;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  node.remove();\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n      return global$1({}, schema).serialize(rootNode);\n    };\n\n    const urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)\\?h=(\\w+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)\\?h=(\\w+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    const getProtocol = url => {\n      const protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    const getUrl = (pattern, url) => {\n      const protocol = getProtocol(url);\n      const match = pattern.regex.exec(url);\n      let newUrl = protocol + pattern.url;\n      if (isNonNullable(match)) {\n        for (let i = 0; i < match.length; i++) {\n          newUrl = newUrl.replace('$' + i, () => match[i] ? match[i] : '');\n        }\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    const matchPattern = url => {\n      const patterns = urlPatterns.filter(pattern => pattern.regex.test(url));\n      if (patterns.length > 0) {\n        return global$5.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    const getIframeHtml = (data, iframeTemplateCallback) => {\n      if (iframeTemplateCallback) {\n        return iframeTemplateCallback(data);\n      } else {\n        const allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n        return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n      }\n    };\n    const getFlashHtml = data => {\n      let html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    const getAudioHtml = (data, audioTemplateCallback) => {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    const getVideoHtml = (data, videoTemplateCallback) => {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    const dataToHtml = (editor, dataIn) => {\n      var _a;\n      const data = global$5.extend({}, dataIn);\n      if (!data.source) {\n        global$5.extend(data, htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      const pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true, editor.schema);\n      } else {\n        const audioTemplateCallback = getAudioTemplateCallback(editor);\n        const videoTemplateCallback = getVideoTemplateCallback(editor);\n        const iframeTemplateCallback = getIframeTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$5.each(data, (value, key) => {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data, iframeTemplateCallback);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    const isMediaElement = element => element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    const setup$2 = editor => {\n      editor.on('mousedown', e => {\n        const previewObj = editor.dom.getParent(e.target, '.mce-preview-object');\n        if (previewObj && editor.dom.getAttrib(previewObj, 'data-mce-selected') === '2') {\n          e.stopImmediatePropagation();\n        }\n      });\n      editor.on('click keyup touchend', () => {\n        const selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          let html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            }, false, editor.schema)));\n          }\n        }\n      });\n    };\n\n    const cache = {};\n    const embedPromise = (data, dataToHtml, handler) => {\n      return new Promise((res, rej) => {\n        const wrappedResolve = response => {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }).then(wrappedResolve).catch(rej);\n        }\n      });\n    };\n    const defaultPromise = (data, dataToHtml) => Promise.resolve({\n      html: dataToHtml(data),\n      url: data.source\n    });\n    const loadedData = editor => data => dataToHtml(editor, data);\n    const getEmbedHtml = (editor, data) => {\n      const embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    const isCached = url => has(cache, url);\n\n    const extractMeta = (sourceInput, data) => get$1(data, sourceInput).bind(mainData => get$1(mainData, 'meta'));\n    const getValue = (data, metaData, sourceInput) => prop => {\n      const getFromData = () => get$1(data, prop);\n      const getFromMetaData = () => get$1(metaData, prop);\n      const getNonEmptyValue = c => get$1(c, 'value').bind(v => v.length > 0 ? Optional.some(v) : Optional.none());\n      const getFromValueFirst = () => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(() => Optional.from(child)));\n      const getFromMetaFirst = () => getFromMetaData().orThunk(() => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child) : Optional.from(child)));\n      return { [prop]: (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr('') };\n    };\n    const getDimensions = (data, metaData) => {\n      const dimensions = {};\n      get$1(data, 'dimensions').each(dims => {\n        each$1([\n          'width',\n          'height'\n        ], prop => {\n          get$1(metaData, prop).orThunk(() => get$1(dims, prop)).each(value => dimensions[prop] = value);\n        });\n      });\n      return dimensions;\n    };\n    const unwrap = (data, sourceInput) => {\n      const metaData = sourceInput && sourceInput !== 'dimensions' ? extractMeta(sourceInput, data).getOr({}) : {};\n      const get = getValue(data, metaData, sourceInput);\n      return {\n        ...get('source'),\n        ...get('altsource'),\n        ...get('poster'),\n        ...get('embed'),\n        ...getDimensions(data, metaData)\n      };\n    };\n    const wrap = data => {\n      const wrapped = {\n        ...data,\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      };\n      each$1([\n        'width',\n        'height'\n      ], prop => {\n        get$1(data, prop).each(value => {\n          const dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    const handleError = editor => error => {\n      const errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n      editor.notificationManager.open({\n        type: 'error',\n        text: errorMessage\n      });\n    };\n    const getEditorData = editor => {\n      const element = editor.selection.getNode();\n      const snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      const data = htmlToData(snippet, editor.schema);\n      const getDimensionsOfElement = () => {\n        if (isEmbedIframe(data.source, data.type)) {\n          const rect = editor.dom.getRect(element);\n          return {\n            width: rect.w.toString().replace(/px$/, ''),\n            height: rect.h.toString().replace(/px$/, '')\n          };\n        } else {\n          return {};\n        }\n      };\n      const dimensions = getDimensionsOfElement();\n      return {\n        embed: snippet,\n        ...data,\n        ...dimensions\n      };\n    };\n    const addEmbedHtml = (api, editor) => response => {\n      if (isString(response.url) && response.url.trim().length > 0) {\n        const html = response.html;\n        const snippetData = htmlToData(html, editor.schema);\n        const nuData = {\n          ...snippetData,\n          source: response.url,\n          embed: html\n        };\n        api.setData(wrap(nuData));\n      }\n    };\n    const selectPlaceholder = (editor, beforeObjects) => {\n      const afterObjects = editor.dom.select('*[data-mce-object]');\n      for (let i = 0; i < beforeObjects.length; i++) {\n        for (let y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    const handleInsert = (editor, html) => {\n      const beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    const isEmbedIframe = (url, mediaDataType) => isNonNullable(mediaDataType) && mediaDataType === 'ephox-embed-iri' && isNonNullable(matchPattern(url));\n    const shouldInsertAsNewIframe = (prevData, newData) => {\n      const hasDimensionsChanged = (prevData, newData) => prevData.width !== newData.width || prevData.height !== newData.height;\n      return hasDimensionsChanged(prevData, newData) && isEmbedIframe(newData.source, prevData.type);\n    };\n    const submitForm = (prevData, newData, editor) => {\n      var _a;\n      newData.embed = shouldInsertAsNewIframe(prevData, newData) && hasDimensions(editor) ? dataToHtml(editor, {\n        ...newData,\n        embed: ''\n      }) : updateHtml((_a = newData.embed) !== null && _a !== void 0 ? _a : '', newData, false, editor.schema);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(response => {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    const showDialog = editor => {\n      const editorData = getEditorData(editor);\n      const currentData = Cell(editorData);\n      const initialData = wrap(editorData);\n      const handleSource = (prevData, api) => {\n        const serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      const handleEmbed = api => {\n        var _a;\n        const data = unwrap(api.getData());\n        const dataFromEmbed = htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema);\n        api.setData(wrap(dataFromEmbed));\n      };\n      const handleUpdate = (api, sourceInput, prevData) => {\n        const dialogData = unwrap(api.getData(), sourceInput);\n        const data = shouldInsertAsNewIframe(prevData, dialogData) && hasDimensions(editor) ? {\n          ...dialogData,\n          embed: ''\n        } : dialogData;\n        const embed = dataToHtml(editor, data);\n        api.setData(wrap({\n          ...data,\n          embed\n        }));\n      };\n      const mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source',\n          picker_text: 'Browse files'\n        }];\n      const sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      const generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      const embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      const embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      const advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      const advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      const tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      const body = {\n        type: 'tabpanel',\n        tabs\n      };\n      const win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: (api, detail) => {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name, currentData.get());\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData\n      });\n    };\n\n    const get = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    const register$1 = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const isLiveEmbedNode = node => {\n      const name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    const getDimension = (node, styles, dimension, defaultValue = null) => {\n      const value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    const setDimensions = (node, previewNode, styles) => {\n      const useDefaults = previewNode.name === 'img' || node.name === 'video';\n      const defaultWidth = useDefaults ? '300' : null;\n      const fallbackHeight = node.name === 'audio' ? '30' : '150';\n      const defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    const appendNodeContent = (editor, nodeName, previewNode, html) => {\n      const newNode = Parser(editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    const createPlaceholderNode = (editor, node) => {\n      const name = node.name;\n      const placeHolder = new global$2('img', 1);\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    const createPreviewNode = (editor, node) => {\n      var _a;\n      const name = node.name;\n      const previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      const styles = editor.dom.parseStyle((_a = node.attr('style')) !== null && _a !== void 0 ? _a : '');\n      const previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0',\n          sandbox: node.attr('sandbox'),\n          referrerpolicy: node.attr('referrerpolicy')\n        });\n      } else {\n        const attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, attrName => {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        const sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      const shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    const retainAttributesAndInnerHtml = (editor, sourceNode, targetNode) => {\n      var _a;\n      const attribs = (_a = sourceNode.attributes) !== null && _a !== void 0 ? _a : [];\n      let ai = attribs.length;\n      while (ai--) {\n        const attrName = attribs[ai].name;\n        let attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style' && !startsWith(attrName, 'data-mce-')) {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      const serializer = global$1({ inner: true }, editor.schema);\n      const tempNode = new global$2('div', 1);\n      each$1(sourceNode.children(), child => tempNode.append(child));\n      const innerHtml = serializer.serialize(tempNode);\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(innerHtml));\n        targetNode.empty();\n      }\n    };\n    const isPageEmbedWrapper = node => {\n      const nodeClass = node.attr('class');\n      return isString(nodeClass) && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    const isWithinEmbedWrapper = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parent) {\n        if (tempNode.attr('data-ephox-embed-iri') || isPageEmbedWrapper(tempNode)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const placeHolderConverter = editor => nodes => {\n      let i = nodes.length;\n      let node;\n      while (i--) {\n        node = nodes[i];\n        if (!node.parent) {\n          continue;\n        }\n        if (node.parent.attr('data-mce-object')) {\n          continue;\n        }\n        if (isLiveEmbedNode(node) && hasLiveEmbeds(editor)) {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPreviewNode(editor, node));\n          }\n        } else {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPlaceholderNode(editor, node));\n          }\n        }\n      }\n    };\n\n    const parseAndSanitize = (editor, context, html) => {\n      const getEditorOption = editor.options.get;\n      const sanitize = getEditorOption('xss_sanitization');\n      const validate = shouldFilterHtml(editor);\n      return Parser(editor.schema, {\n        sanitize,\n        validate\n      }).parse(html, { context });\n    };\n\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {schema, serializer, parser} = editor;\n        const boolAttrs = schema.getBoolAttrs();\n        each$1('webkitallowfullscreen mozallowfullscreen'.split(' '), name => {\n          boolAttrs[name] = {};\n        });\n        each({ embed: ['wmode'] }, (attrs, name) => {\n          const rule = schema.getElementRule(name);\n          if (rule) {\n            each$1(attrs, attr => {\n              rule.attributes[attr] = {};\n              rule.attributesOrder.push(attr);\n            });\n          }\n        });\n        parser.addNodeFilter('iframe,video,audio,object,embed', placeHolderConverter(editor));\n        serializer.addAttributeFilter('data-mce-object', (nodes, name) => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            const realElmName = node.attr(name);\n            const realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio') {\n              const className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1 && node.firstChild) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            const attribs = (_a = node.attributes) !== null && _a !== void 0 ? _a : [];\n            let ai = attribs.length;\n            while (ai--) {\n              const attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            const innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              const fragment = parseAndSanitize(editor, realElmName, unescape(innerHtml));\n              each$1(fragment.children(), child => realElm.append(child));\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', () => {\n        const dom = editor.dom;\n        each$1(dom.select('span.mce-preview-object'), elm => {\n          if (dom.select('span.mce-shim', elm).length === 0) {\n            dom.add(elm, 'span', { class: 'mce-shim' });\n          }\n        });\n      });\n    };\n\n    const setup = editor => {\n      editor.on('ResolveName', e => {\n        let name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceMedia');\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction,\n        onSetup: buttonApi => {\n          const selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          const unbindSelectorChanged = selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n          const unbindEditable = onSetupEditable(editor)(buttonApi);\n          return () => {\n            unbindSelectorChanged();\n            unbindEditable();\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction,\n        onSetup: onSetupEditable(editor)\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('media', editor => {\n        register$2(editor);\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const isString = isType$1('string');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const size = obj => {\n      return keys(obj).length;\n    };\n    const get$4 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty$1 = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten$1 = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten$1(map(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const get$3 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$3(xs, 0);\n    const last = xs => get$3(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const is$1 = is$2;\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$3 = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child$3 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$3(element, 0);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const getRootNode = e => SugarElement.fromDom(e.dom.getRootNode());\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$2 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is$2(e, selector), isRoot);\n    const child$1 = (scope, selector) => child$2(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor, scope, selector, isRoot);\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw$1(editable) === 'true');\n      }\n    };\n    const getRaw$1 = element => element.dom.contentEditable;\n\n    const getNodeName = elm => elm.nodeName.toLowerCase();\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq(element, getBody(editor));\n    const removePxSuffix = size => size ? size.replace(/px$/, '') : '';\n    const addPxSuffix = size => /^\\d+(\\.\\d+)?$/.test(size) ? size + 'px' : size;\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getSelectionEnd = editor => SugarElement.fromDom(editor.selection.getEnd());\n    const isInEditableContext = cell => closest$2(cell, isTag('table')).forall(isEditable);\n\n    const children$2 = (scope, predicate) => filter(children$3(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each(children$3(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const children$1 = (scope, selector) => children$2(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$2 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$2(element, key));\n    const remove$2 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const flatten = oot => oot.bind(identity);\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const get$1 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$1 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$2(element, 'style');\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind(children$3(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const columns = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children$1(ancestor, 'col');\n      } else {\n        return bind(columnGroups(ancestor), columnGroup => children$1(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children$1(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map(columns(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells$1 = map(cells(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells$1, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows$1 = rows(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows$1\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each(rowData.cells, column => {\n        const colspan = column.colspan;\n        range(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each(rows, rowData => {\n        const currentRow = [];\n        each(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getTDTHOverallStyle = (dom, elm, name) => {\n      const cells = dom.select('td,th', elm);\n      let firstChildStyle;\n      for (let i = 0; i < cells.length; i++) {\n        const currentStyle = dom.getStyle(cells[i], name);\n        if (isUndefined(firstChildStyle)) {\n          firstChildStyle = currentStyle;\n        }\n        if (firstChildStyle !== currentStyle) {\n          return '';\n        }\n      }\n      return firstChildStyle;\n    };\n    const setAlign = (editor, elm, name) => {\n      global$2.each('left center right'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('align' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    const setVAlign = (editor, elm, name) => {\n      global$2.each('top middle bottom'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('valign' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$1(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const getInner = getInnerWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const defaultTableToolbar = 'tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol';\n    const defaultCellBorderWidths = range(5, i => {\n      const size = `${ i + 1 }px`;\n      return {\n        title: size,\n        value: size\n      };\n    });\n    const defaultCellBorderStyles = map([\n      'Solid',\n      'Dotted',\n      'Dashed',\n      'Double',\n      'Groove',\n      'Ridge',\n      'Inset',\n      'Outset',\n      'None',\n      'Hidden'\n    ], type => {\n      return {\n        title: type,\n        value: type.toLowerCase()\n      };\n    });\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultStyles = (editor, defaultStyles) => {\n      if (isResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultAttributes = (editor, defaultAttributes) => {\n      if (isResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_border_widths', {\n        processor: 'object[]',\n        default: defaultCellBorderWidths\n      });\n      registerOption('table_border_styles', {\n        processor: 'object[]',\n        default: defaultCellBorderStyles\n      });\n      registerOption('table_cell_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_row_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_appearance_options', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_grid', {\n        processor: 'boolean',\n        default: !global$1.deviceType.isTouch()\n      });\n      registerOption('table_cell_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_row_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_toolbar', {\n        processor: 'string',\n        default: defaultTableToolbar\n      });\n      registerOption('table_background_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_border_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n    };\n    const getTableSizingMode = option('table_sizing_mode');\n    const getTableBorderWidths = option('table_border_widths');\n    const getTableBorderStyles = option('table_border_styles');\n    const hasAdvancedCellTab = option('table_cell_advtab');\n    const hasAdvancedRowTab = option('table_row_advtab');\n    const hasAdvancedTableTab = option('table_advtab');\n    const hasAppearanceOptions = option('table_appearance_options');\n    const hasTableGrid = option('table_grid');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getCellClassList = option('table_cell_class_list');\n    const getRowClassList = option('table_row_class_list');\n    const getTableClassList = option('table_class_list');\n    const getToolbar = option('table_toolbar');\n    const getTableBackgroundColorMap = option('table_background_color_map');\n    const getTableBorderColorMap = option('table_border_color_map');\n    const isPixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const getDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultStyles(editor, defaultStyles);\n    };\n    const getDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultAttributes(editor, defaultAttributes);\n    };\n\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    const before = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$1 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap = (element, wrapper) => {\n      before(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after = (marker, elements) => {\n      each(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$1(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$3(wrapper);\n      if (children.length > 0) {\n        after(wrapper, children);\n      }\n      remove(wrapper);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get = element => api.get(element);\n    const set = (element, value) => api.set(element, value);\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone$1 = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$2(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone(source);\n        setAll(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor,\n          closest: closest$1,\n          predicate: ancestor$1,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$1,\n          getRaw: getRaw,\n          set: set$1,\n          remove: remove$1\n        }),\n        attrs: constant({\n          get: get$2,\n          set: set$2,\n          remove: remove$2,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before,\n          after: after$1,\n          afterAll: after,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone: clone$1,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$3,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const sharedOne$1 = oneAll;\n\n    const universe = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n\n    const lookupTable = container => {\n      return ancestor(container, 'table');\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getRowsFromSelection = (selected, selector) => {\n      const cellOpt = getSelectionCell(selected);\n      const rowsOpt = cellOpt.bind(cell => table(cell)).map(table => rows(table));\n      return lift2(cellOpt, rowsOpt, (cell, rows) => filter(rows, row => exists(fromDom(row.dom.cells), rowCell => get$2(rowCell, selector) === '1' || eq(rowCell, cell)))).getOr([]);\n    };\n\n    const verticalAlignValues = [\n      {\n        text: 'None',\n        value: ''\n      },\n      {\n        text: 'Top',\n        value: 'top'\n      },\n      {\n        text: 'Middle',\n        value: 'middle'\n      },\n      {\n        text: 'Bottom',\n        value: 'bottom'\n      }\n    ];\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*((?:\\d?\\.\\d+|\\d+)%?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const unbindable = () => singleton(s => s.unbind());\n\n    const onSetupToggle = (editor, formatName, formatValue) => {\n      return api => {\n        const boundCallback = unbindable();\n        const isNone = isEmpty(formatValue);\n        const init = () => {\n          const selectedCells = getCellsFromSelection(editor);\n          const checkNode = cell => editor.formatter.match(formatName, { value: formatValue }, cell.dom, isNone);\n          if (isNone) {\n            api.setActive(!exists(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, match => api.setActive(!match), true));\n          } else {\n            api.setActive(forall(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, api.setActive, false, { value: formatValue }));\n          }\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return boundCallback.clear;\n      };\n    };\n    const isListGroup = item => hasNonNullableKey(item, 'menu');\n    const buildListItems = items => map(items, item => {\n      const text = item.text || item.title || '';\n      if (isListGroup(item)) {\n        return {\n          text,\n          items: buildListItems(item.menu)\n        };\n      } else {\n        return {\n          text,\n          value: item.value\n        };\n      }\n    });\n    const buildClassList = classList => {\n      if (!classList.length) {\n        return Optional.none();\n      }\n      return Optional.some(buildListItems([\n        {\n          text: 'Select...',\n          value: 'mce-no-match'\n        },\n        ...classList\n      ]));\n    };\n    const buildMenuItems = (editor, items, format, onAction) => map(items, item => {\n      const text = item.text || item.title;\n      if (isListGroup(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text,\n          getSubmenuItems: () => buildMenuItems(editor, item.menu, format, onAction)\n        };\n      } else {\n        return {\n          text,\n          type: 'togglemenuitem',\n          onAction: () => onAction(item.value),\n          onSetup: onSetupToggle(editor, format, item.value)\n        };\n      }\n    });\n    const applyTableCellStyle = (editor, style) => value => {\n      editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n    };\n    const filterNoneItem = list => bind(list, item => {\n      if (isListGroup(item)) {\n        return [{\n            ...item,\n            menu: filterNoneItem(item.menu)\n          }];\n      } else {\n        return isNotEmpty(item.value) ? [item] : [];\n      }\n    });\n    const generateMenuItemsCallback = (editor, items, format, onAction) => callback => callback(buildMenuItems(editor, items, format, onAction));\n    const buildColorMenu = (editor, colorList, style) => {\n      const colorMap = map(colorList, entry => ({\n        text: entry.title,\n        value: '#' + anyToHex(entry.value).value,\n        type: 'choiceitem'\n      }));\n      return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          initData: {\n            colors: colorMap.length > 0 ? colorMap : undefined,\n            allowCustomColors: false\n          },\n          onAction: data => {\n            const value = data.value === 'remove' ? '' : data.value;\n            editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n          }\n        }];\n    };\n    const changeRowHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableRowType');\n      const newType = currentType === 'header' ? 'body' : 'header';\n      editor.execCommand('mceTableRowType', false, { type: newType });\n    };\n    const changeColumnHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableColType');\n      const newType = currentType === 'th' ? 'td' : 'th';\n      editor.execCommand('mceTableColType', false, { type: newType });\n    };\n\n    const getClassList$1 = editor => buildClassList(getCellClassList(editor)).map(items => ({\n      name: 'class',\n      type: 'listbox',\n      label: 'Class',\n      items\n    }));\n    const children = [\n      {\n        name: 'width',\n        type: 'input',\n        label: 'Width'\n      },\n      {\n        name: 'celltype',\n        type: 'listbox',\n        label: 'Cell type',\n        items: [\n          {\n            text: 'Cell',\n            value: 'td'\n          },\n          {\n            text: 'Header cell',\n            value: 'th'\n          }\n        ]\n      },\n      {\n        name: 'scope',\n        type: 'listbox',\n        label: 'Scope',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Row',\n            value: 'row'\n          },\n          {\n            text: 'Column',\n            value: 'col'\n          },\n          {\n            text: 'Row group',\n            value: 'rowgroup'\n          },\n          {\n            text: 'Column group',\n            value: 'colgroup'\n          }\n        ]\n      },\n      {\n        name: 'halign',\n        type: 'listbox',\n        label: 'Horizontal align',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        name: 'valign',\n        type: 'listbox',\n        label: 'Vertical align',\n        items: verticalAlignValues\n      }\n    ];\n    const getItems$2 = editor => children.concat(getClassList$1(editor).toArray());\n\n    const getAdvancedTab = (editor, dialogName) => {\n      const emptyBorderStyle = [{\n          text: 'Select...',\n          value: ''\n        }];\n      const advTabItems = [\n        {\n          name: 'borderstyle',\n          type: 'listbox',\n          label: 'Border style',\n          items: emptyBorderStyle.concat(buildListItems(getTableBorderStyles(editor)))\n        },\n        {\n          name: 'bordercolor',\n          type: 'colorinput',\n          label: 'Border color'\n        },\n        {\n          name: 'backgroundcolor',\n          type: 'colorinput',\n          label: 'Background color'\n        }\n      ];\n      const borderWidth = {\n        name: 'borderwidth',\n        type: 'input',\n        label: 'Border width'\n      };\n      const items = dialogName === 'cell' ? [borderWidth].concat(advTabItems) : advTabItems;\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items\n      };\n    };\n\n    const normal = (editor, element) => {\n      const dom = editor.dom;\n      const setAttrib = (attr, value) => {\n        dom.setAttrib(element, attr, value);\n      };\n      const setStyle = (prop, value) => {\n        dom.setStyle(element, prop, value);\n      };\n      const setFormat = (formatName, value) => {\n        if (value === '') {\n          editor.formatter.remove(formatName, { value: null }, element, true);\n        } else {\n          editor.formatter.apply(formatName, { value }, element);\n        }\n      };\n      return {\n        setAttrib,\n        setStyle,\n        setFormat\n      };\n    };\n    const DomModifier = { normal };\n\n    const isHeaderCell = isTag('th');\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType$1 = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map(rows, row => getRowType$1(row).type);\n      const hasHeader = contains(rowTypes, 'header');\n      const hasFooter = contains(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find(r.cells, e => eq(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    ({ ...adt });\n\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const getRowsType = opGetRowsType;\n\n    const rgbToHex = value => startsWith(value, 'rgb') ? rgbaToHexString(value) : value;\n    const extractAdvancedStyles = elm => {\n      const element = SugarElement.fromDom(elm);\n      return {\n        borderwidth: getRaw(element, 'border-width').getOr(''),\n        borderstyle: getRaw(element, 'border-style').getOr(''),\n        bordercolor: getRaw(element, 'border-color').map(rgbToHex).getOr(''),\n        backgroundcolor: getRaw(element, 'background-color').map(rgbToHex).getOr('')\n      };\n    };\n    const getSharedValues = data => {\n      const baseData = data[0];\n      const comparisonData = data.slice(1);\n      each(comparisonData, items => {\n        each(keys(baseData), key => {\n          each$1(items, (itemValue, itemKey) => {\n            const comparisonValue = baseData[key];\n            if (comparisonValue !== '' && key === itemKey) {\n              if (comparisonValue !== itemValue) {\n                baseData[key] = key === 'class' ? 'mce-no-match' : '';\n              }\n            }\n          });\n        });\n      });\n      return baseData;\n    };\n    const getAlignment = (formats, formatName, editor, elm) => find(formats, name => !isUndefined(editor.formatter.matchNode(elm, formatName + name))).getOr('');\n    const getHAlignment = curry(getAlignment, [\n      'left',\n      'center',\n      'right'\n    ], 'align');\n    const getVAlignment = curry(getAlignment, [\n      'top',\n      'middle',\n      'bottom'\n    ], 'valign');\n    const extractDataFromSettings = (editor, hasAdvTableTab) => {\n      const style = getDefaultStyles(editor);\n      const attrs = getDefaultAttributes(editor);\n      const extractAdvancedStyleData = () => ({\n        borderstyle: get$4(style, 'border-style').getOr(''),\n        bordercolor: rgbToHex(get$4(style, 'border-color').getOr('')),\n        backgroundcolor: rgbToHex(get$4(style, 'background-color').getOr(''))\n      });\n      const defaultData = {\n        height: '',\n        width: '100%',\n        cellspacing: '',\n        cellpadding: '',\n        caption: false,\n        class: '',\n        align: '',\n        border: ''\n      };\n      const getBorder = () => {\n        const borderWidth = style['border-width'];\n        if (shouldStyleWithCss(editor) && borderWidth) {\n          return { border: borderWidth };\n        }\n        return get$4(attrs, 'border').fold(() => ({}), border => ({ border }));\n      };\n      const advStyle = hasAdvTableTab ? extractAdvancedStyleData() : {};\n      const getCellPaddingCellSpacing = () => {\n        const spacing = get$4(style, 'border-spacing').or(get$4(attrs, 'cellspacing')).fold(() => ({}), cellspacing => ({ cellspacing }));\n        const padding = get$4(style, 'border-padding').or(get$4(attrs, 'cellpadding')).fold(() => ({}), cellpadding => ({ cellpadding }));\n        return {\n          ...spacing,\n          ...padding\n        };\n      };\n      const data = {\n        ...defaultData,\n        ...style,\n        ...attrs,\n        ...advStyle,\n        ...getBorder(),\n        ...getCellPaddingCellSpacing()\n      };\n      return data;\n    };\n    const getRowType = elm => table(SugarElement.fromDom(elm)).map(table => {\n      const target = { selection: fromDom(elm.cells) };\n      return getRowsType(table, target);\n    }).getOr('');\n    const extractDataFromTableElement = (editor, elm, hasAdvTableTab) => {\n      const getBorder = (dom, elm) => {\n        const optBorderWidth = getRaw(SugarElement.fromDom(elm), 'border-width');\n        if (shouldStyleWithCss(editor) && optBorderWidth.isSome()) {\n          return optBorderWidth.getOr('');\n        }\n        return dom.getAttrib(elm, 'border') || getTDTHOverallStyle(editor.dom, elm, 'border-width') || getTDTHOverallStyle(editor.dom, elm, 'border') || '';\n      };\n      const dom = editor.dom;\n      const cellspacing = shouldStyleWithCss(editor) ? dom.getStyle(elm, 'border-spacing') || dom.getAttrib(elm, 'cellspacing') : dom.getAttrib(elm, 'cellspacing') || dom.getStyle(elm, 'border-spacing');\n      const cellpadding = shouldStyleWithCss(editor) ? getTDTHOverallStyle(dom, elm, 'padding') || dom.getAttrib(elm, 'cellpadding') : dom.getAttrib(elm, 'cellpadding') || getTDTHOverallStyle(dom, elm, 'padding');\n      return {\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        cellspacing: cellspacing !== null && cellspacing !== void 0 ? cellspacing : '',\n        cellpadding: cellpadding !== null && cellpadding !== void 0 ? cellpadding : '',\n        border: getBorder(dom, elm),\n        caption: !!dom.select('caption', elm)[0],\n        class: dom.getAttrib(elm, 'class', ''),\n        align: getHAlignment(editor, elm),\n        ...hasAdvTableTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromRowElement = (editor, elm, hasAdvancedRowTab) => {\n      const dom = editor.dom;\n      return {\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        class: dom.getAttrib(elm, 'class', ''),\n        type: getRowType(elm),\n        align: getHAlignment(editor, elm),\n        ...hasAdvancedRowTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromCellElement = (editor, cell, hasAdvancedCellTab, column) => {\n      const dom = editor.dom;\n      const colElm = column.getOr(cell);\n      const getStyle = (element, style) => dom.getStyle(element, style) || dom.getAttrib(element, style);\n      return {\n        width: getStyle(colElm, 'width'),\n        scope: dom.getAttrib(cell, 'scope'),\n        celltype: getNodeName(cell),\n        class: dom.getAttrib(cell, 'class', ''),\n        halign: getHAlignment(editor, cell),\n        valign: getVAlignment(editor, cell),\n        ...hasAdvancedCellTab ? extractAdvancedStyles(cell) : {}\n      };\n    };\n\n    const getSelectedCells = (table, cells) => {\n      const warehouse = Warehouse.fromTable(table);\n      const allCells = Warehouse.justCells(warehouse);\n      const filtered = filter(allCells, cellA => exists(cells, cellB => eq(cellA.element, cellB)));\n      return map(filtered, cell => ({\n        element: cell.element.dom,\n        column: Warehouse.getColumnAt(warehouse, cell.column).map(col => col.element.dom)\n      }));\n    };\n    const updateSimpleProps$1 = (modifier, colModifier, data, shouldUpdate) => {\n      if (shouldUpdate('scope')) {\n        modifier.setAttrib('scope', data.scope);\n      }\n      if (shouldUpdate('class') && data.class !== 'mce-no-match') {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('width')) {\n        colModifier.setStyle('width', addPxSuffix(data.width));\n      }\n    };\n    const updateAdvancedProps$1 = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setFormat('tablecellbackgroundcolor', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setFormat('tablecellbordercolor', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setFormat('tablecellborderstyle', data.borderstyle);\n      }\n      if (shouldUpdate('borderwidth')) {\n        modifier.setFormat('tablecellborderwidth', addPxSuffix(data.borderwidth));\n      }\n    };\n    const applyStyleData$1 = (editor, cells, data, wasChanged) => {\n      const isSingleCell = cells.length === 1;\n      each(cells, item => {\n        const cellElm = item.element;\n        const shouldOverrideCurrentValue = isSingleCell ? always : wasChanged;\n        const modifier = DomModifier.normal(editor, cellElm);\n        const colModifier = item.column.map(col => DomModifier.normal(editor, col)).getOr(modifier);\n        updateSimpleProps$1(modifier, colModifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedCellTab(editor)) {\n          updateAdvancedProps$1(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('halign')) {\n          setAlign(editor, cellElm, data.halign);\n        }\n        if (wasChanged('valign')) {\n          setVAlign(editor, cellElm, data.valign);\n        }\n      });\n    };\n    const applyStructureData$1 = (editor, data) => {\n      editor.execCommand('mceTableCellType', false, {\n        type: data.celltype,\n        no_events: true\n      });\n    };\n    const applyCellData = (editor, cells, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0 && cells.length >= 1) {\n        table(cells[0]).each(table => {\n          const selectedCells = getSelectedCells(table, cells);\n          const styleModified = size(filter$1(modifiedData, (_value, key) => key !== 'scope' && key !== 'celltype')) > 0;\n          const structureModified = has(modifiedData, 'celltype');\n          if (styleModified || has(modifiedData, 'scope')) {\n            applyStyleData$1(editor, selectedCells, data, curry(has, modifiedData));\n          }\n          if (structureModified) {\n            applyStructureData$1(editor, data);\n          }\n          fireTableModified(editor, table.dom, {\n            structure: structureModified,\n            style: styleModified\n          });\n        });\n      }\n    };\n    const onSubmitCellForm = (editor, cells, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyCellData(editor, cells, oldData, data);\n        editor.focus();\n      });\n    };\n    const getData$1 = (editor, cells) => {\n      const cellsData = table(cells[0]).map(table => map(getSelectedCells(table, cells), item => extractDataFromCellElement(editor, item.element, hasAdvancedCellTab(editor), item.column)));\n      return getSharedValues(cellsData.getOrDie());\n    };\n    const open$2 = editor => {\n      const cells = getCellsFromSelection(editor);\n      if (cells.length === 0) {\n        return;\n      }\n      const data = getData$1(editor, cells);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$2(editor)\n          },\n          getAdvancedTab(editor, 'cell')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$2(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Cell Properties',\n        size: 'normal',\n        body: hasAdvancedCellTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitCellForm, editor, cells, data)\n      });\n    };\n\n    const getClassList = editor => buildClassList(getRowClassList(editor)).map(items => ({\n      name: 'class',\n      type: 'listbox',\n      label: 'Class',\n      items\n    }));\n    const formChildren = [\n      {\n        type: 'listbox',\n        name: 'type',\n        label: 'Row type',\n        items: [\n          {\n            text: 'Header',\n            value: 'header'\n          },\n          {\n            text: 'Body',\n            value: 'body'\n          },\n          {\n            text: 'Footer',\n            value: 'footer'\n          }\n        ]\n      },\n      {\n        type: 'listbox',\n        name: 'align',\n        label: 'Alignment',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        label: 'Height',\n        name: 'height',\n        type: 'input'\n      }\n    ];\n    const getItems$1 = editor => formChildren.concat(getClassList(editor).toArray());\n\n    const updateSimpleProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('class') && data.class !== 'mce-no-match') {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n    };\n    const updateAdvancedProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setStyle('background-color', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setStyle('border-color', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setStyle('border-style', data.borderstyle);\n      }\n    };\n    const applyStyleData = (editor, rows, data, wasChanged) => {\n      const isSingleRow = rows.length === 1;\n      const shouldOverrideCurrentValue = isSingleRow ? always : wasChanged;\n      each(rows, rowElm => {\n        const rowCells = children$1(SugarElement.fromDom(rowElm), 'td,th');\n        const modifier = DomModifier.normal(editor, rowElm);\n        updateSimpleProps(modifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedRowTab(editor)) {\n          updateAdvancedProps(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('height')) {\n          each(rowCells, cell => {\n            editor.dom.setStyle(cell.dom, 'height', null);\n          });\n        }\n        if (wasChanged('align')) {\n          setAlign(editor, rowElm, data.align);\n        }\n      });\n    };\n    const applyStructureData = (editor, data) => {\n      editor.execCommand('mceTableRowType', false, {\n        type: data.type,\n        no_events: true\n      });\n    };\n    const applyRowData = (editor, rows, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0) {\n        const typeModified = has(modifiedData, 'type');\n        const styleModified = typeModified ? size(modifiedData) > 1 : true;\n        if (styleModified) {\n          applyStyleData(editor, rows, data, curry(has, modifiedData));\n        }\n        if (typeModified) {\n          applyStructureData(editor, data);\n        }\n        table(SugarElement.fromDom(rows[0])).each(table => fireTableModified(editor, table.dom, {\n          structure: typeModified,\n          style: styleModified\n        }));\n      }\n    };\n    const onSubmitRowForm = (editor, rows, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyRowData(editor, rows, oldData, data);\n        editor.focus();\n      });\n    };\n    const open$1 = editor => {\n      const rows = getRowsFromSelection(getSelectionStart(editor), ephemera.selected);\n      if (rows.length === 0) {\n        return;\n      }\n      const rowsData = map(rows, rowElm => extractDataFromRowElement(editor, rowElm.dom, hasAdvancedRowTab(editor)));\n      const data = getSharedValues(rowsData);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$1(editor)\n          },\n          getAdvancedTab(editor, 'row')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$1(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Row Properties',\n        size: 'normal',\n        body: hasAdvancedRowTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitRowForm, editor, map(rows, r => r.dom), data)\n      });\n    };\n\n    const getItems = (editor, classes, insertNewTable) => {\n      const rowColCountItems = !insertNewTable ? [] : [\n        {\n          type: 'input',\n          name: 'cols',\n          label: 'Cols',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'rows',\n          label: 'Rows',\n          inputMode: 'numeric'\n        }\n      ];\n      const alwaysItems = [\n        {\n          type: 'input',\n          name: 'width',\n          label: 'Width'\n        },\n        {\n          type: 'input',\n          name: 'height',\n          label: 'Height'\n        }\n      ];\n      const appearanceItems = hasAppearanceOptions(editor) ? [\n        {\n          type: 'input',\n          name: 'cellspacing',\n          label: 'Cell spacing',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'cellpadding',\n          label: 'Cell padding',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'border',\n          label: 'Border width'\n        },\n        {\n          type: 'label',\n          label: 'Caption',\n          items: [{\n              type: 'checkbox',\n              name: 'caption',\n              label: 'Show caption'\n            }]\n        }\n      ] : [];\n      const alignmentItem = [{\n          type: 'listbox',\n          name: 'align',\n          label: 'Alignment',\n          items: [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'Left',\n              value: 'left'\n            },\n            {\n              text: 'Center',\n              value: 'center'\n            },\n            {\n              text: 'Right',\n              value: 'right'\n            }\n          ]\n        }];\n      const classListItem = classes.length > 0 ? [{\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        }] : [];\n      return rowColCountItems.concat(alwaysItems).concat(appearanceItems).concat(alignmentItem).concat(classListItem);\n    };\n\n    const styleTDTH = (dom, elm, name, value) => {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        if (isString(name) && isNonNullable(value)) {\n          dom.setStyle(elm, name, value);\n        } else {\n          dom.setStyles(elm, name);\n        }\n      } else {\n        if (elm.children) {\n          for (let i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    };\n    const applyDataToElement = (editor, tableElm, data, shouldApplyOnCell) => {\n      const dom = editor.dom;\n      const attrs = {};\n      const styles = {};\n      const shouldStyleWithCss$1 = shouldStyleWithCss(editor);\n      const hasAdvancedTableTab$1 = hasAdvancedTableTab(editor);\n      const borderIsZero = parseFloat(data.border) === 0;\n      if (!isUndefined(data.class) && data.class !== 'mce-no-match') {\n        attrs.class = data.class;\n      }\n      styles.height = addPxSuffix(data.height);\n      if (shouldStyleWithCss$1) {\n        styles.width = addPxSuffix(data.width);\n      } else if (dom.getAttrib(tableElm, 'width')) {\n        attrs.width = removePxSuffix(data.width);\n      }\n      if (shouldStyleWithCss$1) {\n        if (borderIsZero) {\n          attrs.border = 0;\n          styles['border-width'] = '';\n        } else {\n          styles['border-width'] = addPxSuffix(data.border);\n          attrs.border = 1;\n        }\n        styles['border-spacing'] = addPxSuffix(data.cellspacing);\n      } else {\n        attrs.border = borderIsZero ? 0 : data.border;\n        attrs.cellpadding = data.cellpadding;\n        attrs.cellspacing = data.cellspacing;\n      }\n      if (shouldStyleWithCss$1 && tableElm.children) {\n        const cellStyles = {};\n        if (borderIsZero) {\n          cellStyles['border-width'] = '';\n        } else if (shouldApplyOnCell.border) {\n          cellStyles['border-width'] = addPxSuffix(data.border);\n        }\n        if (shouldApplyOnCell.cellpadding) {\n          cellStyles.padding = addPxSuffix(data.cellpadding);\n        }\n        if (hasAdvancedTableTab$1 && shouldApplyOnCell.bordercolor) {\n          cellStyles['border-color'] = data.bordercolor;\n        }\n        if (!isEmpty$1(cellStyles)) {\n          for (let i = 0; i < tableElm.children.length; i++) {\n            styleTDTH(dom, tableElm.children[i], cellStyles);\n          }\n        }\n      }\n      if (hasAdvancedTableTab$1) {\n        const advData = data;\n        styles['background-color'] = advData.backgroundcolor;\n        styles['border-color'] = advData.bordercolor;\n        styles['border-style'] = advData.borderstyle;\n      }\n      dom.setStyles(tableElm, {\n        ...getDefaultStyles(editor),\n        ...styles\n      });\n      dom.setAttribs(tableElm, {\n        ...getDefaultAttributes(editor),\n        ...attrs\n      });\n    };\n    const onSubmitTableForm = (editor, tableElm, oldData, api) => {\n      const dom = editor.dom;\n      const data = api.getData();\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      api.close();\n      editor.undoManager.transact(() => {\n        if (!tableElm) {\n          const cols = toInt(data.cols).getOr(1);\n          const rows = toInt(data.rows).getOr(1);\n          editor.execCommand('mceInsertTable', false, {\n            rows,\n            columns: cols\n          });\n          tableElm = getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).bind(cell => table(cell, getIsRoot(editor))).map(table => table.dom).getOrDie();\n        }\n        if (size(modifiedData) > 0) {\n          const applicableCellProperties = {\n            border: has(modifiedData, 'border'),\n            bordercolor: has(modifiedData, 'bordercolor'),\n            cellpadding: has(modifiedData, 'cellpadding')\n          };\n          applyDataToElement(editor, tableElm, data, applicableCellProperties);\n          const captionElm = dom.select('caption', tableElm)[0];\n          if (captionElm && !data.caption || !captionElm && data.caption) {\n            editor.execCommand('mceTableToggleCaption');\n          }\n          setAlign(editor, tableElm, data.align);\n        }\n        editor.focus();\n        editor.addVisual();\n        if (size(modifiedData) > 0) {\n          const captionModified = has(modifiedData, 'caption');\n          const styleModified = captionModified ? size(modifiedData) > 1 : true;\n          fireTableModified(editor, tableElm, {\n            structure: captionModified,\n            style: styleModified\n          });\n        }\n      });\n    };\n    const open = (editor, insertNewTable) => {\n      const dom = editor.dom;\n      let tableElm;\n      let data = extractDataFromSettings(editor, hasAdvancedTableTab(editor));\n      if (insertNewTable) {\n        data.cols = '1';\n        data.rows = '1';\n        if (hasAdvancedTableTab(editor)) {\n          data.borderstyle = '';\n          data.bordercolor = '';\n          data.backgroundcolor = '';\n        }\n      } else {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table', editor.getBody());\n        if (tableElm) {\n          data = extractDataFromTableElement(editor, tableElm, hasAdvancedTableTab(editor));\n        } else {\n          if (hasAdvancedTableTab(editor)) {\n            data.borderstyle = '';\n            data.bordercolor = '';\n            data.backgroundcolor = '';\n          }\n        }\n      }\n      const classes = buildClassList(getTableClassList(editor));\n      if (classes.isSome()) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n      }\n      const generalPanel = {\n        type: 'grid',\n        columns: 2,\n        items: getItems(editor, classes.getOr([]), insertNewTable)\n      };\n      const nonAdvancedForm = () => ({\n        type: 'panel',\n        items: [generalPanel]\n      });\n      const advancedForm = () => ({\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: [generalPanel]\n          },\n          getAdvancedTab(editor, 'table')\n        ]\n      });\n      const dialogBody = hasAdvancedTableTab(editor) ? advancedForm() : nonAdvancedForm();\n      editor.windowManager.open({\n        title: 'Table Properties',\n        size: 'normal',\n        body: dialogBody,\n        onSubmit: curry(onSubmitTableForm, editor, tableElm, data),\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data\n      });\n    };\n\n    const registerCommands = editor => {\n      const runAction = f => {\n        if (isInEditableContext(getSelectionStart(editor))) {\n          f();\n        }\n      };\n      each$1({\n        mceTableProps: curry(open, editor, false),\n        mceTableRowProps: curry(open$1, editor),\n        mceTableCellProps: curry(open$2, editor),\n        mceInsertTableDialog: curry(open, editor, true)\n      }, (func, name) => editor.addCommand(name, () => runAction(func)));\n    };\n\n    const child = (scope, selector) => child$1(scope, selector).isSome();\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const noMenu = cell => ({\n      element: cell,\n      mergable: Optional.none(),\n      unmergable: Optional.none(),\n      selection: [cell]\n    });\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n\n    const getSelectionTargets = editor => {\n      const targets = Cell(Optional.none());\n      const changeHandlers = Cell([]);\n      let selectionDetails = Optional.none();\n      const isCaption = isTag('caption');\n      const isDisabledForSelection = key => selectionDetails.forall(details => !details[key]);\n      const getStart = () => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n      const getEnd = () => getSelectionCellOrCaption(getSelectionEnd(editor), getIsRoot(editor));\n      const findTargets = () => getStart().bind(startCellOrCaption => flatten(lift2(table(startCellOrCaption), getEnd().bind(table), (startTable, endTable) => {\n        if (eq(startTable, endTable)) {\n          if (isCaption(startCellOrCaption)) {\n            return Optional.some(noMenu(startCellOrCaption));\n          } else {\n            return Optional.some(forMenu(getCellsFromSelection(editor), startTable, startCellOrCaption));\n          }\n        }\n        return Optional.none();\n      })));\n      const getExtractedDetails = targets => {\n        const tableOpt = table(targets.element);\n        return tableOpt.map(table => {\n          const warehouse = Warehouse.fromTable(table);\n          const selectedCells = onCells(warehouse, targets).getOr([]);\n          const locked = foldl(selectedCells, (acc, cell) => {\n            if (cell.isLocked) {\n              acc.onAny = true;\n              if (cell.column === 0) {\n                acc.onFirst = true;\n              } else if (cell.column + cell.colspan >= warehouse.grid.columns) {\n                acc.onLast = true;\n              }\n            }\n            return acc;\n          }, {\n            onAny: false,\n            onFirst: false,\n            onLast: false\n          });\n          return {\n            mergeable: onUnlockedMergable(warehouse, targets).isSome(),\n            unmergeable: onUnlockedUnmergable(warehouse, targets).isSome(),\n            locked\n          };\n        });\n      };\n      const resetTargets = () => {\n        targets.set(cached(findTargets)());\n        selectionDetails = targets.get().bind(getExtractedDetails);\n        each(changeHandlers.get(), call);\n      };\n      const setupHandler = handler => {\n        handler();\n        changeHandlers.set(changeHandlers.get().concat([handler]));\n        return () => {\n          changeHandlers.set(filter(changeHandlers.get(), h => h !== handler));\n        };\n      };\n      const onSetup = (api, isDisabled) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets) && editor.selection.isEditable());\n      }));\n      const onSetupWithToggle = (api, isDisabled, isActive) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n        api.setActive(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets) && editor.selection.isEditable());\n        api.setActive(isActive(targets));\n      }));\n      const isDisabledFromLocked = lockedDisable => selectionDetails.exists(details => details.locked[lockedDisable]);\n      const onSetupTable = api => onSetup(api, _ => false);\n      const onSetupCellOrRow = api => onSetup(api, targets => isCaption(targets.element));\n      const onSetupColumn = lockedDisable => api => onSetup(api, targets => isCaption(targets.element) || isDisabledFromLocked(lockedDisable));\n      const onSetupPasteable = getClipboardData => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone());\n      const onSetupPasteableColumn = (getClipboardData, lockedDisable) => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone() || isDisabledFromLocked(lockedDisable));\n      const onSetupMergeable = api => onSetup(api, _targets => isDisabledForSelection('mergeable'));\n      const onSetupUnmergeable = api => onSetup(api, _targets => isDisabledForSelection('unmergeable'));\n      const onSetupTableWithCaption = api => {\n        return onSetupWithToggle(api, never, targets => {\n          const tableOpt = table(targets.element, getIsRoot(editor));\n          return tableOpt.exists(table => child(table, 'caption'));\n        });\n      };\n      const onSetupTableHeaders = (command, headerType) => api => {\n        return onSetupWithToggle(api, targets => isCaption(targets.element), () => editor.queryCommandValue(command) === headerType);\n      };\n      const onSetupTableRowHeaders = onSetupTableHeaders('mceTableRowType', 'header');\n      const onSetupTableColumnHeaders = onSetupTableHeaders('mceTableColType', 'th');\n      editor.on('NodeChange ExecCommand TableSelectorChange', resetTargets);\n      return {\n        onSetupTable,\n        onSetupCellOrRow,\n        onSetupColumn,\n        onSetupPasteable,\n        onSetupPasteableColumn,\n        onSetupMergeable,\n        onSetupUnmergeable,\n        resetTargets,\n        onSetupTableWithCaption,\n        onSetupTableRowHeaders,\n        onSetupTableColumnHeaders,\n        targets: targets.get\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const getColumns = () => getData(tableTypeColumn);\n\n    const onSetupEditable$1 = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const addButtons = (editor, selectionTargets) => {\n      editor.ui.registry.addMenuButton('table', {\n        tooltip: 'Table',\n        icon: 'table',\n        onSetup: onSetupEditable$1(editor),\n        fetch: callback => callback('inserttable | cell row column | advtablesort | tableprops deletetable')\n      });\n      const cmd = command => () => editor.execCommand(command);\n      const addButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const addToggleButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      addButtonIfRegistered('tableprops', {\n        tooltip: 'Table properties',\n        command: 'mceTableProps',\n        icon: 'table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tabledelete', {\n        tooltip: 'Delete table',\n        command: 'mceTableDelete',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tablecellprops', {\n        tooltip: 'Cell properties',\n        command: 'mceTableCellProps',\n        icon: 'table-cell-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablemergecells', {\n        tooltip: 'Merge cells',\n        command: 'mceTableMergeCells',\n        icon: 'table-merge-cells',\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      addButtonIfRegistered('tablesplitcells', {\n        tooltip: 'Split cell',\n        command: 'mceTableSplitCells',\n        icon: 'table-split-cells',\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      addButtonIfRegistered('tableinsertrowbefore', {\n        tooltip: 'Insert row before',\n        command: 'mceTableInsertRowBefore',\n        icon: 'table-insert-row-above',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertrowafter', {\n        tooltip: 'Insert row after',\n        command: 'mceTableInsertRowAfter',\n        icon: 'table-insert-row-after',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tabledeleterow', {\n        tooltip: 'Delete row',\n        command: 'mceTableDeleteRow',\n        icon: 'table-delete-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablerowprops', {\n        tooltip: 'Row properties',\n        command: 'mceTableRowProps',\n        icon: 'table-row-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertcolbefore', {\n        tooltip: 'Insert column before',\n        command: 'mceTableInsertColBefore',\n        icon: 'table-insert-column-before',\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      addButtonIfRegistered('tableinsertcolafter', {\n        tooltip: 'Insert column after',\n        command: 'mceTableInsertColAfter',\n        icon: 'table-insert-column-after',\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      addButtonIfRegistered('tabledeletecol', {\n        tooltip: 'Delete column',\n        command: 'mceTableDeleteCol',\n        icon: 'table-delete-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecutrow', {\n        tooltip: 'Cut row',\n        command: 'mceTableCutRow',\n        icon: 'cut-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablecopyrow', {\n        tooltip: 'Copy row',\n        command: 'mceTableCopyRow',\n        icon: 'duplicate-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablepasterowbefore', {\n        tooltip: 'Paste row before',\n        command: 'mceTablePasteRowBefore',\n        icon: 'paste-row-before',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablepasterowafter', {\n        tooltip: 'Paste row after',\n        command: 'mceTablePasteRowAfter',\n        icon: 'paste-row-after',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablecutcol', {\n        tooltip: 'Cut column',\n        command: 'mceTableCutCol',\n        icon: 'cut-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecopycol', {\n        tooltip: 'Copy column',\n        command: 'mceTableCopyCol',\n        icon: 'duplicate-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablepastecolbefore', {\n        tooltip: 'Paste column before',\n        command: 'mceTablePasteColBefore',\n        icon: 'paste-column-before',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n      });\n      addButtonIfRegistered('tablepastecolafter', {\n        tooltip: 'Paste column after',\n        command: 'mceTablePasteColAfter',\n        icon: 'paste-column-after',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n      });\n      addButtonIfRegistered('tableinsertdialog', {\n        tooltip: 'Insert table',\n        command: 'mceInsertTableDialog',\n        icon: 'table',\n        onSetup: onSetupEditable$1(editor)\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addMenuButton('tableclass', {\n          icon: 'table-classes',\n          tooltip: 'Table styles',\n          fetch: generateMenuItemsCallback(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addMenuButton('tablecellclass', {\n          icon: 'table-cell-classes',\n          tooltip: 'Cell styles',\n          fetch: generateMenuItemsCallback(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addMenuButton('tablecellvalign', {\n          icon: 'vertical-align',\n          tooltip: 'Vertical align',\n          fetch: generateMenuItemsCallback(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderwidth', {\n          icon: 'border-width',\n          tooltip: 'Border width',\n          fetch: generateMenuItemsCallback(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderstyle', {\n          icon: 'border-style',\n          tooltip: 'Border style',\n          fetch: generateMenuItemsCallback(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          tooltip: 'Background color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          tooltip: 'Border color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleButtonIfRegistered('tablecaption', {\n        tooltip: 'Table caption',\n        icon: 'table-caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleButtonIfRegistered('tablerowheader', {\n        tooltip: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleButtonIfRegistered('tablecolheader', {\n        tooltip: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n    const addToolbars = editor => {\n      const isEditableTable = table => editor.dom.is(table, 'table') && editor.getBody().contains(table) && editor.dom.isEditable(table.parentNode);\n      const toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.ui.registry.addContextToolbar('table', {\n          predicate: isEditableTable,\n          items: toolbar,\n          scope: 'node',\n          position: 'node'\n        });\n      }\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const addMenuItems = (editor, selectionTargets) => {\n      const cmd = command => () => editor.execCommand(command);\n      const addMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n          return true;\n        } else {\n          return false;\n        }\n      };\n      const addToggleMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const insertTableAction = data => {\n        editor.execCommand('mceInsertTable', false, {\n          rows: data.numRows,\n          columns: data.numColumns\n        });\n      };\n      const hasRowMenuItems = [\n        addMenuIfRegistered('tableinsertrowbefore', {\n          text: 'Insert row before',\n          icon: 'table-insert-row-above',\n          command: 'mceTableInsertRowBefore',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tableinsertrowafter', {\n          text: 'Insert row after',\n          icon: 'table-insert-row-after',\n          command: 'mceTableInsertRowAfter',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tabledeleterow', {\n          text: 'Delete row',\n          icon: 'table-delete-row',\n          command: 'mceTableDeleteRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablerowprops', {\n          text: 'Row properties',\n          icon: 'table-row-properties',\n          command: 'mceTableRowProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecutrow', {\n          text: 'Cut row',\n          icon: 'cut-row',\n          command: 'mceTableCutRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecopyrow', {\n          text: 'Copy row',\n          icon: 'duplicate-row',\n          command: 'mceTableCopyRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablepasterowbefore', {\n          text: 'Paste row before',\n          icon: 'paste-row-before',\n          command: 'mceTablePasteRowBefore',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        }),\n        addMenuIfRegistered('tablepasterowafter', {\n          text: 'Paste row after',\n          icon: 'paste-row-after',\n          command: 'mceTablePasteRowAfter',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        })\n      ];\n      const hasColumnMenuItems = [\n        addMenuIfRegistered('tableinsertcolumnbefore', {\n          text: 'Insert column before',\n          icon: 'table-insert-column-before',\n          command: 'mceTableInsertColBefore',\n          onSetup: selectionTargets.onSetupColumn('onFirst')\n        }),\n        addMenuIfRegistered('tableinsertcolumnafter', {\n          text: 'Insert column after',\n          icon: 'table-insert-column-after',\n          command: 'mceTableInsertColAfter',\n          onSetup: selectionTargets.onSetupColumn('onLast')\n        }),\n        addMenuIfRegistered('tabledeletecolumn', {\n          text: 'Delete column',\n          icon: 'table-delete-column',\n          command: 'mceTableDeleteCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecutcolumn', {\n          text: 'Cut column',\n          icon: 'cut-column',\n          command: 'mceTableCutCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecopycolumn', {\n          text: 'Copy column',\n          icon: 'duplicate-column',\n          command: 'mceTableCopyCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablepastecolumnbefore', {\n          text: 'Paste column before',\n          icon: 'paste-column-before',\n          command: 'mceTablePasteColBefore',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n        }),\n        addMenuIfRegistered('tablepastecolumnafter', {\n          text: 'Paste column after',\n          icon: 'paste-column-after',\n          command: 'mceTablePasteColAfter',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n        })\n      ];\n      const hasCellMenuItems = [\n        addMenuIfRegistered('tablecellprops', {\n          text: 'Cell properties',\n          icon: 'table-cell-properties',\n          command: 'mceTableCellProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablemergecells', {\n          text: 'Merge cells',\n          icon: 'table-merge-cells',\n          command: 'mceTableMergeCells',\n          onSetup: selectionTargets.onSetupMergeable\n        }),\n        addMenuIfRegistered('tablesplitcells', {\n          text: 'Split cell',\n          icon: 'table-split-cells',\n          command: 'mceTableSplitCells',\n          onSetup: selectionTargets.onSetupUnmergeable\n        })\n      ];\n      if (!hasTableGrid(editor)) {\n        editor.ui.registry.addMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          onAction: cmd('mceInsertTableDialog'),\n          onSetup: onSetupEditable(editor)\n        });\n      } else {\n        editor.ui.registry.addNestedMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          getSubmenuItems: () => [{\n              type: 'fancymenuitem',\n              fancytype: 'inserttable',\n              onAction: insertTableAction\n            }],\n          onSetup: onSetupEditable(editor)\n        });\n      }\n      editor.ui.registry.addMenuItem('inserttabledialog', {\n        text: 'Insert table',\n        icon: 'table',\n        onAction: cmd('mceInsertTableDialog'),\n        onSetup: onSetupEditable(editor)\n      });\n      addMenuIfRegistered('tableprops', {\n        text: 'Table properties',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableProps'\n      });\n      addMenuIfRegistered('deletetable', {\n        text: 'Delete table',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableDelete'\n      });\n      if (contains(hasRowMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('row', {\n          type: 'nestedmenuitem',\n          text: 'Row',\n          getSubmenuItems: constant('tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter')\n        });\n      }\n      if (contains(hasColumnMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('column', {\n          type: 'nestedmenuitem',\n          text: 'Column',\n          getSubmenuItems: constant('tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter')\n        });\n      }\n      if (contains(hasCellMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('cell', {\n          type: 'nestedmenuitem',\n          text: 'Cell',\n          getSubmenuItems: constant('tablecellprops tablemergecells tablesplitcells')\n        });\n      }\n      editor.ui.registry.addContextMenu('table', {\n        update: () => {\n          selectionTargets.resetTargets();\n          return selectionTargets.targets().fold(constant(''), targets => {\n            if (name(targets.element) === 'caption') {\n              return 'tableprops deletetable';\n            } else {\n              return 'cell row column | advtablesort | tableprops deletetable';\n            }\n          });\n        }\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tableclass', {\n          icon: 'table-classes',\n          text: 'Table styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tablecellclass', {\n          icon: 'table-cell-classes',\n          text: 'Cell styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addNestedMenuItem('tablecellvalign', {\n          icon: 'vertical-align',\n          text: 'Vertical align',\n          getSubmenuItems: () => buildMenuItems(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderwidth', {\n          icon: 'border-width',\n          text: 'Border width',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderstyle', {\n          icon: 'border-style',\n          text: 'Border style',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          text: 'Background color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          text: 'Border color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleMenuIfRegistered('tablecaption', {\n        icon: 'table-caption',\n        text: 'Table caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleMenuIfRegistered('tablerowheader', {\n        text: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleMenuIfRegistered('tablecolheader', {\n        text: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n    };\n\n    const Plugin = editor => {\n      const selectionTargets = getSelectionTargets(editor);\n      register(editor);\n      registerCommands(editor);\n      addMenuItems(editor, selectionTargets);\n      addButtons(editor, selectionTargets);\n      addToolbars(editor);\n    };\n    var Plugin$1 = () => {\n      global$3.add('table', Plugin);\n    };\n\n    Plugin$1();\n\n})();\n","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * TinyMCE version 7.6.0 (2024-12-11)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf$2 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$2(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$i = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$i(xs, 0);\n    const last$1 = xs => get$i(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$h = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path$1 = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path$1(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie$1 = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie$1('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));\n    };\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentNode = element => parent(element);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const getRootNode = e => SugarElement.fromDom(e.dom.getRootNode());\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$g = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$g(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$8 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$f = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue$1 = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$7 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$8(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$f(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$f(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$e = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$d = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$4 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$3 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$3(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$3(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$2 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$2 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(window.navigator.userAgent, Optional.from(window.navigator.userAgentData), mediaMatch));\n    const detect$1 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$c = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$b = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$c(SugarElement.fromDom(doc));\n      return get$b(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$c(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const constrain = (original, constraint) => {\n      const left = Math.max(original.x, constraint.x);\n      const top = Math.max(original.y, constraint.y);\n      const right = Math.min(original.right, constraint.right);\n      const bottom = Math.min(original.bottom, constraint.bottom);\n      const width = right - left;\n      const height = bottom - top;\n      return bounds(left, top, width, height);\n    };\n    const constrainByMany = (original, constraints) => {\n      return foldl(constraints, (acc, c) => constrain(acc, c), original);\n    };\n    const win = () => getBounds$3(window);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton$1 = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton$1(s => s.destroy());\n    const unbindable = () => singleton$1(s => s.unbind());\n    const value$4 = () => {\n      const subject = singleton$1(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    const value$3 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$3);\n    const Result = {\n      value: value$3,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep$1 = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep$1);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$2 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$2(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$h(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$h(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$h(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$h(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = (props, rawF) => {\n      const f = rawF !== undefined ? rawF : identity;\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return {\n              stype: SimpleResultType.Value,\n              svalue: f(res.svalue)\n            };\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$2(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$2(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$2(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$h(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$h(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$2(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$2(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const externalElementScroll = prefixName('system.external.element.scroll');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const retargetAndDispatchWith = (component, target, eventName, properties) => {\n      const data = {\n        ...properties,\n        target\n      };\n      component.getSystem().triggerEvent(eventName, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const nu$8 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$5 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$h(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$8({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$h(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const NoState = { init: () => nu$7({ readState: constant$1('No State required') }) };\n    const nu$7 = spec => spec;\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$4 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$5(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const read$1 = (element, attr) => {\n      const value = get$g(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read$1(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$5 = (element, attr, id) => {\n      const nu = filter$2(read$1(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$8(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$a = element => read$1(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$4 = (element, clazz) => remove$5(element, 'class', clazz);\n    const toggle$5 = (element, clazz) => {\n      if (contains$2(get$a(element), clazz)) {\n        return remove$4(element, clazz);\n      } else {\n        return add$3(element, clazz);\n      }\n    };\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$a(element);\n      if (classList.length === 0) {\n        remove$8(element, 'class');\n      }\n    };\n    const remove$3 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$4(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const toggle$4 = (element, clazz) => {\n      const result = supports(element) ? element.dom.classList.toggle(clazz) : toggle$5(element, clazz);\n      cleanClass(element);\n      return result;\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$2 = (element, classes) => {\n      each$1(classes, x => {\n        remove$3(element, x);\n      });\n    };\n    const toggle$3 = (element, classes) => {\n      each$1(classes, x => {\n        toggle$4(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$9 = element => supports(element) ? getNative(element) : get$a(element);\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$6(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$3(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$3(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, bounds) => box.y < bounds.bottom && box.bottom > bounds.y;\n    const isTopCompletelyVisible = (box, bounds) => box.y >= bounds.y;\n    const isBottomCompletelyVisible = (box, bounds) => box.bottom <= bounds.bottom;\n    const forceTopPosition = (winBox, leftX, viewport) => ({\n      location: 'top',\n      leftX,\n      topY: viewport.bounds.y - winBox.y\n    });\n    const forceBottomPosition = (winBox, leftX, viewport) => ({\n      location: 'bottom',\n      leftX,\n      bottomY: winBox.bottom - viewport.bounds.bottom\n    });\n    const getDockedLeftPosition = bounds => {\n      return bounds.box.x - bounds.win.x;\n    };\n    const tryDockingPosition = (modes, bounds, viewport) => {\n      const winBox = bounds.win;\n      const box = bounds.box;\n      const leftX = getDockedLeftPosition(bounds);\n      return findMap(modes, mode => {\n        switch (mode) {\n        case 'bottom':\n          return !isBottomCompletelyVisible(box, viewport.bounds) ? Optional.some(forceBottomPosition(winBox, leftX, viewport)) : Optional.none();\n        case 'top':\n          return !isTopCompletelyVisible(box, viewport.bounds) ? Optional.some(forceTopPosition(winBox, leftX, viewport)) : Optional.none();\n        default:\n          return Optional.none();\n        }\n      }).getOr({ location: 'no-dock' });\n    };\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport.bounds);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport.bounds);\n      }\n    });\n    const getXYForRestoring = (pos, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(pos.bounds.y), scrollEnv => scrollEnv.scrollElmTop + (pos.bounds.y - scrollEnv.currentScrollTop));\n      return SugarPosition(pos.bounds.x, priorY);\n    };\n    const getXYForSaving = (box, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(box.y), scrollEnv => box.y + scrollEnv.currentScrollTop - scrollEnv.scrollElmTop);\n      return SugarPosition(box.x, priorY);\n    };\n    const getPrior = (elem, viewport, state) => state.getInitialPos().map(pos => {\n      const xy = getXYForRestoring(pos, viewport);\n      return {\n        box: bounds(xy.left, xy.top, get$d(elem), get$e(elem)),\n        location: pos.location\n      };\n    });\n    const storePrior = (elem, box, viewport, state, decision) => {\n      const xy = getXYForSaving(box, viewport);\n      const bounds$1 = bounds(xy.left, xy.top, box.width, box.height);\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$f(elem, 'position') || 'static',\n        bounds: bounds$1,\n        location: decision.location\n      });\n    };\n    const storePriorIfNone = (elem, box, viewport, state, decision) => {\n      state.getInitialPos().fold(() => storePrior(elem, box, viewport, state, decision), () => noop);\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      var _a;\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some({ morph: 'static' });\n      case 'absolute':\n        const offsetParent = getOffsetParent(elem).getOr(body());\n        const offsetBox = box$1(offsetParent);\n        const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n        return Optional.some({\n          morph: 'absolute',\n          positionCss: NuPositionCss('absolute', get$h(position.style, 'left').map(_left => box.x - offsetBox.x), get$h(position.style, 'top').map(_top => box.y - offsetBox.y + scrollDelta), get$h(position.style, 'right').map(_right => offsetBox.right - box.right), get$h(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))\n        });\n      default:\n        return Optional.none();\n      }\n    });\n    const tryMorphToOriginal = (elem, viewport, state) => getPrior(elem, viewport, state).filter(({box}) => isVisibleForModes(state.getModes(), box, viewport)).bind(({box}) => revertToOriginal(elem, box, state));\n    const tryDecisionToFixedMorph = decision => {\n      switch (decision.location) {\n      case 'top': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.some(decision.topY), Optional.none(), Optional.none())\n          });\n        }\n      case 'bottom': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.none(), Optional.none(), Optional.some(decision.bottomY))\n          });\n        }\n      default:\n        return Optional.none();\n      }\n    };\n    const tryMorphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const decision = tryDockingPosition(state.getModes(), {\n        win: winBox,\n        box\n      }, viewport);\n      if (decision.location === 'top' || decision.location === 'bottom') {\n        storePrior(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryMorphToOriginalOrUpdateFixed = (elem, viewport, state) => {\n      return tryMorphToOriginal(elem, viewport, state).orThunk(() => {\n        return viewport.optScrollEnv.bind(_ => getPrior(elem, viewport, state)).bind(({box, location}) => {\n          const winBox = win();\n          const leftX = getDockedLeftPosition({\n            win: winBox,\n            box\n          });\n          const decision = location === 'top' ? forceTopPosition(winBox, leftX, viewport) : forceBottomPosition(winBox, leftX, viewport);\n          return tryDecisionToFixedMorph(decision);\n        });\n      });\n    };\n    const tryMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? tryMorphToOriginalOrUpdateFixed(elem, viewport, state) : tryMorphToFixed(elem, viewport, state);\n    };\n    const calculateMorphToOriginal = (component, viewport, state) => {\n      const elem = component.element;\n      return getPrior(elem, viewport, state).bind(({box}) => revertToOriginal(elem, box, state));\n    };\n    const forceDockWith = (elem, viewport, state, getDecision) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const leftX = getDockedLeftPosition({\n        win: winBox,\n        box\n      });\n      const decision = getDecision(winBox, leftX, viewport);\n      if (decision.location === 'bottom' || decision.location === 'top') {\n        storePriorIfNone(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$7(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport.bounds);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const applyFixedMorph = (component, config, state, viewport, morph) => {\n      updateVisibility(component, config, state, viewport, true);\n      morphToCoord(component, config, state, morph.positionCss);\n    };\n    const applyMorph = (component, config, state, viewport, morph) => {\n      switch (morph.morph) {\n      case 'static': {\n          return morphToStatic(component, config, state);\n        }\n      case 'absolute': {\n          return morphToCoord(component, config, state, morph.positionCss);\n        }\n      case 'fixed': {\n          return applyFixedMorph(component, config, state, viewport, morph);\n        }\n      }\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      updateVisibility(component, config, state, viewport);\n      tryMorph(component, viewport, state).each(morph => {\n        applyMorph(component, config, state, viewport, morph);\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      const viewport = config.lazyViewport(component);\n      calculateMorphToOriginal(component, viewport, state).each(staticOrAbsoluteMorph => {\n        switch (staticOrAbsoluteMorph.morph) {\n        case 'static': {\n            morphToStatic(component, config, state);\n            break;\n          }\n        case 'absolute': {\n            morphToCoord(component, config, state, staticOrAbsoluteMorph.positionCss);\n            break;\n          }\n        }\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$2(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    const refresh$4 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset$2 = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const forceDockWithDecision = getDecision => (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const optMorph = forceDockWith(component.element, viewport, state, getDecision);\n      optMorph.each(morph => {\n        applyFixedMorph(component, config, state, viewport, morph);\n      });\n    };\n    const forceDockToTop = forceDockWithDecision(forceTopPosition);\n    const forceDockToBottom = forceDockWithDecision(forceBottomPosition);\n    const isDocked$2 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset$2,\n        isDocked: isDocked$2,\n        getModes: getModes,\n        setModes: setModes,\n        forceDockToTop: forceDockToTop,\n        forceDockToBottom: forceDockToBottom\n    });\n\n    const events$i = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$2(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(externalElementScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset$2(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$8 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$8(container);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$h(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', () => ({\n        bounds: win(),\n        optScrollEnv: Optional.none()\n      })),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$g = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$4();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$7({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Docking = create$4({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$h = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n    const random = () => window.crypto.getRandomValues(new Uint32Array(1))[0] / 4294967295;\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random$1 = Math.floor(random() * 1000000000);\n      unique++;\n      return prefix + '_' + random$1 + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton = NoContextApi();\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$h(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$h(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$8({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing',\n          'tooltipping'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'toolbar-button-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$8({}), nu$8);\n    const toEvents = info => info.events;\n\n    const get$7 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$6(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$6);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$2(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$8(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$7(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$9(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$2(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$7(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$h(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$h(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$2 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const sibling$1 = (scope, predicate) => {\n      const element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child$1(SugarElement.fromDom(element.parentNode), x => !eq(scope, x) && predicate(x));\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const first$1 = selector => one(selector);\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const sibling = (scope, selector) => sibling$1(scope, e => is(e, selector));\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$g(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$g(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$8(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$h(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$g = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const Receiving = create$4({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$8({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = (element, preventScroll = false) => element.dom.focus({ preventScroll });\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$c();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, optBounds) => optBounds.fold(() => origin.fold(win, win, bounds), bounds$1 => origin.fold(constant$1(bounds$1), constant$1(bounds$1), () => {\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$c();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$1 = element => remove$8(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$f(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$8(element, timerAttr);\n            remove$2(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$8(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$2(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$7(element, 'max-height');\n      remove$7(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$2(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, optBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, optBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$h(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$f(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$g(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$6 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$6(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$6(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$c(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$6(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const ancestors = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$5 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$5(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const isSimRange = detail => detail.foffset !== undefined;\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        if (isSimRange(sel)) {\n          const modStart = descendOnce(sel.start, sel.soffset);\n          const modFinish = descendOnce(sel.finish, sel.foffset);\n          return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n        } else {\n          return sel;\n        }\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        if (isSimRange(sel)) {\n          const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n            const zeroWidth$1 = SugarElement.fromText(zeroWidth);\n            before$1(sel.start, zeroWidth$1);\n            const rect = getFirstRect(win, SimSelection.exact(zeroWidth$1, 0, zeroWidth$1, 1));\n            remove$6(zeroWidth$1);\n            return rect;\n          });\n          return optRect.bind(rawRect => {\n            return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n          });\n        } else {\n          const selectionRect = map$1(sel, cell => cell.dom.getBoundingClientRect());\n          const bounds = {\n            left: Math.min(selectionRect.firstCell.left, selectionRect.lastCell.left),\n            right: Math.max(selectionRect.firstCell.right, selectionRect.lastCell.right),\n            top: Math.min(selectionRect.firstCell.top, selectionRect.lastCell.top),\n            bottom: Math.max(selectionRect.firstCell.bottom, selectionRect.lastCell.bottom)\n          };\n          return getBox(bounds.left, bounds.top, bounds.right - bounds.left, bounds.bottom - bounds.top);\n        }\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => {\n        if (isSimRange(sel)) {\n          return isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start);\n        } else {\n          return Optional.some(sel.firstCell);\n        }\n      });\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$6(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (origin, anchoring, optBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, optBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      const optWithinBounds = Optional.none();\n      positionWithinBounds(component, posConfig, posState, placee, placementSpec, optWithinBounds);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, optWithinBounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        anchorage.placement(component, anchorage, origin).each(anchoring => {\n          const optBounds = optWithinBounds.orThunk(() => posConfig.getBounds.map(apply$1));\n          const newState = place(origin, anchoring, optBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$7(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$7(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$7(element, prop));\n      reset$1(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset\n    });\n\n    const init$f = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$h(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$7({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Positioning = create$4({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$6(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$6(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$6(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$8(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$7(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$7(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$f = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$e = () => {\n      const contents = value$4();\n      const readState = constant$1('not-implemented');\n      return nu$7({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$e\n    });\n\n    const Sandboxing = create$4({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$e = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$e\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$7({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$7({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$h(dataByValue.get(), itemString).orThunk(() => get$h(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$h(item, 'meta').each(meta => {\n            get$h(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$7({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$d = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$d\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$4({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$4 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$4\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$h(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$h(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$g(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$4({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$8(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$g(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$3(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled$1 = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled$1,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$8({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$d = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled$1(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$d\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$4({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        const shouldSkip = exists(skip, skipComp => eq(skipComp.element, h));\n        if (!shouldSkip) {\n          remove$3(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$3(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$4({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift$1 = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift$1);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$2 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$e(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const isFirstChild = elem => parentNode(elem).bind(firstChild).exists(child => eq(child, elem));\n      const goFromPseudoTabstop = (component, simulatedEvent, tabbingConfig) => findCurrent(component, tabbingConfig).filter(elem => !tabbingConfig.useTabstopAt(elem)).bind(elem => (isFirstChild(elem) ? goBackwards : goForwards)(component, simulatedEvent, tabbingConfig));\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift$1,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([\n        rule(inSet(ESCAPE), exit),\n        rule(inSet(TAB), goFromPseudoTabstop)\n      ]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$2(customField('cyclic', never));\n\n    var CyclicType = create$2(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$4();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$7({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$c = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$c\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$4 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$4));\n\n    const f = (container, selector, current, delta, getNewIndex) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$g(candidate, 'disabled') === 'disabled';\n      const tryNewIndex = (initial, index, candidates) => getNewIndex(initial, index, delta, 0, candidates.length - 1, candidates[index], newIndex => isDisabledButton(candidates[newIndex]) ? tryNewIndex(initial, newIndex, candidates) : Optional.from(candidates[newIndex]));\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryNewIndex(index, index, candidates);\n      });\n    };\n    const horizontalWithoutCycles = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, oldCandidate, onNewIndex) => {\n      const newIndex = clamp(v + d, min, max);\n      return newIndex === prevIndex ? Optional.from(oldCandidate) : onNewIndex(newIndex);\n    });\n    const horizontal = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, _oldCandidate, onNewIndex) => {\n      const newIndex = cycleBy(v, d, min, max);\n      return newIndex === prevIndex ? Optional.none() : onNewIndex(newIndex);\n    });\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true),\n      defaulted('allowHorizontal', true),\n      defaulted('cycles', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$3 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = [...flowConfig.allowHorizontal ? LEFT : []].concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = [...flowConfig.allowHorizontal ? RIGHT : []].concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$3));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$2 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$2));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn$1 = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn$1));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift$1,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove$1 = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove$1,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$4({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$c = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$4({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$c(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$8(mod);\n    };\n    const events$b = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$b\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$4({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$3(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$8({});\n    const events$a = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$a\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$4({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$9 = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.role.fold(() => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem'), identity);\n    const getTogglingSpec = (tConfig, isOption) => ({\n      aria: { mode: isOption ? 'selected' : 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig, detail.role.exists(role => role === 'option')))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      option$3('role'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      previousSelector: movementInfo.previousSelector,\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      optionString('role'),\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector'),\n          defaulted('previousSelector', Optional.none)\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight'),\n      defaulted('showMenuRole', true)\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight,\n          onDehighlight: detail.onDehighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$g(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      ...detail.showMenuRole ? { domModification: { attributes: { role: detail.role.getOr('menu') } } } : {}\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$h(byMenu, finish).bind(triggerItem => get$h(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$h(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$b = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$4();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$h(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$h(expansions.get(), itemValue).map(menu => {\n        const current = get$h(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$h(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$h(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$h(menus.get(), menuValue);\n      const lookupItem = itemValue => get$h(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$b,\n      extractPreparedMenu\n    };\n\n    const onMenuItemHighlightedEvent = generate$6('tiered-menu-item-highlight');\n    const onMenuItemDehighlightedEvent = generate$6('tiered-menu-item-dehighlight');\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem'] = 0] = 'HighlightMenuAndItem';\n      HighlightOnOpen[HighlightOnOpen['HighlightJustMenu'] = 1] = 'HighlightJustMenu';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 2] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$4();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: (menuComp, itemComp) => {\n            const highlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemHighlightedEvent, highlightData);\n          },\n          onDehighlight: (menuComp, itemComp) => {\n            const dehighlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemDehighlightedEvent, dehighlightData);\n          },\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = Highlighting.highlight;\n      const setActiveMenuAndItem = (container, menu) => {\n        setActiveMenu(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          if (detail.fakeFocus) {\n            Highlighting.highlight(menu, item);\n          } else {\n            dispatch(container, item.element, focusItem());\n          }\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$2(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$g(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$2(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenuAndItem(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => {\n        return closest$1(simulatedEvent.getSource(), `.${ detail.markers.item }`).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      };\n      const events = derive$2([\n        run$1(focus(), (tmenu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(tmenu, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(tmenu, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightOnOpen === HighlightOnOpen.HighlightMenuAndItem) {\n              setActiveMenuAndItem(container, primary);\n            } else if (detail.highlightOnOpen === HighlightOnOpen.HighlightJustMenu) {\n              setActiveMenu(container, primary);\n            }\n          });\n        }),\n        run$1(onMenuItemHighlightedEvent, (tmenuComp, se) => {\n          detail.onHighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        run$1(onMenuItemDehighlightedEvent, (tmenuComp, se) => {\n          detail.onDehighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        ...detail.navigateOnHover ? [run$1(hover(), (tmenu, simulatedEvent) => {\n            const item = simulatedEvent.event.item;\n            updateView(tmenu, item);\n            expandRight(tmenu, item, ExpandHighlightDecision.HighlightParent);\n            detail.onHover(tmenu, item);\n          })] : []\n      ]);\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenuAndItem(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$g(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightOnOpen', HighlightOnOpen.HighlightMenuAndItem),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlightItem'),\n        onHandler('onDehighlightItem'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightOnOpen: menuSpec.menu.highlightOnOpen,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$o = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        const getBounds = Optional.none;\n        showWithinBounds(sandbox, thing, placementSpec, getBounds);\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$o,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$f = editor => {\n      const isPhone = global$6.deviceType.isPhone();\n      const isMobile = global$6.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$8.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('font_size_input_default_unit', {\n        processor: 'string',\n        default: 'pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('ui_mode', {\n        processor: 'string',\n        default: 'combined'\n      });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('promotion', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$6.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n      registerOption('help_accessibility', {\n        processor: 'boolean',\n        default: editor.hasPlugin('help')\n      });\n      registerOption('default_font_stack', {\n        processor: 'string[]',\n        default: []\n      });\n    };\n    const isReadOnly = option$2('readonly');\n    const isDisabled = option$2('disabled');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFontSizeInputDefaultUnit = option$2('font_size_input_default_unit');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const promotionEnabled = option$2('promotion');\n    const useHelpAccessibility = option$2('help_accessibility');\n    const getDefaultFontStack = option$2('default_font_stack');\n    const getSkin = option$2('skin');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$7.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getSkinUrlOption = editor => Optional.from(editor.options.get('skin_url'));\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      var _a;\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = (_a = fixedContainerSelector(editor)) !== null && _a !== void 0 ? _a : '';\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const isSplitUiMode = editor => !useFixedContainer(editor) && editor.options.get('ui_mode') === 'split';\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$f,\n        getSkinUrl: getSkinUrl,\n        getSkinUrlOption: getSkinUrlOption,\n        isReadOnly: isReadOnly,\n        isDisabled: isDisabled,\n        getSkin: getSkin,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        isSplitUiMode: isSplitUiMode,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        getFontSizeInputDefaultUnit: getFontSizeInputDefaultUnit,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        promotionEnabled: promotionEnabled,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow,\n        useHelpAccessibility: useHelpAccessibility,\n        getDefaultFontStack: getDefaultFontStack\n    });\n\n    const nonScrollingOverflows = [\n      'visible',\n      'hidden',\n      'clip'\n    ];\n    const isScrollingOverflowValue = value => trim$1(value).length > 0 && !contains$2(nonScrollingOverflows, value);\n    const isScroller = elem => {\n      if (isHTMLElement(elem)) {\n        const overflowX = get$f(elem, 'overflow-x');\n        const overflowY = get$f(elem, 'overflow-y');\n        return isScrollingOverflowValue(overflowX) || isScrollingOverflowValue(overflowY);\n      } else {\n        return false;\n      }\n    };\n    const isFullscreen = editor => editor.plugins.fullscreen && editor.plugins.fullscreen.isFullscreen();\n    const detect = (editor, popupSinkElem) => {\n      const ancestorsScrollers = ancestors(popupSinkElem, isScroller);\n      const scrollers = ancestorsScrollers.length === 0 ? getShadowRoot(popupSinkElem).map(getShadowHost).map(x => ancestors(x, isScroller)).getOr([]) : ancestorsScrollers;\n      return head(scrollers).map(element => ({\n        element,\n        others: scrollers.slice(1),\n        isFullscreen: () => isFullscreen(editor)\n      }));\n    };\n    const detectWhenSplitUiMode = (editor, popupSinkElem) => isSplitUiMode(editor) ? detect(editor, popupSinkElem) : Optional.none();\n    const getBoundsFrom = sc => {\n      const scrollableBoxes = [\n        ...map$2(sc.others, box$1),\n        win()\n      ];\n      return sc.isFullscreen() ? win() : constrainByMany(box$1(sc.element), scrollableBoxes);\n    };\n\n    const factory$n = detail => {\n      const events = events$9(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$h(detail.dom, 'attributes').bind(attrs => get$h(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = detail.role.getOr(lookupAttr('role').getOr('button'));\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$n,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$8(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    const exhibit$2 = (base, tabConfig) => nu$8({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$4({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n    const ImmediateHideTooltipEvent = generate$6('tooltip.immediateHide');\n    const ImmediateShowTooltipEvent = generate$6('tooltip.immediateShow');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (_component, _tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n    const isEnabled = (_component, _tConfig, tState) => tState.isEnabled();\n    const setEnabled = (_component, _tConfig, tState, enabled) => tState.setEnabled(enabled);\n    const immediateOpenClose = (component, _tConfig, _tState, open) => emit(component, open ? ImmediateShowTooltipEvent : ImmediateHideTooltipEvent);\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        immediateOpenClose: immediateOpenClose,\n        isEnabled: isEnabled,\n        setComponents: setComponents,\n        setEnabled: setEnabled\n    });\n\n    const events$8 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          if (p.getSystem().isConnected()) {\n            detach(p);\n            tooltipConfig.onHide(comp, p);\n            state.clearTooltip();\n          }\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing() && state.isEnabled()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      const reposition = comp => {\n        state.getTooltip().each(tooltip => {\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          Positioning.position(sink, tooltip, { anchor: tooltipConfig.anchor(comp) });\n        });\n      };\n      const getEvents = () => {\n        switch (tooltipConfig.mode) {\n        case 'normal':\n          return [\n            run$1(focusin(), comp => {\n              emit(comp, ImmediateShowTooltipEvent);\n            }),\n            run$1(postBlur(), comp => {\n              emit(comp, ImmediateHideTooltipEvent);\n            }),\n            run$1(mouseover(), comp => {\n              emit(comp, ShowTooltipEvent);\n            }),\n            run$1(mouseout(), comp => {\n              emit(comp, HideTooltipEvent);\n            })\n          ];\n        case 'follow-highlight':\n          return [\n            run$1(highlight$1(), (comp, _se) => {\n              emit(comp, ShowTooltipEvent);\n            }),\n            run$1(dehighlight$1(), comp => {\n              emit(comp, HideTooltipEvent);\n            })\n          ];\n        case 'children-normal':\n          return [\n            run$1(focusin(), (comp, se) => {\n              search(comp.element).each(_ => {\n                if (is(se.event.target, '[data-mce-tooltip]')) {\n                  state.getTooltip().fold(() => {\n                    emit(comp, ImmediateShowTooltipEvent);\n                  }, tooltip => {\n                    if (state.isShowing()) {\n                      tooltipConfig.onShow(comp, tooltip);\n                      reposition(comp);\n                    }\n                  });\n                }\n              });\n            }),\n            run$1(postBlur(), comp => {\n              search(comp.element).fold(() => {\n                emit(comp, ImmediateHideTooltipEvent);\n              }, noop);\n            }),\n            run$1(mouseover(), comp => {\n              descendant(comp.element, '[data-mce-tooltip]:hover').each(_ => {\n                state.getTooltip().fold(() => {\n                  emit(comp, ShowTooltipEvent);\n                }, tooltip => {\n                  if (state.isShowing()) {\n                    tooltipConfig.onShow(comp, tooltip);\n                    reposition(comp);\n                  }\n                });\n              });\n            }),\n            run$1(mouseout(), comp => {\n              descendant(comp.element, '[data-mce-tooltip]:hover').fold(() => {\n                emit(comp, HideTooltipEvent);\n              }, noop);\n            })\n          ];\n        default:\n          return [\n            run$1(focusin(), (comp, se) => {\n              search(comp.element).each(_ => {\n                if (is(se.event.target, '[data-mce-tooltip]')) {\n                  state.getTooltip().fold(() => {\n                    emit(comp, ImmediateShowTooltipEvent);\n                  }, tooltip => {\n                    if (state.isShowing()) {\n                      tooltipConfig.onShow(comp, tooltip);\n                      reposition(comp);\n                    }\n                  });\n                }\n              });\n            }),\n            run$1(postBlur(), comp => {\n              search(comp.element).fold(() => {\n                emit(comp, ImmediateHideTooltipEvent);\n              }, noop);\n            })\n          ];\n        }\n      };\n      return derive$2(flatten([\n        [\n          runOnInit(component => {\n            tooltipConfig.onSetup(component);\n          }),\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delayForShow());\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delayForHide());\n          }),\n          run$1(ImmediateShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, 0);\n          }),\n          run$1(ImmediateHideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, 0);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        getEvents()\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaultedFunction('delayForShow', constant$1(300)),\n      defaultedFunction('delayForHide', constant$1(300)),\n      defaultedFunction('onSetup', noop),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight',\n        'children-keyboard-focus',\n        'children-normal'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        },\n        bubble: nu$5(0, -2, {})\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$a = () => {\n      const enabled = Cell(true);\n      const timer = value$4();\n      const popup = value$4();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$7({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState,\n        isEnabled: () => enabled.get(),\n        setEnabled: setToEnabled => enabled.set(setToEnabled)\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Tooltipping = create$4({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    /*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */\n\n    const {\n      entries,\n      setPrototypeOf,\n      isFrozen,\n      getPrototypeOf,\n      getOwnPropertyDescriptor\n    } = Object;\n    let {\n      freeze,\n      seal,\n      create: create$1\n    } = Object; // eslint-disable-line import/no-mutable-exports\n    let {\n      apply,\n      construct\n    } = typeof Reflect !== 'undefined' && Reflect;\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return new Func(...args);\n      };\n    }\n    const arrayForEach = unapply(Array.prototype.forEach);\n    const arrayPop = unapply(Array.prototype.pop);\n    const arrayPush = unapply(Array.prototype.push);\n    const stringToLowerCase = unapply(String.prototype.toLowerCase);\n    const stringToString = unapply(String.prototype.toString);\n    const stringMatch = unapply(String.prototype.match);\n    const stringReplace = unapply(String.prototype.replace);\n    const stringIndexOf = unapply(String.prototype.indexOf);\n    const stringTrim = unapply(String.prototype.trim);\n    const objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n    const regExpTest = unapply(RegExp.prototype.test);\n    const typeErrorCreate = unconstruct(TypeError);\n\n    /**\n     * Creates a new function that calls the given function with a specified thisArg and arguments.\n     *\n     * @param {Function} func - The function to be wrapped and called.\n     * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n     */\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n\n    /**\n     * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n     *\n     * @param {Function} func - The constructor function to be wrapped and called.\n     * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n     */\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n\n    /**\n     * Add properties to a lookup table\n     *\n     * @param {Object} set - The set to which elements will be added.\n     * @param {Array} array - The array containing elements to be added to the set.\n     * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n     * @returns {Object} The modified set with added elements.\n     */\n    function addToSet(set, array) {\n      let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n      if (setPrototypeOf) {\n        // Make 'in' and truthy checks like Boolean(set.constructor)\n        // independent of any properties defined on Object.prototype.\n        // Prevent prototype setters from intercepting set as a this value.\n        setPrototypeOf(set, null);\n      }\n      let l = array.length;\n      while (l--) {\n        let element = array[l];\n        if (typeof element === 'string') {\n          const lcElement = transformCaseFunc(element);\n          if (lcElement !== element) {\n            // Config presets (e.g. tags.js, attrs.js) are immutable.\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n\n    /**\n     * Clean up an array to harden against CSPP\n     *\n     * @param {Array} array - The array to be cleaned.\n     * @returns {Array} The cleaned version of the array\n     */\n    function cleanArray(array) {\n      for (let index = 0; index < array.length; index++) {\n        const isPropertyExist = objectHasOwnProperty(array, index);\n        if (!isPropertyExist) {\n          array[index] = null;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Shallow clone an object\n     *\n     * @param {Object} object - The object to be cloned.\n     * @returns {Object} A new object that copies the original.\n     */\n    function clone(object) {\n      const newObject = create$1(null);\n      for (const [property, value] of entries(object)) {\n        const isPropertyExist = objectHasOwnProperty(object, property);\n        if (isPropertyExist) {\n          if (Array.isArray(value)) {\n            newObject[property] = cleanArray(value);\n          } else if (value && typeof value === 'object' && value.constructor === Object) {\n            newObject[property] = clone(value);\n          } else {\n            newObject[property] = value;\n          }\n        }\n      }\n      return newObject;\n    }\n\n    /**\n     * This method automatically checks if the prop is function or getter and behaves accordingly.\n     *\n     * @param {Object} object - The object to look up the getter function in its prototype chain.\n     * @param {String} prop - The property name for which to find the getter function.\n     * @returns {Function} The getter function found in the prototype chain or a fallback function.\n     */\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        const desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue() {\n        return null;\n      }\n      return fallbackValue;\n    }\n\n    const html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n    // SVG\n    const svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n    const svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n    // List of SVG elements that are disallowed by default.\n    // We still need to know them so that we can do namespace\n    // checks properly in case one wants to add them to\n    // allow-list.\n    const svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n    const mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n\n    // Similarly to SVG, we want to know all MathML elements,\n    // even those that we disallow by default.\n    const mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n    const text$1 = freeze(['#text']);\n\n    const html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\n    const svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n    const mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n    const xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n    // eslint-disable-next-line unicorn/better-regex\n    const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n    const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n    const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n    const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n    const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n    );\n    const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n    );\n    const DOCTYPE_NAME = seal(/^html$/i);\n    const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\n    var EXPRESSIONS = /*#__PURE__*/Object.freeze({\n      __proto__: null,\n      MUSTACHE_EXPR: MUSTACHE_EXPR,\n      ERB_EXPR: ERB_EXPR,\n      TMPLIT_EXPR: TMPLIT_EXPR,\n      DATA_ATTR: DATA_ATTR,\n      ARIA_ATTR: ARIA_ATTR,\n      IS_ALLOWED_URI: IS_ALLOWED_URI,\n      IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE: ATTR_WHITESPACE,\n      DOCTYPE_NAME: DOCTYPE_NAME,\n      CUSTOM_ELEMENT: CUSTOM_ELEMENT\n    });\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n    const NODE_TYPE = {\n      element: 1,\n      attribute: 2,\n      text: 3,\n      cdataSection: 4,\n      entityReference: 5,\n      // Deprecated\n      entityNode: 6,\n      // Deprecated\n      progressingInstruction: 7,\n      comment: 8,\n      document: 9,\n      documentType: 10,\n      documentFragment: 11,\n      notation: 12 // Deprecated\n    };\n    const getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n\n    /**\n     * Creates a no-op policy for internal use only.\n     * Don't export this function outside this module!\n     * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n     * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n     * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n     * are not supported or creating the policy failed).\n     */\n    const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n      if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n\n      // Allow the callers to control the unique policy name\n      // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n      // Policy creation with duplicate names throws in Trusted Types.\n      let suffix = null;\n      const ATTR_NAME = 'data-tt-policy-suffix';\n      if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n        suffix = purifyHostElement.getAttribute(ATTR_NAME);\n      }\n      const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML(html) {\n            return html;\n          },\n          createScriptURL(scriptUrl) {\n            return scriptUrl;\n          }\n        });\n      } catch (_) {\n        // Policy creation failed (most likely another DOMPurify script has\n        // already run). Skip creating the policy, as this will only cause errors\n        // if TT are enforced.\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      const DOMPurify = root => createDOMPurify(root);\n\n      /**\n       * Version label, exposed for easier checks\n       * if DOMPurify is up to date or not\n       */\n      DOMPurify.version = '3.1.7';\n\n      /**\n       * Array of elements that DOMPurify removed during sanitation.\n       * Empty if nothing was removed.\n       */\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document) {\n        // Not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      let {\n        document\n      } = window;\n      const originalDocument = document;\n      const currentScript = originalDocument.currentScript;\n      const {\n        DocumentFragment,\n        HTMLTemplateElement,\n        Node,\n        Element,\n        NodeFilter,\n        NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n        HTMLFormElement,\n        DOMParser,\n        trustedTypes\n      } = window;\n      const ElementPrototype = Element.prototype;\n      const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      const remove = lookupGetter(ElementPrototype, 'remove');\n      const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n      // As per issue #47, the web-components registry is inherited by a\n      // new document created via createHTMLDocument. As per the spec\n      // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n      // a new empty registry is used when creating a template contents owner\n      // document, so we use that as our parent document to ensure nothing\n      // is inherited.\n      if (typeof HTMLTemplateElement === 'function') {\n        const template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      let trustedTypesPolicy;\n      let emptyHTML = '';\n      const {\n        implementation,\n        createNodeIterator,\n        createDocumentFragment,\n        getElementsByTagName\n      } = document;\n      const {\n        importNode\n      } = originalDocument;\n      let hooks = {};\n\n      /**\n       * Expose whether this browser supports running the full DOMPurify.\n       */\n      DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n      const {\n        MUSTACHE_EXPR,\n        ERB_EXPR,\n        TMPLIT_EXPR,\n        DATA_ATTR,\n        ARIA_ATTR,\n        IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE,\n        CUSTOM_ELEMENT\n      } = EXPRESSIONS;\n      let {\n        IS_ALLOWED_URI: IS_ALLOWED_URI$1\n      } = EXPRESSIONS;\n\n      /**\n       * We consider the elements and attributes below to be safe. Ideally\n       * don't add any new ones but feel free to remove unwanted ones.\n       */\n\n      /* allowed element names */\n      let ALLOWED_TAGS = null;\n      const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text$1]);\n\n      /* Allowed attribute names */\n      let ALLOWED_ATTR = null;\n      const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n\n      /*\n       * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n       * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n       * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n       * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n       */\n      let CUSTOM_ELEMENT_HANDLING = Object.seal(create$1(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n\n      /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n      let FORBID_TAGS = null;\n\n      /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n      let FORBID_ATTR = null;\n\n      /* Decide if ARIA attributes are okay */\n      let ALLOW_ARIA_ATTR = true;\n\n      /* Decide if custom data attributes are okay */\n      let ALLOW_DATA_ATTR = true;\n\n      /* Decide if unknown protocols are okay */\n      let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n      /* Decide if self-closing tags in attributes are allowed.\n       * Usually removed due to a mXSS issue in jQuery 3.0 */\n      let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n      /* Output should be safe for common template engines.\n       * This means, DOMPurify removes data attributes, mustaches and ERB\n       */\n      let SAFE_FOR_TEMPLATES = false;\n\n      /* Output should be safe even for XML used within HTML and alike.\n       * This means, DOMPurify removes comments when containing risky content.\n       */\n      let SAFE_FOR_XML = true;\n\n      /* Decide if document with <html>... should be returned */\n      let WHOLE_DOCUMENT = false;\n\n      /* Track whether config is already set on this instance of DOMPurify. */\n      let SET_CONFIG = false;\n\n      /* Decide if all elements (e.g. style, script) must be children of\n       * document.body. By default, browsers might move them to document.head */\n      let FORCE_BODY = false;\n\n      /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n       * string (or a TrustedHTML object if Trusted Types are supported).\n       * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n       */\n      let RETURN_DOM = false;\n\n      /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n       * string  (or a TrustedHTML object if Trusted Types are supported) */\n      let RETURN_DOM_FRAGMENT = false;\n\n      /* Try to return a Trusted Type object instead of a string, return a string in\n       * case Trusted Types are not supported  */\n      let RETURN_TRUSTED_TYPE = false;\n\n      /* Output should be free from DOM clobbering attacks?\n       * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n       */\n      let SANITIZE_DOM = true;\n\n      /* Achieve full DOM Clobbering protection by isolating the namespace of named\n       * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n       *\n       * HTML/DOM spec rules that enable DOM Clobbering:\n       *   - Named Access on Window (§7.3.3)\n       *   - DOM Tree Accessors (§3.1.5)\n       *   - Form Element Parent-Child Relations (§4.10.3)\n       *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n       *   - HTMLCollection (§4.2.10.2)\n       *\n       * Namespace isolation is implemented by prefixing `id` and `name` attributes\n       * with a constant string, i.e., `user-content-`\n       */\n      let SANITIZE_NAMED_PROPS = false;\n      const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n      /* Keep element content when removing element? */\n      let KEEP_CONTENT = true;\n\n      /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n       * of importing it into a new Document and returning a sanitized copy */\n      let IN_PLACE = false;\n\n      /* Allow usage of profiles like html, svg and mathMl */\n      let USE_PROFILES = {};\n\n      /* Tags to ignore content of when KEEP_CONTENT is true */\n      let FORBID_CONTENTS = null;\n      const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n      /* Tags that are safe for data: URIs */\n      let DATA_URI_TAGS = null;\n      const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n      /* Attributes safe for values like \"javascript:\" */\n      let URI_SAFE_ATTRIBUTES = null;\n      const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n      const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      /* Document namespace */\n      let NAMESPACE = HTML_NAMESPACE;\n      let IS_EMPTY_INPUT = false;\n\n      /* Allowed XHTML+XML namespaces */\n      let ALLOWED_NAMESPACES = null;\n      const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n\n      /* Parsing of strict XHTML documents */\n      let PARSER_MEDIA_TYPE = null;\n      const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n      const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      let transformCaseFunc = null;\n\n      /* Keep a reference to config to pass to hooks */\n      let CONFIG = null;\n\n      /* Ideally, do not touch anything below this line */\n      /* ______________________________________________ */\n\n      const formElement = document.createElement('form');\n      const isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n\n      /**\n       * _parseConfig\n       *\n       * @param  {Object} cfg optional config literal\n       */\n      // eslint-disable-next-line complexity\n      const _parseConfig = function _parseConfig() {\n        let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n\n        /* Shield configuration object from tampering */\n        if (!cfg || typeof cfg !== 'object') {\n          cfg = {};\n        }\n\n        /* Shield configuration object from prototype pollution */\n        cfg = clone(cfg);\n        PARSER_MEDIA_TYPE =\n        // eslint-disable-next-line unicorn/prefer-includes\n        SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n\n        // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n        ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n        URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n        // eslint-disable-line indent\n        cfg.ADD_URI_SAFE_ATTR,\n        // eslint-disable-line indent\n        transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n        : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS),\n        // eslint-disable-line indent\n        cfg.ADD_DATA_URI_TAGS,\n        // eslint-disable-line indent\n        transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n        : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n        FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n        USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n        SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n        RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n        FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n        SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n        IN_PLACE = cfg.IN_PLACE || false; // Default false\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n\n        /* Parse profile info */\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, text$1);\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n\n        /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n        }\n\n        /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (cfg.TRUSTED_TYPES_POLICY) {\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n          }\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n          }\n\n          // Overwrite existing TrustedTypes policy.\n          trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n          // Sign local variables required by `sanitize`.\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        } else {\n          // Uninitialized policy, attempt to initialize the internal dompurify policy.\n          if (trustedTypesPolicy === undefined) {\n            trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n          }\n\n          // If creating the internal policy succeeded sign internal variables.\n          if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n            emptyHTML = trustedTypesPolicy.createHTML('');\n          }\n        }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n      const HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n\n      // Certain elements are allowed in both SVG and HTML\n      // namespace. We need to specify them explicitly\n      // so that they don't get erroneously deleted from\n      // HTML namespace.\n      const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n      /* Keep track of all possible SVG and MathML tags\n       * so that we can perform the namespace checks\n       * correctly. */\n      const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n      const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n\n      /**\n       * @param  {Element} element a DOM element whose namespace is being checked\n       * @returns {boolean} Return false if the element has a\n       *  namespace that a spec-compliant parser would never\n       *  return. Return true otherwise.\n       */\n      const _checkValidNamespace = function _checkValidNamespace(element) {\n        let parent = getParentNode(element);\n\n        // In JSDOM, if we're inside shadow DOM, then parentNode\n        // can be null. We just simulate parent in this case.\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        const tagName = stringToLowerCase(element.tagName);\n        const parentTagName = stringToLowerCase(parent.tagName);\n        if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return false;\n        }\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          // The only way to switch from HTML namespace to SVG\n          // is via <svg>. If it happens via any other tag, then\n          // it should be killed.\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n\n          // The only way to switch from MathML to SVG is via`\n          // svg if parent is either <annotation-xml> or MathML\n          // text integration points.\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n\n          // We only allow elements that are defined in SVG\n          // spec. All others are disallowed in SVG namespace.\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          // The only way to switch from HTML namespace to MathML\n          // is via <math>. If it happens via any other tag, then\n          // it should be killed.\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n\n          // The only way to switch from SVG to MathML is via\n          // <math> and HTML integration points\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n\n          // We only allow elements that are defined in MathML\n          // spec. All others are disallowed in MathML namespace.\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          // The only way to switch from SVG to HTML is via\n          // HTML integration points, and from MathML to HTML\n          // is via MathML text integration points\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n\n          // We disallow tags that are specific for MathML\n          // or SVG and should never appear in HTML namespace\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n\n        // For XHTML and XML documents that support custom namespaces\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return true;\n        }\n\n        // The code should never reach this place (this means\n        // that the element somehow got namespace that is not\n        // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n        // Return false just in case.\n        return false;\n      };\n\n      /**\n       * _forceRemove\n       *\n       * @param  {Node} node a DOM node\n       */\n      const _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, {\n          element: node\n        });\n        try {\n          // eslint-disable-next-line unicorn/prefer-dom-node-remove\n          getParentNode(node).removeChild(node);\n        } catch (_) {\n          remove(node);\n        }\n      };\n\n      /**\n       * _removeAttribute\n       *\n       * @param  {String} name an Attribute name\n       * @param  {Node} node a DOM node\n       */\n      const _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n\n        // We void attribute values for unremovable \"is\"\" attributes\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {}\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {}\n          }\n        }\n      };\n\n      /**\n       * _initDocument\n       *\n       * @param  {String} dirty a string of dirty markup\n       * @return {Document} a DOM, filled with the dirty markup\n       */\n      const _initDocument = function _initDocument(dirty) {\n        /* Create a HTML document */\n        let doc = null;\n        let leadingWhitespace = null;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n          const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n          // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        /*\n         * Use the DOMParser API by default, fallback later if needs be\n         * DOMParser not work for svg when has multiple root element.\n         */\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {}\n        }\n\n        /* Use createHTMLDocument in case DOMParser is not available */\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n          } catch (_) {\n            // Syntax error if dirtyPayload is invalid xml\n          }\n        }\n        const body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n\n        /* Work on whole document or just its body */\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n\n      /**\n       * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n       *\n       * @param  {Node} root The root element or node to start traversing on.\n       * @return {NodeIterator} The created NodeIterator\n       */\n      const _createNodeIterator = function _createNodeIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root,\n        // eslint-disable-next-line no-bitwise\n        NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n      };\n\n      /**\n       * _isClobbered\n       *\n       * @param  {Node} elm element to check for clobbering attacks\n       * @return {Boolean} true if clobbered, false if safe\n       */\n      const _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n      };\n\n      /**\n       * Checks whether the given object is a DOM node.\n       *\n       * @param  {Node} object object to check whether it's a DOM node\n       * @return {Boolean} true is object is a DOM node\n       */\n      const _isNode = function _isNode(object) {\n        return typeof Node === 'function' && object instanceof Node;\n      };\n\n      /**\n       * _executeHook\n       * Execute user configurable hooks\n       *\n       * @param  {String} entryPoint  Name of the hook's entry point\n       * @param  {Node} currentNode node to work on with the hook\n       * @param  {Object} data additional hook parameters\n       */\n      const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], hook => {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n\n      /**\n       * _sanitizeElements\n       *\n       * @protect nodeName\n       * @protect textContent\n       * @protect removeChild\n       *\n       * @param   {Node} currentNode to check for permission to exist\n       * @return  {Boolean} true if node was killed, false if left alive\n       */\n      const _sanitizeElements = function _sanitizeElements(currentNode) {\n        let content = null;\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Now let's check the element's type and name */\n        const tagName = transformCaseFunc(currentNode.nodeName);\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n\n        /* Detect mXSS attempts abusing namespace confusion */\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Remove any occurrence of processing instructions */\n        if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Remove any kind of possibly harmful comments */\n        if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          /* Check if we have a custom element to handle */\n          if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n              return false;\n            }\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n              return false;\n            }\n          }\n\n          /* Keep content except for bad-listed elements */\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              const childCount = childNodes.length;\n              for (let i = childCount - 1; i >= 0; --i) {\n                const childClone = cloneNode(childNodes[i], true);\n                childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n                parentNode.insertBefore(childClone, getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Check whether element has a valid namespace */\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Make sure that older browsers don't get fallback-tag mXSS */\n        if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n          /* Get the element's text content */\n          content = currentNode.textContent;\n          arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n            content = stringReplace(content, expr, ' ');\n          });\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, {\n              element: currentNode.cloneNode()\n            });\n            currentNode.textContent = content;\n          }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n\n      /**\n       * _isValidAttribute\n       *\n       * @param  {string} lcTag Lowercase tag name of containing element.\n       * @param  {string} lcName Lowercase attribute name.\n       * @param  {string} value Attribute value.\n       * @return {Boolean} Returns true if `value` is valid, otherwise false.\n       */\n      // eslint-disable-next-line complexity\n      const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        /* Make sure attribute cannot clobber */\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n\n        /* Allow valid data-* attributes: At least one character after \"-\"\n            (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n            XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n            We don't need to check the value; it's always URI safe. */\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (\n          // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n          // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n          // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n          _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n          // Alternative, second condition checks if it's an `is`-attribute, AND\n          // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n          lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n            return false;\n          }\n          /* Check value is safe. First, is attr inert? If so, is safe */\n        } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n          return false;\n        } else ;\n        return true;\n      };\n\n      /**\n       * _isBasicCustomElement\n       * checks if at least one dash is included in tagName, and it's not the first char\n       * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n       *\n       * @param {string} tagName name of the tag of the node to sanitize\n       * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n       */\n      const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n        return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n      };\n\n      /**\n       * _sanitizeAttributes\n       *\n       * @protect attributes\n       * @protect nodeName\n       * @protect removeAttribute\n       * @protect setAttribute\n       *\n       * @param  {Node} currentNode to sanitize\n       */\n      const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        const {\n          attributes\n        } = currentNode;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) {\n          return;\n        }\n        const hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        let l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n          const attr = attributes[l];\n          const {\n            name,\n            namespaceURI,\n            value: attrValue\n          } = attr;\n          const lcName = transformCaseFunc(name);\n          let value = name === 'value' ? attrValue : stringTrim(attrValue);\n          const initValue = value;\n\n          /* Execute a hook if present */\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n\n          /* Did the hooks approve of the attribute? */\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n\n          /* Remove attribute */\n\n          /* Did the hooks approve of the attribute? */\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n\n          /* Work around a security issue in jQuery 3.0 */\n          if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n\n          /* Sanitize attribute content to be template-safe */\n          if (SAFE_FOR_TEMPLATES) {\n            arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n              value = stringReplace(value, expr, ' ');\n            });\n          }\n\n          /* Is `value` valid for this attribute? */\n          const lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n\n          /* Full DOM Clobbering protection via namespace isolation,\n           * Prefix id and name attributes with `user-content-`\n           */\n          if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n            // Remove the attribute with this value\n            _removeAttribute(name, currentNode);\n\n            // Prefix the value and later re-create the attribute with the sanitized value\n            value = SANITIZE_NAMED_PROPS_PREFIX + value;\n          }\n\n          /* Work around a security issue with comments inside attributes */\n          if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n\n          /* Handle attributes that require Trusted Types */\n          if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n            if (namespaceURI) ; else {\n              switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n                case 'TrustedHTML':\n                  {\n                    value = trustedTypesPolicy.createHTML(value);\n                    break;\n                  }\n                case 'TrustedScriptURL':\n                  {\n                    value = trustedTypesPolicy.createScriptURL(value);\n                    break;\n                  }\n              }\n            }\n          }\n\n          /* Handle invalid data-* attribute set by try-catching it */\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n                currentNode.setAttribute(name, value);\n              }\n              if (_isClobbered(currentNode)) {\n                _forceRemove(currentNode);\n              } else {\n                arrayPop(DOMPurify.removed);\n              }\n            } catch (_) {}\n          }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n\n      /**\n       * _sanitizeShadowDOM\n       *\n       * @param  {DocumentFragment} fragment to iterate over recursively\n       */\n      const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        let shadowNode = null;\n        const shadowIterator = _createNodeIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          /* Execute a hook if present */\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n          /* Sanitize tags and elements */\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n\n          /* Deep shadow DOM detected */\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n\n          /* Check attributes, sanitize if necessary */\n          _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n\n      /**\n       * Sanitize\n       * Public method providing core sanitation functionality\n       *\n       * @param {String|Node} dirty string or DOM node\n       * @param {Object} cfg object\n       */\n      // eslint-disable-next-line complexity\n      DOMPurify.sanitize = function (dirty) {\n        let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let body = null;\n        let importedNode = null;\n        let currentNode = null;\n        let returnNode = null;\n        /* Make sure we have a string to sanitize.\n          DO NOT return early, as this will return the wrong type if\n          the user has requested a DOM object rather than a string */\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString === 'function') {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          } else {\n            throw typeErrorCreate('toString is not a function');\n          }\n        }\n\n        /* Return dirty HTML if DOMPurify cannot run */\n        if (!DOMPurify.isSupported) {\n          return dirty;\n        }\n\n        /* Assign config vars */\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        /* Check if dirty is correctly typed for IN_PLACE */\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          /* Do some early pre-sanitization to avoid unsafe root nodes */\n          if (dirty.nodeName) {\n            const tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          /* If dirty is a DOM element, append to an empty document to avoid\n             elements being stripped by the parser */\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n            /* Node is already a body, use as is */\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            body.appendChild(importedNode);\n          }\n        } else {\n          /* Exit directly if we have nothing to do */\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n          // eslint-disable-next-line unicorn/prefer-includes\n          dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n\n          /* Initialize the document to work on */\n          body = _initDocument(dirty);\n\n          /* Check we have a DOM node from the data */\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n\n        /* Remove first element node (ours) if FORCE_BODY is set */\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n\n        /* Get node iterator */\n        const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n        /* Now start iterating over the created document */\n        while (currentNode = nodeIterator.nextNode()) {\n          /* Sanitize tags and elements */\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n\n          /* Shadow DOM detected, sanitize it */\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n\n          /* Check attributes, sanitize if necessary */\n          _sanitizeAttributes(currentNode);\n        }\n\n        /* If we sanitized `dirty` in-place, return it. */\n        if (IN_PLACE) {\n          return dirty;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              // eslint-disable-next-line unicorn/prefer-dom-node-append\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n            /*\n              AdoptNode() is not used because internal state is not reset\n              (e.g. the past names map of a HTMLFormElement), this is safe\n              in theory but we would rather not risk another attack vector.\n              The state that is cloned by importNode() is explicitly defined\n              by the specs.\n            */\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n        /* Serialize doctype if allowed */\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n\n        /* Sanitize final string template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n            serializedHTML = stringReplace(serializedHTML, expr, ' ');\n          });\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n\n      /**\n       * Public method to set the configuration once\n       * setConfig\n       *\n       * @param {Object} cfg configuration object\n       */\n      DOMPurify.setConfig = function () {\n        let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n\n      /**\n       * Public method to remove the configuration\n       * clearConfig\n       *\n       */\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n\n      /**\n       * Public method to check if an attribute value is valid.\n       * Uses last set config, if any. Otherwise, uses config defaults.\n       * isValidAttribute\n       *\n       * @param  {String} tag Tag name of containing element.\n       * @param  {String} attr Attribute name.\n       * @param  {String} value Attribute value.\n       * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n       */\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        /* Initialize shared config vars if necessary. */\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        const lcTag = transformCaseFunc(tag);\n        const lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n\n      /**\n       * AddHook\n       * Public method to add DOMPurify hooks\n       *\n       * @param {String} entryPoint entry point for the hook to add\n       * @param {Function} hookFunction function to execute\n       */\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n\n      /**\n       * RemoveHook\n       * Public method to remove a DOMPurify hook at a given entryPoint\n       * (pops it from the stack of hooks if more are present)\n       *\n       * @param {String} entryPoint entry point for the hook to remove\n       * @return {Function} removed(popped) hook\n       */\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n\n      /**\n       * RemoveHooks\n       * Public method to remove all DOMPurify hooks at a given entryPoint\n       *\n       * @param  {String} entryPoint entry point for the hooks to remove\n       */\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n\n      /**\n       * RemoveAllHooks\n       * Public method to remove all DOMPurify hooks\n       */\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const sanitizeHtmlString = html => purify().sanitize(html);\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$h(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$5.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$h(icons, getIconName(name, icons));\n    const get$3 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$5.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$3 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$h(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$3(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$3(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$m = detail => {\n      const notificationTextId = generate$6('notification-text');\n      const memBannerText = record({\n        dom: fromHtml(`<p id=${ notificationTextId }>${ sanitizeHtmlString(detail.backstageProvider.translate(detail.text)) }</p>`),\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$2(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { 'aria-label': detail.backstageProvider.translate('Close') }\n        },\n        components: [render$3('close', {\n            tag: 'span',\n            classes: ['tox-icon']\n          }, detail.iconProvider)],\n        buttonBehaviours: derive$1([\n          Tabstopping.config({}),\n          Tooltipping.config({ ...detail.backstageProvider.tooltips.getConfig({ tooltipText: detail.backstageProvider.translate('Close') }) })\n        ]),\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            'role': 'alert',\n            'aria-labelledby': notificationTextId\n          },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              detail.onAction(comp);\n              return Optional.some(true);\n            }\n          })\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat([memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$m,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        option$3('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('backstageProvider')\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership, notificationRegion) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBoundsContainer = () => SugarElement.fromDom(editor.queryCommandValue('ToggleView') === '' ? editor.getContentAreaContainer() : editor.getContainer());\n      const getBounds = () => {\n        const contentArea = box$1(getBoundsContainer());\n        return Optional.some(contentArea);\n      };\n      const clampComponentsToBounds = components => {\n        getBounds().each(bounds => {\n          each$1(components, comp => {\n            remove$7(comp.element, 'width');\n            if (get$d(comp.element) > bounds.width) {\n              set$8(comp.element, 'width', bounds.width + 'px');\n            }\n          });\n        });\n      };\n      const open = (settings, closeCallback, isEditorOrUIFocused) => {\n        const close = () => {\n          const removeNotificationAndReposition = region => {\n            Replacing.remove(region, notification);\n            reposition();\n          };\n          const manageRegionVisibility = (region, editorOrUiFocused) => {\n            if (children(region.element).length === 0) {\n              handleEmptyRegion(region, editorOrUiFocused);\n            } else {\n              handleRegionWithChildren(region, editorOrUiFocused);\n            }\n          };\n          const handleEmptyRegion = (region, editorOrUIFocused) => {\n            InlineView.hide(region);\n            notificationRegion.clear();\n            if (editorOrUIFocused) {\n              editor.focus();\n            }\n          };\n          const handleRegionWithChildren = (region, editorOrUIFocused) => {\n            if (editorOrUIFocused) {\n              Keying.focusIn(region);\n            }\n          };\n          notificationRegion.on(region => {\n            closeCallback();\n            const editorOrUIFocused = isEditorOrUIFocused();\n            removeNotificationAndReposition(region);\n            manageRegionVisibility(region, editorOrUIFocused);\n          });\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: settings.icon,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          backstageProvider: sharedBackstage.providers\n        }));\n        if (!notificationRegion.isSet()) {\n          const notificationWrapper = build$1(InlineView.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-notifications-container'],\n              attributes: {\n                'aria-label': 'Notifications',\n                'role': 'region'\n              }\n            },\n            lazySink: sharedBackstage.getSink,\n            fireDismissalEventInstead: {},\n            ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              Keying.config({\n                mode: 'cyclic',\n                selector: '.tox-notification, .tox-notification a, .tox-notification button'\n              }),\n              Replacing.config({}),\n              ...isStickyToolbar(editor) && !sharedBackstage.header.isPositionedAtTop() ? [] : [Docking.config({\n                  contextual: {\n                    lazyContext: () => Optional.some(box$1(getBoundsContainer())),\n                    fadeInClass: 'tox-notification-container-dock-fadein',\n                    fadeOutClass: 'tox-notification-container-dock-fadeout',\n                    transitionClass: 'tox-notification-container-dock-transition'\n                  },\n                  modes: ['top'],\n                  lazyViewport: comp => {\n                    const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                    return optScrollingContext.map(sc => {\n                      const combinedBounds = getBoundsFrom(sc);\n                      return {\n                        bounds: combinedBounds,\n                        optScrollEnv: Optional.some({\n                          currentScrollTop: sc.element.dom.scrollTop,\n                          scrollElmTop: absolute$3(sc.element).top\n                        })\n                      };\n                    }).getOrThunk(() => ({\n                      bounds: win(),\n                      optScrollEnv: Optional.none()\n                    }));\n                  }\n                })]\n            ])\n          }));\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const anchor = {\n            ...sharedBackstage.anchors.banner(),\n            overrides: anchorOverrides\n          };\n          notificationRegion.set(notificationWrapper);\n          uiMothership.add(notificationWrapper);\n          InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n        } else {\n          const notificationSpec = premade(notification);\n          notificationRegion.on(notificationWrapper => {\n            Replacing.append(notificationWrapper, notificationSpec);\n            InlineView.reposition(notificationWrapper);\n            Docking.refresh(notificationWrapper);\n            clampComponentsToBounds(notificationWrapper.components());\n          });\n        }\n        if (isNumber(settings.timeout) && settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          notificationRegion.on(region => {\n            InlineView.reposition(region);\n            Docking.refresh(region);\n            clampComponentsToBounds(region.components());\n          });\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', () => {\n        if (api.isActive() && !api.isProcessingAction() && !editor.queryCommandState('mceAutoCompleterInRange')) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$h(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const schema$l = constant$1([\n      defaultedString('type', 'text'),\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaultedFunction('fromInputValue', identity),\n      defaultedFunction('toInputValue', identity),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$7(input);\n          if (detail.type !== 'range') {\n            input.dom.setSelectionRange(0, value.length);\n          }\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return detail.fromInputValue(get$7(input.element));\n            },\n            setValue: (input, data) => {\n              const current = get$7(input.element);\n              if (current !== data) {\n                set$5(input.element, detail.toInputValue(data));\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: detail.type,\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$l = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$l(),\n      factory: factory$l\n    });\n\n    const refetchTriggerEvent = generate$6('refetch-trigger-event');\n    const redirectMenuItemInteractionEvent = generate$6('redirect-menu-item-interaction');\n\n    const menuSearcherClass = 'tox-menu__searcher';\n    const findWithinSandbox = sandboxComp => {\n      return descendant(sandboxComp.element, `.${ menuSearcherClass }`).bind(inputElem => sandboxComp.getSystem().getByDom(inputElem).toOptional());\n    };\n    const findWithinMenu = findWithinSandbox;\n    const restoreState = (inputComp, searcherState) => {\n      Representing.setValue(inputComp, searcherState.fetchPattern);\n      inputComp.element.dom.selectionStart = searcherState.selectionStart;\n      inputComp.element.dom.selectionEnd = searcherState.selectionEnd;\n    };\n    const saveState = inputComp => {\n      const fetchPattern = Representing.getValue(inputComp);\n      const selectionStart = inputComp.element.dom.selectionStart;\n      const selectionEnd = inputComp.element.dom.selectionEnd;\n      return {\n        fetchPattern,\n        selectionStart,\n        selectionEnd\n      };\n    };\n    const setActiveDescendant = (inputComp, active) => {\n      getOpt(active.element, 'id').each(id => set$9(inputComp.element, 'aria-activedescendant', id));\n    };\n    const renderMenuSearcher = spec => {\n      const handleByBrowser = (comp, se) => {\n        se.cut();\n        return Optional.none();\n      };\n      const handleByHighlightedItem = (comp, se) => {\n        const eventData = {\n          interactionEvent: se.event,\n          eventType: se.event.raw.type\n        };\n        emitWith(comp, redirectMenuItemInteractionEvent, eventData);\n        return Optional.some(true);\n      };\n      const customSearcherEventsName = 'searcher-events';\n      return {\n        dom: {\n          tag: 'div',\n          classes: [selectableClass]\n        },\n        components: [Input.sketch({\n            inputClasses: [\n              menuSearcherClass,\n              'tox-textfield'\n            ],\n            inputAttributes: {\n              ...spec.placeholder.map(placeholder => ({ placeholder: spec.i18n(placeholder) })).getOr({}),\n              'type': 'search',\n              'aria-autocomplete': 'list'\n            },\n            inputBehaviours: derive$1([\n              config(customSearcherEventsName, [\n                run$1(input(), inputComp => {\n                  emit(inputComp, refetchTriggerEvent);\n                }),\n                run$1(keydown(), (inputComp, se) => {\n                  if (se.event.raw.key === 'Escape') {\n                    se.stop();\n                  }\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onLeft: handleByBrowser,\n                onRight: handleByBrowser,\n                onSpace: handleByBrowser,\n                onEnter: handleByHighlightedItem,\n                onEscape: handleByHighlightedItem,\n                onUp: handleByHighlightedItem,\n                onDown: handleByHighlightedItem\n              })\n            ]),\n            eventOrder: {\n              keydown: [\n                customSearcherEventsName,\n                Keying.name()\n              ]\n            }\n          })]\n      };\n    };\n\n    const searchResultsClass = 'tox-collection--results__js';\n    const augmentWithAria = item => {\n      var _a;\n      if (item.dom) {\n        return {\n          ...item,\n          dom: {\n            ...item.dom,\n            attributes: {\n              ...(_a = item.dom.attributes) !== null && _a !== void 0 ? _a : {},\n              'id': generate$6('aria-item-search-result-id'),\n              'aria-selected': 'false'\n            }\n          }\n        };\n      } else {\n        return item;\n      }\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components && item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const insertItemsPlaceholder = (columns, initItems, onItem) => {\n      return Menu.parts.items({\n        preprocess: rawItems => {\n          const enrichedItems = map$2(rawItems, onItem);\n          if (columns !== 'auto' && columns > 1) {\n            return chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(enrichedItems);\n          } else {\n            return preprocessCollection(enrichedItems, (_item, i) => initItems[i].type === 'separator');\n          }\n        }\n      });\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [insertItemsPlaceholder(columns, initItems, identity)]\n    });\n    const forCollectionWithSearchResults = (columns, initItems, _hasIcons = true) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            searchResultsClass\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid']),\n          attributes: { id: ariaControlsSearchResults }\n        },\n        components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n      };\n    };\n    const forCollectionWithSearchField = (columns, initItems, searchField) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [\n          renderMenuSearcher({\n            i18n: global$5.translate,\n            placeholder: searchField.placeholder\n          }),\n          {\n            dom: {\n              tag: 'div',\n              classes: [\n                ...columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'],\n                searchResultsClass\n              ],\n              attributes: { id: ariaControlsSearchResults }\n            },\n            components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n          }\n        ]\n      };\n    };\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _menuLayout) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, menuLayout) => {\n      const getNormalStructure = () => {\n        if (menuLayout.menuType !== 'searchable') {\n          return forCollection(columns, items);\n        } else {\n          return menuLayout.searchMode.searchMode === 'search-with-field' ? forCollectionWithSearchField(columns, items, menuLayout.searchMode) : forCollectionWithSearchResults(columns, items);\n        }\n      };\n      if (menuLayout.menuType === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' || menuLayout.menuType === 'searchable') {\n        const structure = getNormalStructure();\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else {\n        return {\n          value,\n          dom: dom$1(hasIcons, columns, menuLayout.menuType),\n          components: components,\n          items\n        };\n      }\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalRole = optionString('role');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup,\n      defaultedString('context', 'mode:design')\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction,\n      optionalShortcut\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction,\n      optionalShortcut\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      defaultedString('align', 'end'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      defaultedString('align', 'end'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const baseContextFormFields = [\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      })),\n      defaultedFunction('onInput', noop),\n      defaultedFunction('onSetup', noop)\n    ];\n    const contextFormFields = [\n      ...contextBarFields,\n      ...baseContextFormFields,\n      requiredStringEnum('type', ['contextform']),\n      defaultedFunction('initValue', constant$1('')),\n      optionString('placeholder')\n    ];\n    const contextSliderFormFields = [\n      ...contextBarFields,\n      ...baseContextFormFields,\n      requiredStringEnum('type', ['contextsliderform']),\n      defaultedFunction('initValue', constant$1(0)),\n      defaultedFunction('min', constant$1(0)),\n      defaultedFunction('max', constant$1(100))\n    ];\n    const contextSizeInputFormFields = [\n      ...contextBarFields,\n      ...baseContextFormFields,\n      requiredStringEnum('type', ['contextsizeinputform']),\n      defaultedFunction('initValue', constant$1({\n        width: '',\n        height: ''\n      }))\n    ];\n    const contextFormSchema = choose$1('type', {\n      contextform: contextFormFields,\n      contextsliderform: contextSliderFormFields,\n      contextsizeinputform: contextSizeInputFormFields\n    });\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredOf('items', oneOf([\n        string,\n        arrOfObj([\n          optionString('name'),\n          optionString('label'),\n          requiredArrayOf('items', string)\n        ])\n      ]))\n    ].concat(contextBarFields));\n    const toolbarGroupBackToSpec = toolbarGroup => ({\n      name: toolbarGroup.name.getOrUndefined(),\n      label: toolbarGroup.label.getOrUndefined(),\n      items: toolbarGroup.items\n    });\n    const contextToolbarToSpec = contextToolbar => ({\n      ...contextToolbar,\n      items: isString(contextToolbar.items) ? contextToolbar.items : map$2(contextToolbar.items, toolbarGroupBackToSpec)\n    });\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalRole,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta,\n      defaultedString('context', 'mode:design')\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [\n      optionFunction('select'),\n      defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        defaultedString('storageKey', 'default'),\n        optionArrayOf('colors', anyValue())\n      ])\n    ].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      if (isFunction(info.onBeforeSetup)) {\n        info.onBeforeSetup(comp);\n      }\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const UiStateChannel = 'silver.uistate';\n    const messageSetDisabled = 'setDisabled';\n    const messageSetEnabled = 'setEnabled';\n    const messageInit = 'init';\n    const messageSwitchMode = 'switchmode';\n    const modeContextMessages = [\n      messageSwitchMode,\n      messageInit\n    ];\n    const broadcastEvents = (uiRefs, messageType) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const motherships = [\n        uiRefs.mainUi.mothership,\n        ...uiRefs.uiMotherships\n      ];\n      if (messageType === messageSetDisabled) {\n        each$1(motherships, m => {\n          m.broadcastOn([dismissPopups()], { target: outerContainer.element });\n        });\n      }\n      each$1(motherships, m => {\n        m.broadcastOn([UiStateChannel], messageType);\n      });\n    };\n    const setupEventsForUi = (editor, uiRefs) => {\n      editor.on('init SwitchMode', event => {\n        broadcastEvents(uiRefs, event.type);\n      });\n      editor.on('DisabledStateChange', event => {\n        if (!event.isDefaultPrevented()) {\n          const messageType = event.state ? messageSetDisabled : messageInit;\n          broadcastEvents(uiRefs, messageType);\n          if (!event.state) {\n            editor.nodeChanged();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        const messageType = editor.ui.isEnabled() ? e.type : messageSetDisabled;\n        broadcastEvents(uiRefs, messageType);\n      });\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const toggleOnReceive = getContext => Receiving.config({\n      channels: {\n        [UiStateChannel]: {\n          onReceive: (comp, messageType) => {\n            if (messageType === messageSetDisabled || messageType === messageSetEnabled) {\n              Disabling.set(comp, messageType === messageSetDisabled);\n              return;\n            }\n            const {contextType, shouldDisable} = getContext();\n            if (contextType === 'mode' && !contains$2(modeContextMessages, messageType)) {\n              return;\n            }\n            Disabling.set(comp, shouldDisable);\n          }\n        }\n      }\n    });\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context)),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$6.os.isMacOS() || global$6.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$2 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$2(global$5.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$2(global$5.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$2(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$2('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$2('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$2('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const attributes = item.ariaLabel.map(al => ({\n        'aria-label': providerBackstage.translate(al),\n        'data-mce-name': al\n      })).getOr({});\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else if (isNonNullable(itemValue)) {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue },\n            innerHtml: icon\n          };\n        } else {\n          return baseDom;\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({\n        attributes: {\n          'id': generate$6('menu-item'),\n          'aria-label': global$5.translate(label)\n        }\n      })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage, tooltipText) => get$h(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOrThunk(() => {\n      return tooltipText.map(text => [Tooltipping.config({\n          ...sharedBackstage.providers.tooltips.getConfig({ tooltipText: text }),\n          mode: 'follow-highlight'\n        })]).getOr([]);\n    });\n    const encodeText = text => global$8.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$5.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      const tooltipString = spec.text.filter(text => !useText && text !== '');\n      return renderCommonItem({\n        context: 'mode:design',\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec, sharedBackstage, tooltipString)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        context: 'mode:design',\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      const optTooltipping = spec.text.filter(constant$1(!useText)).map(t => Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate(t) })));\n      return deepMerge(renderCommonItem({\n        context: spec.context,\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: [...optTooltipping.toArray()]\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*(\\d+)\\s*[,\\s]\\s*((?:\\d?\\.\\d+|\\d+)%?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => {\n      editor.dispatch('SkinLoaded');\n    };\n    const fireSkinLoadError$1 = (editor, error) => {\n      editor.dispatch('SkinLoadError', error);\n    };\n    const fireResizeEditor = editor => {\n      editor.dispatch('ResizeEditor');\n    };\n    const fireResizeContent = (editor, e) => {\n      editor.dispatch('ResizeContent', e);\n    };\n    const fireScrollContent = (editor, e) => {\n      editor.dispatch('ScrollContent', e);\n    };\n    const fireTextColorChange = (editor, data) => {\n      editor.dispatch('TextColorChange', data);\n    };\n    const fireAfterProgressState = (editor, state) => {\n      editor.dispatch('AfterProgressState', { state });\n    };\n    const fireResolveName = (editor, node) => editor.dispatch('ResolveName', {\n      name: node.nodeName.toLowerCase(),\n      target: node\n    });\n    const fireToggleToolbarDrawer = (editor, state) => {\n      editor.dispatch('ToggleToolbarDrawer', { state });\n    };\n    const fireStylesTextUpdate = (editor, data) => {\n      editor.dispatch('StylesTextUpdate', data);\n    };\n    const fireAlignTextUpdate = (editor, data) => {\n      editor.dispatch('AlignTextUpdate', data);\n    };\n    const fireFontSizeTextUpdate = (editor, data) => {\n      editor.dispatch('FontSizeTextUpdate', data);\n    };\n    const fireFontSizeInputTextUpdate = (editor, data) => {\n      editor.dispatch('FontSizeInputTextUpdate', data);\n    };\n    const fireBlocksTextUpdate = (editor, data) => {\n      editor.dispatch('BlocksTextUpdate', data);\n    };\n    const fireFontFamilyTextUpdate = (editor, data) => {\n      editor.dispatch('FontFamilyTextUpdate', data);\n    };\n    const fireToggleSidebar = editor => {\n      editor.dispatch('ToggleSidebar');\n    };\n    const fireToggleView = editor => {\n      editor.dispatch('ToggleView');\n    };\n    const fireContextToolbarClose = editor => {\n      editor.dispatch('ContextToolbarClose');\n    };\n    const fireContextFormSlideBack = editor => {\n      editor.dispatch('ContextFormSlideBack');\n    };\n\n    const composeUnbinders = (f, g) => () => {\n      f();\n      g();\n    };\n    const onSetupEditableToggle = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.selection.isEditable());\n    });\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundFormatChangeCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundFormatChangeCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundFormatChangeCallback.clear();\n      };\n    };\n    const onSetupStateToggle = (editor, name) => api => {\n      const unbindEditableToogle = onSetupEditableToggle(editor)(api);\n      const unbindFormatToggle = onSetupFormatToggle(editor, name)(api);\n      return () => {\n        unbindEditableToogle();\n        unbindFormatToggle();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const cacheStorage = {};\n    const ColorCache = (storageId, max = 10) => {\n      const storageString = global$4.getItem(storageId);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageId, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n    const getCacheForId = id => get$h(cacheStorage, id).getOrThunk(() => {\n      const storageId = `tinymce-custom-colors-${ id }`;\n      const currentData = global$4.getItem(storageId);\n      if (isNullable(currentData)) {\n        const legacyDefault = global$4.getItem('tinymce-custom-colors');\n        global$4.setItem(storageId, isNonNullable(legacyDefault) ? legacyDefault : '[]');\n      }\n      const storage = ColorCache(storageId, 10);\n      cacheStorage[id] = storage;\n      return storage;\n    });\n    const getCurrentColors = id => map$2(getCacheForId(id).state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      icon: 'checkmark',\n      value: color\n    }));\n    const addColor = (id, color) => {\n      getCacheForId(id).add(color);\n    };\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    const foregroundId = 'forecolor';\n    const backgroundId = 'hilitecolor';\n    const fallbackCols = 5;\n    const mapColors = colorMap => mapColorsRaw(colorMap.map((color, index) => {\n      if (index % 2 === 0) {\n        return '#' + anyToHex(color).value;\n      }\n      return color;\n    }));\n    const mapColorsRaw = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: colorMap[i],\n          icon: 'checkmark',\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const fallbackColor = '#000000';\n    const register$e = editor => {\n      const registerOption = editor.options.register;\n      const colorProcessor = value => {\n        if (isArrayOf(value, isString)) {\n          return {\n            value: mapColors(value),\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be an array of strings.'\n          };\n        }\n      };\n      const colorProcessorRaw = value => {\n        if (isArrayOf(value, isString)) {\n          return {\n            value: mapColorsRaw(value),\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be an array of strings.'\n          };\n        }\n      };\n      const colorColsProcessor = value => {\n        if (isNumber(value) && value > 0) {\n          return {\n            value,\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be a positive number.'\n          };\n        }\n      };\n      registerOption('color_map', {\n        processor: colorProcessor,\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_map_raw', { processor: colorProcessorRaw });\n      registerOption('color_map_background', { processor: colorProcessor });\n      registerOption('color_map_foreground', { processor: colorProcessor });\n      registerOption('color_cols', {\n        processor: colorColsProcessor,\n        default: calcCols(editor)\n      });\n      registerOption('color_cols_foreground', {\n        processor: colorColsProcessor,\n        default: defaultCols(editor, foregroundId)\n      });\n      registerOption('color_cols_background', {\n        processor: colorColsProcessor,\n        default: defaultCols(editor, backgroundId)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('color_default_foreground', {\n        processor: 'string',\n        default: fallbackColor\n      });\n      registerOption('color_default_background', {\n        processor: 'string',\n        default: fallbackColor\n      });\n    };\n    const getColors$2 = (editor, id) => {\n      if (id === foregroundId && editor.options.isSet('color_map_foreground')) {\n        return option$1('color_map_foreground')(editor);\n      } else if (id === backgroundId && editor.options.isSet('color_map_background')) {\n        return option$1('color_map_background')(editor);\n      } else if (editor.options.isSet('color_map_raw')) {\n        return option$1('color_map_raw')(editor);\n      } else {\n        return option$1('color_map')(editor);\n      }\n    };\n    const calcCols = (editor, id = 'default') => Math.max(fallbackCols, Math.ceil(Math.sqrt(getColors$2(editor, id).length)));\n    const defaultCols = (editor, id) => {\n      const defaultCols = option$1('color_cols')(editor);\n      const calculatedCols = calcCols(editor, id);\n      if (defaultCols === calcCols(editor)) {\n        return calculatedCols;\n      } else {\n        return defaultCols;\n      }\n    };\n    const getColorCols$1 = (editor, id = 'default') => {\n      const getCols = () => {\n        if (id === foregroundId) {\n          return option$1('color_cols_foreground')(editor);\n        } else if (id === backgroundId) {\n          return option$1('color_cols_background')(editor);\n        } else {\n          return option$1('color_cols')(editor);\n        }\n      };\n      return Math.round(getCols());\n    };\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getDefaultForegroundColor = option$1('color_default_foreground');\n    const getDefaultBackgroundColor = option$1('color_default_background');\n\n    const defaultBackgroundColor = 'rgba(0, 0, 0, 0)';\n    const isValidBackgroundColor = value => fromString(value).exists(c => c.alpha !== 0);\n    const getClosestCssBackgroundColorValue = scope => {\n      return closest$4(scope, node => {\n        if (isElement$1(node)) {\n          const color = get$f(node, 'background-color');\n          return someIf(isValidBackgroundColor(color), color);\n        } else {\n          return Optional.none();\n        }\n      }).getOr(defaultBackgroundColor);\n    };\n    const getCurrentColor = (editor, format) => {\n      const node = SugarElement.fromDom(editor.selection.getStart());\n      const cssRgbValue = format === 'hilitecolor' ? getClosestCssBackgroundColorValue(node) : get$f(node, 'color');\n      return fromString(cssRgbValue).map(rgba => '#' + fromRgba(rgba).value);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, undefined, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(format, color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, getCurrentColor(editor, format).getOr(fallbackColor));\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, id, hasCustom) => colors.concat(getCurrentColors(id).concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, id, hasCustom) => callback => {\n      callback(getColors$1(colors, id, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const setTooltip = (buttonApi, tooltip) => {\n      buttonApi.setTooltip(tooltip);\n    };\n    const select$1 = (editor, format) => value => {\n      const optCurrentHex = getCurrentColor(editor, format);\n      return is$1(optCurrentHex, value.toUpperCase());\n    };\n    const getToolTipText = (editor, format, lastColor) => {\n      if (isEmpty(lastColor)) {\n        return format === 'forecolor' ? 'Text color' : 'Background color';\n      }\n      const tooltipPrefix = format === 'forecolor' ? 'Text color {0}' : 'Background color {0}';\n      const colors = getColors$1(getColors$2(editor, format), format, false);\n      const colorText = find$5(colors, c => c.value === lastColor).getOr({ text: '' }).text;\n      return editor.translate([\n        tooltipPrefix,\n        editor.translate(colorText)\n      ]);\n    };\n    const registerTextColorButton = (editor, name, format, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: getToolTipText(editor, format, lastColor.get()),\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: select$1(editor, format),\n        columns: getColorCols$1(editor, format),\n        fetch: getFetch$1(getColors$2(editor, format), format, hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n              setTooltip(splitButtonApi, getToolTipText(editor, format, e.color));\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return composeUnbinders(onSetupEditableToggle(editor)(splitButtonApi), () => {\n            editor.off('TextColorChange', handler);\n          });\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text, lastColor) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        onSetup: api => {\n          setTooltip(api, getToolTipText(editor, format, lastColor.get()));\n          setIconColor(api, name, lastColor.get());\n          return onSetupEditableToggle(editor)(api);\n        },\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            select: select$1(editor, format),\n            initData: { storageKey: format },\n            onAction: data => {\n              applyColor(editor, format, data.value, newColor => {\n                lastColor.set(newColor);\n                fireTextColorChange(editor, {\n                  name,\n                  color: newColor\n                });\n              });\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$d = editor => {\n      registerCommands(editor);\n      const fallbackColorForeground = getDefaultForegroundColor(editor);\n      const fallbackColorBackground = getDefaultBackgroundColor(editor);\n      const lastForeColor = Cell(fallbackColorForeground);\n      const lastBackColor = Cell(fallbackColorBackground);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      const menuLayout = { menuType: presets };\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, menuLayout);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(d.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass,\n          previousSelector: menu => {\n            return presets === 'color' ? descendant(menu.element, '[aria-checked=true]') : Optional.none();\n          }\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols(spec.initData.storageKey);\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets),\n        showMenuRole: false\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(spec.initData.storageKey), spec.initData.storageKey, useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeAnnouncementText = backstage => (row, col) => backstage.shared.providers.translate([\n      '{0} columns, {1} rows',\n      col,\n      row\n    ]);\n    const makeCell = (row, col, label) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-label']: label\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (getCellLabel, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          const label = getCellLabel(i + 1, j + 1);\n          row.push(makeCell(i, j, label));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$2(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = (spec, backstage) => {\n      const numRows = 10;\n      const numColumns = 10;\n      const getCellLabel = makeAnnouncementText(backstage);\n      const cells = makeCells(getCellLabel, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label']\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  emit(c, sandboxClose());\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$h(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state),\n        setIconFill: (id, value) => {\n          descendant(component.element, `svg path[class=\"${ id }\"], rect[class=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setTooltip: tooltip => {\n          const translatedTooltip = providersBackstage.translate(tooltip);\n          set$9(component.element, 'aria-label', translatedTooltip);\n        }\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        context: spec.context,\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        context: spec.context,\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$2).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        context: spec.context,\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        },\n        role: spec.role.getOrUndefined()\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n    const getExistingCoupled = (component, coupleConfig, coupleState, name) => coupleState.getExisting(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled,\n        getExistingCoupled: getExistingCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$9 = () => {\n      const coupled = {};\n      const lookupCoupled = (coupleConfig, coupledName) => {\n        const available = keys(coupleConfig.others);\n        if (available.length === 0) {\n          throw new Error('Cannot find any known coupled components');\n        } else {\n          return get$h(coupled, coupledName);\n        }\n      };\n      const getOrCreate = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).getOrThunk(() => {\n          const builder = get$h(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          const spec = builder(component);\n          const built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      };\n      const getExisting = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).orThunk(() => {\n          get$h(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          return Optional.none();\n        });\n      };\n      const readState = constant$1({});\n      return nu$7({\n        readState,\n        getExisting,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$9\n    });\n\n    const Coupling = create$4({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => {\n        const primaryMenu = data.menus[data.primary];\n        Optional.from(primaryMenu).each(menu => {\n          detail.listRole.each(listRole => {\n            menu.role = listRole;\n          });\n        });\n        return Optional.from(tieredMenu.sketch({\n          ...externals.menu(),\n          uid: generate$5(''),\n          data,\n          highlightOnOpen,\n          onOpenMenu: (tmenu, menu) => {\n            const sink = getLazySink().getOrDie();\n            Positioning.position(sink, menu, { anchor });\n            Sandboxing.decloak(sandbox);\n          },\n          onOpenSubmenu: (tmenu, item, submenu) => {\n            const sink = getLazySink().getOrDie();\n            Positioning.position(sink, submenu, {\n              anchor: {\n                type: 'submenu',\n                item\n              }\n            });\n            Sandboxing.decloak(sandbox);\n          },\n          onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n            const sink = getLazySink().getOrDie();\n            Positioning.position(sink, primaryMenu, { anchor });\n            each$1(submenuTriggers, st => {\n              Positioning.position(sink, st.triggeredMenu, {\n                anchor: {\n                  type: 'submenu',\n                  item: st.triggeringItem\n                }\n              });\n            });\n          },\n          onEscape: () => {\n            Focusing.focus(component);\n            Sandboxing.close(sandbox);\n            return Optional.some(true);\n          }\n        }));\n      }));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$d(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        lazySink().getOr(menu).element.dom.dispatchEvent(new window.FocusEvent('focusout'));\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$k = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role'),\n      option$3('listRole')\n    ].concat(sandboxFields()));\n    const parts$e = constant$1([\n      external({\n        schema: [\n          tieredMenuMarkers(),\n          defaulted('fakeFocus', false)\n        ],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$k = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$h(detail.dom, 'attributes').bind(attrs => get$h(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const togglePopup$1 = (dropdownComp, onOpenSync, highlightOnOpen) => {\n        return togglePopup(detail, identity, dropdownComp, externals, onOpenSync, highlightOnOpen);\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup$1(component, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        refetch: comp => {\n          const optSandbox = Coupling.getExistingCoupled(comp, 'sandbox');\n          return optSandbox.fold(() => {\n            return togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          }, sandboxComp => {\n            return open(detail, identity, comp, sandboxComp, externals, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          });\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$9(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': detail.listRole.getOr('true'),\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$k(),\n      partFields: parts$e(),\n      factory: factory$k,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        refetch: (apis, comp) => apis.refetch(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const identifyMenuLayout = searchMode => {\n      switch (searchMode.searchMode) {\n      case 'no-search': {\n          return { menuType: 'normal' };\n        }\n      default: {\n          return {\n            menuType: 'searchable',\n            searchMode\n          };\n        }\n      }\n    };\n    const handleRefetchTrigger = originalSandboxComp => {\n      const dropdown = Representing.getValue(originalSandboxComp);\n      const optSearcherState = findWithinSandbox(originalSandboxComp).map(saveState);\n      Dropdown.refetch(dropdown).get(() => {\n        const newSandboxComp = Coupling.getCoupled(dropdown, 'sandbox');\n        optSearcherState.each(searcherState => findWithinSandbox(newSandboxComp).each(inputComp => restoreState(inputComp, searcherState)));\n      });\n    };\n    const handleRedirectToMenuItem = (sandboxComp, se) => {\n      getActiveMenuItemFrom(sandboxComp).each(activeItem => {\n        retargetAndDispatchWith(sandboxComp, activeItem.element, se.event.eventType, se.event.interactionEvent);\n      });\n    };\n    const getActiveMenuItemFrom = sandboxComp => {\n      return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);\n    };\n    const getSearchResults = activeMenuComp => {\n      return has(activeMenuComp.element, searchResultsClass) ? Optional.some(activeMenuComp.element) : descendant(activeMenuComp.element, '.' + searchResultsClass);\n    };\n    const updateAriaOnHighlight = (tmenuComp, menuComp, itemComp) => {\n      findWithinMenu(tmenuComp).each(inputComp => {\n        setActiveDescendant(inputComp, itemComp);\n        const optActiveResults = getSearchResults(menuComp);\n        optActiveResults.each(resultsElem => {\n          getOpt(resultsElem, 'id').each(controlledId => set$9(inputComp.element, 'aria-controls', controlledId));\n        });\n      });\n      set$9(itemComp.element, 'aria-selected', 'true');\n    };\n    const updateAriaOnDehighlight = (tmenuComp, menuComp, itemComp) => {\n      set$9(itemComp.element, 'aria-selected', 'false');\n    };\n    const focusSearchField = tmenuComp => {\n      findWithinMenu(tmenuComp).each(searcherComp => Focusing.focus(searcherComp));\n    };\n    const getSearchPattern = dropdownComp => {\n      const optSandboxComp = Coupling.getExistingCoupled(dropdownComp, 'sandbox');\n      return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state => state.fetchPattern).getOr('');\n    };\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(d, backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage, Optional.none()),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu, searchMode) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const menuLayout = identifyMenuLayout(searchMode);\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, menuLayout);\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const rangeToSimRange = r => SimRange.create(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    const register$c = (editor, sharedBackstage) => {\n      const autocompleterId = generate$6('autocompleter');\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const activeRange = value$4();\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter'],\n          attributes: { id: autocompleterId }\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [\n            run$1(dismissRequested(), () => cancelIfNecessary()),\n            run$1(highlight$1(), (_, se) => {\n              getOpt(se.event.target, 'id').each(id => set$9(SugarElement.fromDom(editor.getBody()), 'aria-activedescendant', id));\n            })\n          ])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n          editor.dom.remove(autocompleterId, false);\n          const editorBody = SugarElement.fromDom(editor.getBody());\n          getOpt(editorBody, 'aria-owns').filter(ariaOwnsAttr => ariaOwnsAttr === autocompleterId).each(() => {\n            remove$8(editorBody, 'aria-owns');\n            remove$8(editorBody, 'aria-activedescendant');\n          });\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$i(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const autocompleterApi = {\n              hide: () => cancelIfNecessary(),\n              reload: fetchOptions => {\n                hideIfNecessary();\n                editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n              }\n            };\n            editor.execCommand('mceAutocompleterRefreshActiveRange');\n            activeRange.get().each(range => {\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n        InlineView.showMenuAt(autocompleter, {\n          anchor: {\n            type: 'selection',\n            getSelection: () => activeRange.get().map(rangeToSimRange),\n            root: SugarElement.fromDom(editor.getBody())\n          }\n        }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, { menuType: 'normal' }), columns, FocusMode.ContentFocus, 'normal'));\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n          set$9(SugarElement.fromDom(editor.getBody()), 'aria-owns', autocompleterId);\n          if (!editor.inline) {\n            cloneAutocompleterToEditorDoc();\n          }\n        } else {\n          hideIfNecessary();\n        }\n      };\n      const cloneAutocompleterToEditorDoc = () => {\n        if (editor.dom.get(autocompleterId)) {\n          editor.dom.remove(autocompleterId, false);\n        }\n        const docElm = editor.getDoc().documentElement;\n        const selection = editor.selection.getNode();\n        const newElm = deep(autocompleter.element);\n        setAll(newElm, {\n          border: '0',\n          clip: 'rect(0 0 0 0)',\n          height: '1px',\n          margin: '-1px',\n          overflow: 'hidden',\n          padding: '0',\n          position: 'absolute',\n          width: '1px',\n          top: `${ selection.offsetTop }px`,\n          left: `${ selection.offsetLeft }px`\n        });\n        editor.dom.add(docElm, newElm.dom);\n        descendant(newElm, '[role=\"menu\"]').each(child => {\n          remove$7(child, 'position');\n          remove$7(child, 'max-height');\n        });\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterUpdateActiveRange', ({range}) => activeRange.set(range));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n        activeRange.clear();\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$c };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$4();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$h(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$4();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$4();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$h(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read(elem).bind(id => get$h(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$h(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$h(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$h(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$4(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$6(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$j = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$d = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$3 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$2(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formInputEvent = generate$6('form-component-input');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const icons = providersBackstage.icons();\n      const getIcon = icon => {\n        var _a;\n        return (_a = icons[icon]) !== null && _a !== void 0 ? _a : icon;\n      };\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$g(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const disabled = providersBackstage.checkUiComponentContext('mode:design').shouldDisable || providersBackstage.isDisabled();\n        const disabledClass = disabled ? ' tox-collection__item--state-disabled' : '';\n        const htmlLines = map$2(items, item => {\n          const itemText = global$5.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ getIcon(item.icon) }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          return `<div data-mce-tooltip=\"${ ariaLabel }\" class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!(providersBackstage.checkUiComponentContext('mode:design').shouldDisable || providersBackstage.isDisabled())) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt, true);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$3(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$3(currentActive, activeClass);\n            blur$1(currentActive);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: () => providersBackstage.checkUiComponentContext(spec.context).shouldDisable,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$3(childElm, 'tox-collection__item--state-disabled');\n                remove$8(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context)),\n          Replacing.config({}),\n          Tooltipping.config({\n            ...providersBackstage.tooltips.getConfig({\n              tooltipText: '',\n              onShow: comp => {\n                descendant(comp.element, '.' + activeClass + '[data-mce-tooltip]').each(current => {\n                  getOpt(current, 'data-mce-tooltip').each(text => {\n                    Tooltipping.setComponents(comp, providersBackstage.tooltips.getComponents({ tooltipText: text }));\n                  });\n                });\n              }\n            }),\n            mode: 'children-keyboard-focus',\n            anchor: comp => ({\n              type: 'node',\n              node: descendant(comp.element, '.' + activeClass).orThunk(() => first$1('.tox-collection__item')),\n              root: comp.element,\n              layouts: {\n                onLtr: constant$1([\n                  south$2,\n                  north$2,\n                  southeast$2,\n                  northeast$2,\n                  southwest$2,\n                  northwest$2\n                ]),\n                onRtl: constant$1([\n                  south$2,\n                  north$2,\n                  southeast$2,\n                  northeast$2,\n                  southwest$2,\n                  northwest$2\n                ])\n              },\n              bubble: nu$5(0, -2, {})\n            })\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ],\n          [focusin()]: [\n            'collection-events',\n            'tooltipping'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$3(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$7 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$4({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const exhibit$1 = () => nu$8({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$6 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$4({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(() => sharedBackstage.providers.isDisabled() || sharedBackstage.providers.checkUiComponentContext(spec.context).shouldDisable),\n        toggleOnReceive(() => sharedBackstage.providers.checkUiComponentContext(spec.context)),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => sharedBackstage.providers.isDisabled() || sharedBackstage.providers.checkUiComponentContext(spec.context).shouldDisable }),\n          toggleOnReceive(() => sharedBackstage.providers.checkUiComponentContext(spec.context)),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(spec.storageKey, value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(spec.storageKey), spec.storageKey, colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(spec.storageKey),\n        presets: 'color',\n        onItemAction,\n        context: spec.context\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const isShift = event => isShift$1(event.event);\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: (spectrum, event) => model.onLeft(spectrum, detail, isShift(event)),\n              onRight: (spectrum, event) => model.onRight(spectrum, detail, isShift(event)),\n              onUp: (spectrum, event) => model.onUp(spectrum, detail, isShift(event)),\n              onDown: (spectrum, event) => model.onDown(spectrum, detail, isShift(event))\n            }),\n            Tabstopping.config({}),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$2 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = (detail, useMultiplier) => useMultiplier ? detail.stepSize * detail.speedMultiplier : detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail, useMultiplier));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail, useMultiplier) => moveBy$2(direction, spectrum, detail, useMultiplier).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail, useMultiplier));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail, useMultiplier) => moveBy$1(direction, spectrum, detail, useMultiplier).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$e(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail, useMultiplier));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail, useMultiplier));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail, useMultiplier) => moveBy(direction, isVerticalMovement, spectrum, detail, useMultiplier).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$d(thumb.element) / 2;\n      const thumbYRadius = get$e(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('speedMultiplier', 10),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      const focusWidget = component => {\n        getPart(component, detail, 'spectrum').map(Keying.focusIn);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: focusWidget\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), (component, event) => {\n            focusWidget(component);\n            onDragStart(component, event);\n          }),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: {\n            'role': 'slider',\n            'aria-valuemin': 0,\n            'aria-valuemax': 360,\n            'aria-valuenow': 120\n          }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          set$9(slider.element, 'aria-valuenow', Math.floor(360 - value * 3.6));\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const uninitiatedTooltipApi = {\n      isEnabled: always,\n      setEnabled: noop,\n      immediatelyShow: noop,\n      immediatelyHide: noop\n    };\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx, tooltipGetConfig, makeIcon) => {\n      const setTooltipEnabled = (enabled, tooltipApi) => {\n        const api = tooltipApi.get();\n        if (enabled === api.isEnabled()) {\n          return;\n        }\n        api.setEnabled(enabled);\n        if (enabled) {\n          api.immediatelyShow();\n        } else {\n          api.immediatelyHide();\n        }\n      };\n      const invalidation = (label, isValid, tooltipApi) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            setTooltipEnabled(false, tooltipApi);\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            setTooltipEnabled(true, tooltipApi);\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const tooltipApi = Cell(uninitiatedTooltipApi);\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: { tag: 'label' },\n          components: [text$2(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            'type': 'text',\n            'aria-label': description,\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid, tooltipApi),\n            Tabstopping.config({}),\n            Tooltipping.config({\n              ...tooltipGetConfig({\n                tooltipText: '',\n                onSetup: comp => {\n                  tooltipApi.set({\n                    isEnabled: () => {\n                      return Tooltipping.isEnabled(comp);\n                    },\n                    setEnabled: enabled => {\n                      return Tooltipping.setEnabled(comp, enabled);\n                    },\n                    immediatelyShow: () => {\n                      return Tooltipping.immediateOpenClose(comp, true);\n                    },\n                    immediatelyHide: () => {\n                      return Tooltipping.immediateOpenClose(comp, false);\n                    }\n                  });\n                  Tooltipping.setEnabled(comp, false);\n                },\n                onShow: (component, _tooltip) => {\n                  Tooltipping.setComponents(component, [{\n                      dom: {\n                        tag: 'p',\n                        classes: [getClass('rgb-warning-note')]\n                      },\n                      components: [text$2(translate(name === 'hex' ? 'colorcustom.rgb.invalidHex' : 'colorcustom.rgb.invalid'))]\n                    }]);\n                }\n              })\n            })\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const errorId = generate$6('aria-invalid');\n        const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n        const memStatus = record({\n          dom: {\n            tag: 'div',\n            classes: [getClass('invalid-icon')]\n          },\n          components: [memInvalidIcon.asSpec()]\n        });\n        const comps = [\n          pLabel,\n          pField,\n          memStatus.asSpec()\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('rgb-container')]\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(hex.value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n        set$9(slider.element, 'aria-valuetext', translate([\n          'Saturation {0}%, Brightness {1}%',\n          hsv.saturation,\n          hsv.value\n        ]));\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          if (!isNumber(value)) {\n            set$9(slider.element, 'aria-valuetext', translate([\n              'Saturation {0}%, Brightness {1}%',\n              Math.floor(value.x),\n              Math.floor(100 - value.y)\n            ]));\n          }\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: {\n              'role': 'slider',\n              'aria-valuetext': translate([\n                'Saturation {0}%, Brightness {1}%',\n                0,\n                0\n              ])\n            },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass, tooltipConfig, makeIcon) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex, tooltipConfig, makeIcon);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domHtml = optInitialValue => withElement(optInitialValue, get$8, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red channel',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green channel',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue channel',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.rgb.invalid': 'Numbers only, 0 to 255',\n      'colorcustom.rgb.invalidHex': 'Hexadecimal only, 000000 to FFFFFF',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      if (isString(key)) {\n        return providerBackstage.translate(english[key]);\n      } else {\n        return providerBackstage.translate(key);\n      }\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const renderIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providerBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providerBackstage.icons);\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass, providerBackstage.tooltips.getConfig, renderIcon);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + removeLeading(hex, '#')).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const valOpt = Optional.from(pattern.exec(newValue)).bind(matches => get$i(matches, 1));\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: valOpt.getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$4();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$4();\n      const focusBehaviour = !isOldCustomEditor(spec) && spec.onFocus.isSome() ? [\n        Focusing.config({\n          onFocus: comp => {\n            spec.onFocus.each(onFocusFn => {\n              onFocusFn(comp.element.dom);\n            });\n          }\n        }),\n        Tabstopping.config({})\n      ] : [];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (_component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ].concat(focusBehaviour)),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const browseFilesEvent = generate$6('browse.files.event');\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        var _a;\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          emitWith(comp, browseFilesEvent, { files: (_a = transferEvent.dataTransfer) === null || _a === void 0 ? void 0 : _a.files });\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        emitWith(component, browseFilesEvent, { files: input.files });\n      };\n      const handleFiles = (component, files) => {\n        if (files) {\n          Representing.setValue(component, filterByExtension(files, providersBackstage));\n          emitWith(component, formChangeEvent, { name: spec.name });\n        }\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        factory: Button,\n        dom: {\n          tag: 'button',\n          styles: { position: 'relative' },\n          classes: [\n            'tox-button',\n            'tox-button--secondary'\n          ]\n        },\n        components: [\n          text$2(providersBackstage.translate('Browse for an image')),\n          memInput.asSpec()\n        ],\n        action: comp => {\n          const inputComp = memInput.get(comp);\n          inputComp.element.dom.click();\n        },\n        buttonBehaviours: derive$1([\n          ComposingConfigs.self(),\n          memory(initialData.getOr([])),\n          Tabstopping.config({}),\n          DisablingConfigs.button(() => providersBackstage.checkUiComponentContext(spec.context).shouldDisable),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context))\n        ])\n      });\n      const wrapper = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          Disabling.config({ disabled: () => providersBackstage.checkUiComponentContext(spec.context).shouldDisable }),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context)),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$2(providersBackstage.translate('Drop an image here'))]\n              },\n              pField\n            ]\n          }]\n      };\n      return renderFormFieldWith(pLabel, wrapper, ['tox-form__group--stretched'], [config('handle-files', [run$1(browseFilesEvent, (comp, se) => {\n            FormField.getField(comp).each(field => {\n              handleFiles(field, se.event.files);\n            });\n          })])]);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const adaptable = (fn, rate) => {\n      let timer = null;\n      let args = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n          args = null;\n        }\n      };\n      const throttle = (...newArgs) => {\n        args = newArgs;\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            const tempArgs = args;\n            timer = null;\n            args = null;\n            fn.apply(null, tempArgs);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = (containerClasses, spec) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-navobj',\n            ...containerClasses.getOr([])\n          ]\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n    const dialogFocusShiftedChannel = generate$6('dialog-focus-shifted');\n\n    const browser = detect$1().browser;\n    const isSafari = browser.isSafari();\n    const isFirefox = browser.isFirefox();\n    const isSafariOrFirefox = isSafari || isFirefox;\n    const isChromium = browser.isChromium();\n    const isElementScrollAtBottom = ({scrollTop, scrollHeight, clientHeight}) => Math.ceil(scrollTop) + clientHeight >= scrollHeight;\n    const scrollToY = (win, y) => win.scrollTo(0, y === 'bottom' ? 99999999 : y);\n    const getScrollingElement = (doc, html) => {\n      const body = doc.body;\n      return Optional.from(!/^<!DOCTYPE (html|HTML)/.test(html) && (!isChromium && !isSafari || isNonNullable(body) && (body.scrollTop !== 0 || Math.abs(body.scrollHeight - body.clientHeight) > 1)) ? body : doc.documentElement);\n    };\n    const writeValue = (iframeElement, html, fallbackFn) => {\n      const iframe = iframeElement.dom;\n      Optional.from(iframe.contentDocument).fold(fallbackFn, doc => {\n        let lastScrollTop = 0;\n        const isScrollAtBottom = getScrollingElement(doc, html).map(el => {\n          lastScrollTop = el.scrollTop;\n          return el;\n        }).forall(isElementScrollAtBottom);\n        const scrollAfterWrite = () => {\n          const win = iframe.contentWindow;\n          if (isNonNullable(win)) {\n            if (isScrollAtBottom) {\n              scrollToY(win, 'bottom');\n            } else if (!isScrollAtBottom && isSafariOrFirefox && lastScrollTop !== 0) {\n              scrollToY(win, lastScrollTop);\n            }\n          }\n        };\n        if (isSafari) {\n          iframe.addEventListener('load', scrollAfterWrite, { once: true });\n        }\n        doc.open();\n        doc.write(html);\n        doc.close();\n        if (!isSafari) {\n          scrollAfterWrite();\n        }\n      });\n    };\n    const throttleInterval = someIf(isSafariOrFirefox, isSafari ? 500 : 200);\n    const writeValueThrottler = throttleInterval.map(interval => adaptable(writeValue, interval));\n    const getDynamicSource = (initialData, stream) => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            const iframeElement = frameComponent.element;\n            const setSrcdocValue = () => set$9(iframeElement, 'srcdoc', html);\n            if (stream) {\n              writeValueThrottler.fold(constant$1(writeValue), throttler => throttler.throttle)(iframeElement, html, setSrcdocValue);\n            } else {\n              setSrcdocValue();\n            }\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const baseClass = 'tox-dialog__iframe';\n      const opaqueClass = spec.transparent ? [] : [`${ baseClass }--opaque`];\n      const containerBorderedClass = spec.border ? [`tox-navobj-bordered`] : [];\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...spec.sandboxed ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData, spec.streamContent);\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const factory = newSpec => craft(Optional.from(containerBorderedClass), {\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: [\n            baseClass,\n            ...opaqueClass\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          withComp(initialData, sourcing.getValue, sourcing.setValue),\n          Receiving.config({\n            channels: {\n              [dialogFocusShiftedChannel]: {\n                onReceive: (comp, message) => {\n                  message.newFocus.each(newFocus => {\n                    parentElement(comp.element).each(parent => {\n                      const f = eq(comp.element, newFocus) ? add$2 : remove$3;\n                      f(parent, 'tox-navobj-bordered-focus');\n                    });\n                  });\n                }\n              }\n            }\n          })\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$d(panel);\n      const panelH = get$e(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const {cachedWidth, cachedHeight, zoom} = translatedData;\n          if (!isUndefined(cachedWidth) && !isUndefined(cachedHeight)) {\n            if (isUndefined(zoom)) {\n              const z = zoomToFit(frameComponent.element, cachedWidth, cachedHeight);\n              translatedData.zoom = z;\n            }\n            const position = calculateImagePosition(get$d(frameComponent.element), get$e(frameComponent.element), cachedWidth, cachedHeight, translatedData.zoom);\n            memContainer.getOpt(frameComponent).each(container => {\n              setAll(container.element, position);\n            });\n          }\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$g(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$3(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          applyFramePositioning();\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$2 = (spec, backstageShared, getCompByName) => {\n      const baseClass = 'tox-label';\n      const centerClass = spec.align === 'center' ? [`${ baseClass }--center`] : [];\n      const endClass = spec.align === 'end' ? [`${ baseClass }--end`] : [];\n      const label = record({\n        dom: {\n          tag: 'label',\n          classes: [\n            baseClass,\n            ...centerClass,\n            ...endClass\n          ]\n        },\n        components: [text$2(backstageShared.providers.translate(spec.label))]\n      });\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label.asSpec(),\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' }),\n          config('label', [runOnAttached(comp => {\n              spec.for.each(name => {\n                getCompByName(name).each(target => {\n                  label.getOpt(comp).each(labelComp => {\n                    var _a;\n                    const id = (_a = get$g(target.element, 'id')) !== null && _a !== void 0 ? _a : generate$6('form-field');\n                    set$9(target.element, 'id', id);\n                    set$9(labelComp.element, 'for', id);\n                  });\n                });\n              });\n            })])\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const commonButtonDisplayEvent = generate$6('common-button-display-events');\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events',\n        'tooltipping'\n      ],\n      [attachedToDom()]: [\n        'toolbar-button-events',\n        commonButtonDisplayEvent\n      ],\n      [detachedFromDom()]: [\n        'toolbar-button-events',\n        'dropdown-events',\n        'tooltipping'\n      ],\n      [mousedown()]: [\n        'focusing',\n        'alloy.base.behaviour',\n        commonButtonDisplayEvent\n      ]\n    };\n\n    const forceInitialSize = comp => set$8(comp.element, 'width', get$f(comp.element, 'width'));\n\n    const renderIcon$1 = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack$1 = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, []);\n    const renderReplaceableIconFromPack = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel$1 = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$2(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage, btnName) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel$1(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplaceableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const listRole = Optional.from(spec.listRole).map(listRole => ({ listRole })).getOr({});\n      const ariaLabelAttribute = spec.ariaLabel.fold(() => ({}), ariaLabel => {\n        const translatedAriaLabel = sharedBackstage.providers.translate(ariaLabel);\n        return { 'aria-label': translatedAriaLabel };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const fixWidthBehaviourName = generate$6('common-button-display-events');\n      const customEventsName = 'dropdown-events';\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        ...listRole,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: {\n            ...ariaLabelAttribute,\n            ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n          }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        onOpen: (anchor, dropdownComp, tmenuComp) => {\n          if (spec.searchable) {\n            focusSearchField(tmenuComp);\n          }\n        },\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.checkUiComponentContext(spec.context).shouldDisable),\n          toggleOnReceive(() => sharedBackstage.providers.checkUiComponentContext(spec.context)),\n          Unselecting.config({}),\n          Replacing.config({}),\n          ...spec.tooltip.map(t => Tooltipping.config(sharedBackstage.providers.tooltips.getConfig({ tooltipText: sharedBackstage.providers.translate(t) }))).toArray(),\n          config(customEventsName, [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config(fixWidthBehaviourName, [runOnAttached((comp, _se) => {\n              if (spec.listRole !== 'listbox') {\n                forceInitialSize(comp);\n              }\n            })]),\n          config('update-dropdown-width-variable', [run$1(windowResize(), (comp, _se) => Dropdown.close(comp))]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ],\n          [attachedToDom()]: [\n            'toolbar-button-events',\n            Tooltipping.name(),\n            customEventsName,\n            fixWidthBehaviourName\n          ]\n        }),\n        sandboxBehaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          }),\n          config('dropdown-sandbox-events', [\n            run$1(refetchTriggerEvent, (originalSandboxComp, se) => {\n              handleRefetchTrigger(originalSandboxComp);\n              se.stop();\n            }),\n            run$1(redirectMenuItemInteractionEvent, (sandboxComp, se) => {\n              handleRedirectToMenuItem(sandboxComp, se);\n              se.stop();\n            })\n          ])\n        ]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: {\n          menu: {\n            ...part(false, spec.columns, spec.presets),\n            fakeFocus: spec.searchable,\n            ...spec.listRole === 'listbox' ? {} : {\n              onHighlightItem: updateAriaOnHighlight,\n              onCollapseMenu: (tmenuComp, itemCompCausingCollapse, nowActiveMenuComp) => {\n                Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp => {\n                  updateAriaOnHighlight(tmenuComp, nowActiveMenuComp, itemComp);\n                });\n              },\n              onDehighlightItem: updateAriaOnDehighlight\n            }\n          }\n        },\n        getAnchorOverrides: () => {\n          return {\n            maxHeightFunction: (element, available) => {\n              anchored()(element, available - 10);\n            }\n          };\n        },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$2 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$2(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$2(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, { [item.value]: rest.items });\n      const newExpansions = deepMerge(rest.expansions, { [item.value]: item.value });\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const generateValueIfRequired = item => {\n      const itemValue = get$h(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n      return deepMerge({ value: itemValue }, item);\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        if (isExpandingMenuItem(item)) {\n          const itemWithValue = generateValueIfRequired(item);\n          const newData = getFromExpandingItem(itemWithValue, menuItems);\n          return {\n            menus: deepMerge(acc.menus, newData.menus),\n            items: [\n              newData.item,\n              ...acc.items\n            ],\n            expansions: deepMerge(acc.expansions, newData.expansions)\n          };\n        } else {\n          return {\n            ...acc,\n            items: [\n              item,\n              ...acc.items\n            ]\n          };\n        }\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const getSearchModeForField = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), searchSettings => ({\n        searchMode: 'search-with-field',\n        placeholder: searchSettings.placeholder\n      }));\n    };\n    const getSearchModeForResults = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), _ => ({ searchMode: 'search-with-results' }));\n    };\n    const build = (items, itemResponse, backstage, settings) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenuSearchMode = getSearchModeForField(settings);\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, settings.isHorizontalMenu, mainMenuSearchMode);\n      const submenuSearchMode = getSearchModeForResults(settings);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false, submenuSearchMode));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue, hasNestedItems) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue, hasNestedItems)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          ...hasNestedItems ? {} : { role: 'option' },\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const hasNestedItems = exists(spec.items, item => !isSingleListItem(item));\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            context: spec.context,\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: Optional.none(),\n            role: someIf(!hasNestedItems, 'combobox'),\n            ...hasNestedItems ? {} : { listRole: 'listbox' },\n            ariaLabel: spec.label,\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp), hasNestedItems);\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n                isHorizontalMenu: false,\n                search: Optional.none()\n              }));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              withComp(initialItem.map(item => item.value), comp => get$g(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable,\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$h = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$7(select.element);\n              },\n              setValue: (select, newValue) => {\n                const firstOption = head(detail.options);\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                } else if (select.element.dom.selectedIndex === -1 && newValue === '') {\n                  firstOption.each(value => set$5(select.element, value.value));\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$h\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable,\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context))\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ]),\n      defaultedFunction('onInput', noop)\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                    detail.onInput(me);\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$g = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$g,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput$1 = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const disabled = () => !spec.enabled || spec.context.exists(context => providersBackstage.checkUiComponentContext(context).shouldDisable);\n      const toggleOnReceive$1 = spec.context.map(context => toggleOnReceive(() => providersBackstage.checkUiComponentContext(context)));\n      const label = spec.label.getOr('Constrain proportions');\n      const translatedLabel = providersBackstage.translate(label);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: {\n            'aria-label': translatedLabel,\n            'data-mce-name': label\n          }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled }),\n          ...toggleOnReceive$1.toArray(),\n          Tabstopping.config({}),\n          Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: translatedLabel }))\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: [spec.inDialog ? 'tox-form__group' : 'tox-context-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: spec.inDialog ? ['tox-textfield'] : [\n          'tox-textfield',\n          'tox-toolbar-textfield',\n          'tox-textfield-size'\n        ],\n        data: isField1 ? spec.width : spec.height,\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled }),\n          ...toggleOnReceive$1.toArray(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              spec.name.each(name => emitWith(component, formChangeEvent, { name }));\n            })\n          ]),\n          ...spec.onEnter.map(onEnter => Keying.config({\n            mode: 'special',\n            onEnter\n          })).toArray()\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      const editorOffCell = Cell(noop);\n      const controlLifecycleHandlers = lift2(spec.onSetup, spec.getApi, (onSetup, getApi) => [\n        onControlAttached({\n          onSetup,\n          getApi\n        }, editorOffCell),\n        onControlDetached({ getApi }, editorOffCell)\n      ]).getOr([]);\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: [spec.inDialog ? 'tox-form__group' : 'tox-context-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        onInput: current => emit(current, formInputEvent),\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled,\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext('mode:design')),\n          config('size-input-events', [\n            run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            }),\n            run$1(formInputEvent, component => {\n              spec.onInput.each(onInput => onInput(component));\n            }),\n            ...controlLifecycleHandlers\n          ])\n        ])\n      });\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      return renderSizeInput$1({\n        inDialog: true,\n        label: spec.label,\n        enabled: spec.enabled,\n        context: Optional.some(spec.context),\n        name: Optional.some(spec.name),\n        width: '',\n        height: '',\n        onEnter: Optional.none(),\n        onInput: Optional.none(),\n        onSetup: Optional.none(),\n        getApi: Optional.none()\n      }, providersBackstage);\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        },\n        onChange: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable }),\n        toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context)),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode,\n        'data-mce-name': spec.name\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const pTextField = spec.multiline ? {\n        dom: {\n          tag: 'div',\n          classes: ['tox-textarea-wrap']\n        },\n        components: [pField]\n      } : pField;\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable,\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context))\n      ];\n      return renderFormFieldWith(pLabel, pTextField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData,\n      context: spec.context\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData,\n      context: spec.context\n    }, providersBackstage);\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$3(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$3(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$7(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$3(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$3(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$3 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$7(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$8({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$8({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$5 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$7(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$5\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$e(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$8 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$7({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$8\n    });\n\n    const Sliding = create$4({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$3(elm, 'tox-tbtn--enabled');\n          remove$8(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled'),\n      setText: text => {\n        emitWith(component, updateMenuText, { text });\n      },\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const renderMenuButton = (spec, prefix, backstage, role, tabstopping = true, btnName) => {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        ariaLabel: spec.tooltip,\n        searchable: spec.search.isSome(),\n        role,\n        fetch: (dropdownComp, callback) => {\n          const fetchContext = { pattern: spec.search.isSome() ? getSearchPattern(dropdownComp) : '' };\n          spec.fetch(items => {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n              isHorizontalMenu: false,\n              search: spec.search\n            }));\n          }, fetchContext, getMenuButtonApi(dropdownComp));\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [...tabstopping ? [Tabstopping.config({})] : []],\n        context: spec.context\n      }, prefix, backstage.shared, btnName);\n    };\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            context: item.context,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderLabel = text => ({\n      dom: {\n        tag: 'span',\n        classes: ['tox-tree__label'],\n        attributes: { 'aria-label': text }\n      },\n      components: [text$2(text)]\n    });\n    const renderCustomStateIcon = (container, components, backstage) => {\n      container.customStateIcon.each(icon => components.push(renderIcon(icon, backstage.shared.providers.icons, container.customStateIconTooltip.fold(() => [], tooltip => [Tooltipping.config(backstage.shared.providers.tooltips.getConfig({ tooltipText: tooltip }))]), ['tox-icon-custom-state'])));\n    };\n    const leafLabelEventsId = generate$6('leaf-label-event-id');\n    const renderLeafLabel = ({leaf, onLeafAction, visible, treeId, selectedId, backstage}) => {\n      const internalMenuButton = leaf.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none(), visible));\n      const components = [renderLabel(leaf.title)];\n      renderCustomStateIcon(leaf, components, backstage);\n      internalMenuButton.each(btn => components.push(btn));\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--leaf__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--leaf__label--visible'] : [])\n        },\n        components,\n        role: 'treeitem',\n        action: button => {\n          onLeafAction(leaf.id);\n          button.getSystem().broadcastOn([`update-active-item-${ treeId }`], { value: leaf.id });\n        },\n        eventOrder: {\n          [keydown()]: [\n            leafLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          Toggling.config({\n            toggleClass: 'tox-trbtn--enabled',\n            toggleOnExecute: false,\n            aria: { mode: 'selected' }\n          }),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  (message.value === leaf.id ? Toggling.on : Toggling.off)(comp);\n                }\n              }\n            }\n          }),\n          config(leafLabelEventsId, [\n            runOnAttached((comp, _se) => {\n              selectedId.each(id => {\n                const toggle = id === leaf.id ? Toggling.on : Toggling.off;\n                toggle(comp);\n              });\n            }),\n            run$1(keydown(), (comp, se) => {\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              if (isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(dirElement => {\n                  comp.getSystem().getByDom(dirElement).each(dirComp => {\n                    child(dirElement, '.tox-tree--directory__label').each(dirLabelElement => {\n                      dirComp.getSystem().getByDom(dirLabelElement).each(Focusing.focus);\n                    });\n                  });\n                });\n                se.stop();\n              } else if (isRightArrowKey) {\n                se.stop();\n              }\n            })\n          ])\n        ])\n      });\n    };\n    const renderIcon = (iconName, iconsProvider, behaviours, extraClasses, extraAttributes) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-tree__icon-wrap',\n        'tox-icon'\n      ].concat(extraClasses || []),\n      behaviours,\n      attributes: extraAttributes\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const directoryLabelEventsId = generate$6('directory-label-event-id');\n    const renderDirectoryLabel = ({directory, visible, noChildren, backstage}) => {\n      const internalMenuButton = directory.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none()));\n      const components = [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-chevron']\n          },\n          components: [renderIconFromPack('chevron-right', backstage.shared.providers.icons)]\n        },\n        renderLabel(directory.title)\n      ];\n      renderCustomStateIcon(directory, components, backstage);\n      internalMenuButton.each(btn => {\n        components.push(btn);\n      });\n      const toggleExpandChildren = button => {\n        ancestor(button.element, '.tox-tree--directory').each(directoryEle => {\n          button.getSystem().getByDom(directoryEle).each(directoryComp => {\n            const willExpand = !Toggling.isOn(directoryComp);\n            Toggling.toggle(directoryComp);\n            emitWith(button, 'expand-tree-node', {\n              expanded: willExpand,\n              node: directory.id\n            });\n          });\n        });\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--directory__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--directory__label--visible'] : [])\n        },\n        components,\n        action: toggleExpandChildren,\n        eventOrder: {\n          [keydown()]: [\n            directoryLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          config(directoryLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              if (isRightArrowKey && noChildren) {\n                se.stop();\n              }\n              if (isRightArrowKey || isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(directoryEle => {\n                  comp.getSystem().getByDom(directoryEle).each(directoryComp => {\n                    if (!Toggling.isOn(directoryComp) && isRightArrowKey || Toggling.isOn(directoryComp) && isLeftArrowKey) {\n                      toggleExpandChildren(comp);\n                      se.stop();\n                    } else if (isLeftArrowKey && !Toggling.isOn(directoryComp)) {\n                      ancestor(directoryComp.element, '.tox-tree--directory').each(parentDirElement => {\n                        child(parentDirElement, '.tox-tree--directory__label').each(parentDirLabelElement => {\n                          directoryComp.getSystem().getByDom(parentDirLabelElement).each(Focusing.focus);\n                        });\n                      });\n                      se.stop();\n                    }\n                  });\n                });\n              }\n            })])\n        ])\n      });\n    };\n    const renderDirectoryChildren = ({children, onLeafAction, visible, treeId, expandedIds, selectedId, backstage}) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory__children']\n        },\n        components: children.map(item => {\n          return item.type === 'leaf' ? renderLeafLabel({\n            leaf: item,\n            selectedId,\n            onLeafAction,\n            visible,\n            treeId,\n            backstage\n          }) : renderDirectory({\n            directory: item,\n            expandedIds,\n            selectedId,\n            onLeafAction,\n            labelTabstopping: visible,\n            treeId,\n            backstage\n          });\n        }),\n        behaviours: derive$1([\n          Sliding.config({\n            dimension: { property: 'height' },\n            closedClass: 'tox-tree--directory__children--closed',\n            openClass: 'tox-tree--directory__children--open',\n            growingClass: 'tox-tree--directory__children--growing',\n            shrinkingClass: 'tox-tree--directory__children--shrinking',\n            expanded: visible\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n    const directoryEventsId = generate$6('directory-event-id');\n    const renderDirectory = ({directory, onLeafAction, labelTabstopping, treeId, backstage, expandedIds, selectedId}) => {\n      const {children} = directory;\n      const expandedIdsCell = Cell(expandedIds);\n      const computedChildrenComponents = visible => children.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          selectedId,\n          onLeafAction,\n          visible,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          expandedIds: expandedIdsCell.get(),\n          selectedId,\n          onLeafAction,\n          labelTabstopping: visible,\n          treeId,\n          backstage\n        });\n      });\n      const childrenVisible = expandedIds.includes(directory.id);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory'],\n          attributes: { role: 'treeitem' }\n        },\n        components: [\n          renderDirectoryLabel({\n            directory,\n            visible: labelTabstopping,\n            noChildren: directory.children.length === 0,\n            backstage\n          }),\n          renderDirectoryChildren({\n            children,\n            expandedIds,\n            selectedId,\n            onLeafAction,\n            visible: childrenVisible,\n            treeId,\n            backstage\n          })\n        ],\n        behaviours: derive$1([\n          config(directoryEventsId, [\n            runOnAttached((comp, _se) => {\n              Toggling.set(comp, childrenVisible);\n            }),\n            run$1('expand-tree-node', (_cmp, se) => {\n              const {expanded, node} = se.event;\n              expandedIdsCell.set(expanded ? [\n                ...expandedIdsCell.get(),\n                node\n              ] : expandedIdsCell.get().filter(id => id !== node));\n            })\n          ]),\n          Toggling.config({\n            ...directory.children.length > 0 ? { aria: { mode: 'expanded' } } : {},\n            toggleClass: 'tox-tree--directory--expanded',\n            onToggled: (comp, childrenVisible) => {\n              const childrenComp = comp.components()[1];\n              const newChildren = computedChildrenComponents(childrenVisible);\n              if (childrenVisible) {\n                Sliding.grow(childrenComp);\n              } else {\n                Sliding.shrink(childrenComp);\n              }\n              Replacing.set(childrenComp, newChildren);\n            }\n          })\n        ])\n      };\n    };\n    const treeEventsId = generate$6('tree-event-id');\n    const renderTree = (spec, backstage) => {\n      const onLeafAction = spec.onLeafAction.getOr(noop);\n      const onToggleExpand = spec.onToggleExpand.getOr(noop);\n      const defaultExpandedIds = spec.defaultExpandedIds;\n      const expandedIds = Cell(defaultExpandedIds);\n      const selectedIdCell = Cell(spec.defaultSelectedId);\n      const treeId = generate$6('tree-id');\n      const children = (selectedId, expandedIds) => spec.items.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          selectedId,\n          onLeafAction,\n          visible: true,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          selectedId,\n          onLeafAction,\n          expandedIds,\n          labelTabstopping: true,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree'],\n          attributes: { role: 'tree' }\n        },\n        components: children(selectedIdCell.get(), expandedIds.get()),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: '.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible',\n            cycles: false\n          }),\n          config(treeEventsId, [run$1('expand-tree-node', (_cmp, se) => {\n              const {expanded, node} = se.event;\n              expandedIds.set(expanded ? [\n                ...expandedIds.get(),\n                node\n              ] : expandedIds.get().filter(id => id !== node));\n              onToggleExpand(expandedIds.get(), {\n                expanded,\n                node\n              });\n            })]),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  selectedIdCell.set(Optional.some(message.value));\n                  Replacing.set(comp, children(Optional.some(message.value), expandedIds.get()));\n                }\n              }\n            }\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n\n    const events$4 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$4\n    });\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$7({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$7 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$7\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$4({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$7(el);\n      const node = el.dom;\n      if (get$g(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const getActiveMenu = sandboxComp => Composing.getCurrent(sandboxComp);\n      const typeaheadCustomEvents = 'typeaheadevents';\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$7(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$7(component.element).length >= detail.minChars) {\n                const previousValue = getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  getActiveMenu(sandbox).each(activeMenu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(activeMenu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(activeMenu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(activeMenu).orThunk(() => {\n                        Highlighting.highlightFirst(activeMenu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightJustMenu).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => {\n                  detail.lazyTypeaheadComp.get().each(input => remove$8(input.element, 'aria-activedescendant'));\n                  Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config(typeaheadCustomEvents, [\n          runOnAttached(typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));\n          }),\n          runOnDetached(_typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.none());\n          }),\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      const eventOrder = {\n        [detachedFromDom()]: [\n          Representing.name(),\n          Streaming.name(),\n          typeaheadCustomEvents\n        ],\n        ...detail.eventOrder\n      };\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      option$3('listRole'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('lazyTypeaheadComp', () => Cell(Optional.none)),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$l()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlightItem: (_tmenu, menu, item) => {\n              if (!detail.previewing.get()) {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                  getOpt(item.element, 'id').each(id => set$9(input.element, 'aria-activedescendant', id));\n                });\n              } else {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => {\n                    if (detail.model.selectsOver) {\n                      Highlighting.dehighlight(menu, item);\n                      detail.previewing.set(true);\n                    } else {\n                      detail.previewing.set(false);\n                    }\n                  }, selectOverTextInInput => {\n                    selectOverTextInInput();\n                    detail.previewing.set(false);\n                  });\n                });\n              }\n            },\n            onExecute: (_menu, item) => {\n              return detail.lazyTypeaheadComp.get().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              detail.lazyTypeaheadComp.get().each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, tooltip, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context)),\n          Tabstopping.config({}),\n          ...tooltip.map(t => Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate(t) }))).toArray(),\n          config('button press', [preventDefault('click')])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], btnName) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({ 'aria-label': providersBackstage.translate(tooltip) })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: {\n          ...tooltipAttributes,\n          'data-mce-name': btnName\n        }\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, spec.tooltip, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$2(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: {\n          'aria-label': translatedText,\n          'data-mce-name': spec.text\n        }\n      };\n      const optTooltip = spec.icon.map(constant$1(translatedText));\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, optTooltip, providersBackstage);\n    };\n    const renderButton$1 = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const isToggleButtonSpec = (spec, buttonType) => buttonType === 'togglebutton';\n    const renderToggleButton = (spec, providers, btnName) => {\n      var _a, _b;\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const action = comp => {\n        emitWith(comp, formActionEvent, {\n          name: spec.name,\n          value: {\n            setIcon: newIcon => {\n              optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n              }));\n            }\n          }\n        });\n      };\n      const buttonType = spec.buttonType.getOr(!spec.primary ? 'secondary' : 'primary');\n      const buttonSpec = {\n        ...spec,\n        name: (_a = spec.name) !== null && _a !== void 0 ? _a : '',\n        primary: buttonType === 'primary',\n        tooltip: spec.tooltip,\n        enabled: (_b = spec.enabled) !== null && _b !== void 0 ? _b : false,\n        borderless: false\n      };\n      const tooltipAttributes = buttonSpec.tooltip.or(spec.text).map(tooltip => ({ 'aria-label': providers.translate(tooltip) })).getOr({});\n      const buttonTypeClasses = calculateClassesFromButtonType(buttonType !== null && buttonType !== void 0 ? buttonType : 'secondary');\n      const showIconAndText = spec.icon.isSome() && spec.text.isSome();\n      const dom = {\n        tag: 'button',\n        classes: [\n          ...buttonTypeClasses.concat(spec.icon.isSome() ? ['tox-button--icon'] : []),\n          ...spec.active ? ['tox-button--enabled'] : [],\n          ...showIconAndText ? ['tox-button--icon-and-text'] : []\n        ],\n        attributes: {\n          ...tooltipAttributes,\n          ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n        }\n      };\n      const extraBehaviours = [];\n      const translatedText = providers.translate(spec.text.getOr(''));\n      const translatedTextComponed = text$2(translatedText);\n      const iconComp = componentRenderPipeline([optMemIcon.map(memIcon => memIcon.asSpec())]);\n      const components = [\n        ...iconComp,\n        ...spec.text.isSome() ? [translatedTextComponed] : []\n      ];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, spec.tooltip, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          type: 'menubutton',\n          search: Optional.none(),\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none(), true, spec.text.or(spec.tooltip).getOrUndefined()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          context: buttonType === 'cancel' ? 'any' : spec.context,\n          borderless: false\n        };\n        return renderButton$1(buttonSpec, action, backstage.shared.providers, []);\n      } else if (isToggleButtonSpec(spec, buttonType)) {\n        return renderToggleButton(spec, backstage.shared.providers, spec.text.or(spec.tooltip).getOrUndefined());\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n        throw new Error('Unknown footer button type');\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        var _a;\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        const value = (_a = item.value) !== null && _a !== void 0 ? _a : '';\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      var _a, _b;\n      const urlInputValue = Representing.getValue(input);\n      const term = (_b = (_a = urlInputValue === null || urlInputValue === void 0 ? void 0 : urlInputValue.meta) === null || _a === void 0 ? void 0 : _a.text) !== null && _b !== void 0 ? _b : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const typeaheadSpec = {\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, {\n            isHorizontalMenu: false,\n            search: Optional.none()\n          });\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1([\n          ...urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable }),\n          Tabstopping.config({}),\n          config('urlinput-events', [\n            run$1(input(), comp => {\n              const currentValue = get$7(comp.element);\n              const trimmedValue = currentValue.trim();\n              if (trimmedValue !== currentValue) {\n                set$5(comp.element, trimmedValue);\n              }\n              if (spec.filetype === 'file') {\n                emitWith(comp, formChangeEvent, { name: spec.name });\n              }\n            }),\n            run$1(change(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            }),\n            run$1(postPaste(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            })\n          ])\n        ]),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      };\n      const pField = FormField.parts.field({\n        ...typeaheadSpec,\n        factory: Typeahead\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable })])\n      });\n      const memUrlPickerButton = record(renderButton$1({\n        context: spec.context,\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.picker_text.or(spec.label).getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable,\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context)),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => {\n      const icon = get$3(spec.icon, providersBackstage.icons);\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ spec.level }`\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon'],\n              innerHtml: !spec.url ? icon : undefined\n            },\n            components: spec.url ? [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: icon,\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: comp => emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                }),\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })] : undefined\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$2 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.checkUiComponentContext(spec.context).shouldDisable,\n            onDisabled: component => {\n              parentElement(component.element).each(element => add$2(element, 'tox-checkbox--disabled'));\n            },\n            onEnabled: component => {\n              parentElement(component.element).each(element => remove$3(element, 'tox-checkbox--disabled'));\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          withElement(initialData, get$2, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.checkUiComponentContext(spec.context).shouldDisable }),\n          toggleOnReceive(() => providerBackstage.checkUiComponentContext(spec.context))\n        ])\n      });\n    };\n\n    const renderHtmlPanel = (spec, providersBackstage) => {\n      const classes = [\n        'tox-form__group',\n        ...spec.stretched ? ['tox-form__group--stretched'] : []\n      ];\n      const init = config('htmlpanel', [runOnAttached(comp => {\n          spec.onInit(comp.element.dom);\n        })]);\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes,\n            innerHtml: spec.html\n          },\n          containerBehaviours: derive$1([\n            Tooltipping.config({\n              ...providersBackstage.tooltips.getConfig({\n                tooltipText: '',\n                onShow: comp => {\n                  descendant(comp.element, '[data-mce-tooltip]:hover').orThunk(() => search(comp.element)).each(current => {\n                    getOpt(current, 'data-mce-tooltip').each(text => {\n                      Tooltipping.setComponents(comp, providersBackstage.tooltips.getComponents({ tooltipText: text }));\n                    });\n                  });\n                }\n              }),\n              mode: 'children-normal',\n              anchor: comp => ({\n                type: 'node',\n                node: descendant(comp.element, '[data-mce-tooltip]:hover').orThunk(() => search(comp.element).filter(current => getOpt(current, 'data-mce-tooltip').isSome())),\n                root: comp.element,\n                layouts: {\n                  onLtr: constant$1([\n                    south$2,\n                    north$2,\n                    southeast$2,\n                    northeast$2,\n                    southwest$2,\n                    northwest$2\n                  ]),\n                  onRtl: constant$1([\n                    south$2,\n                    north$2,\n                    southeast$2,\n                    northeast$2,\n                    southwest$2,\n                    northwest$2\n                  ])\n                },\n                bubble: nu$5(0, -2, {})\n              })\n            }),\n            init\n          ])\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes,\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            init\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage, getCompByName) => get$h(spec, 'name').fold(() => render(spec, backstage, Optional.none(), getCompByName), fieldName => parts.field(fieldName, render(spec, backstage, get$h(dialogData, fieldName), getCompByName)));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage, getCompByName) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage, getCompByName);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage, _data, getCompByName) => renderLabel$2(spec, backstage.shared, getCompByName)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2((spec, backstage) => renderHtmlPanel(spec, backstage.shared.providers)),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      tree: make$2((spec, backstage) => renderTree(spec, backstage)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage, getCompByName) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage, getCompByName) } });\n      return interpretParts(parts, spec, dialogData, newBackstage, getCompByName);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage, getCompByName) => get$h(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage, getCompByName));\n    const interpretWithoutForm = (spec, dialogData, backstage, getCompByName) => interpretParts(noFormParts, spec, dialogData, backstage, getCompByName);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ],\n          onLtr: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getInlineBottomDialogAnchor = (inline, contentAreaElement, lazyBottomAnchorBar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        },\n        overrides\n      });\n      const standardAnchor = () => inline ? {\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(0, -getOuter$2(contentAreaElement()), bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north$2],\n          onLtr: () => [north$2]\n        },\n        overrides\n      } : {\n        type: 'hotspot',\n        hotspot: lazyBottomAnchorBar(),\n        bubble: nu$5(0, 0, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north$2],\n          onLtr: () => [north$2]\n        },\n        overrides\n      };\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        const selectedCells = editor.model.table.getSelectedCells();\n        if (selectedCells.length > 1) {\n          const firstCell = selectedCells[0];\n          const lastCell = selectedCells[selectedCells.length - 1];\n          const selectionTableCellRange = {\n            firstCell: SugarElement.fromDom(firstCell),\n            lastCell: SugarElement.fromDom(lastCell)\n          };\n          return Optional.some(selectionTableCellRange);\n        }\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, lazyBottomAnchorBar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        inlineBottomDialog: getInlineBottomDialogAnchor(editor.inline, contentAreaElement, lazyBottomAnchorBar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => id => getColors$2(editor, id);\n    const getColorCols = editor => id => getColorCols$1(editor, id);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const isNestedFormat = format => hasNonNullableKey(format, 'items');\n    const isFormatReference = format => hasNonNullableKey(format, 'format');\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormats = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormats(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const isSeparator$1 = format => {\n      const keys$1 = keys(format);\n      return keys$1.length === 1 && contains$2(keys$1, 'title');\n    };\n    const processBasic = (item, isSelectedFor, getPreviewFor) => ({\n      ...item,\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    });\n    const register$b = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const newItems = doEnrich(item.items);\n        return {\n          ...item,\n          type: 'submenu',\n          getStyleItems: constant$1(newItems)\n        };\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const newItem = {\n          ...item,\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        if (isNestedFormat(item)) {\n          return enrichMenu(item);\n        } else if (isFormatReference(item)) {\n          return enrichSupported(item);\n        } else if (isSeparator$1(item)) {\n          return {\n            ...item,\n            type: 'separator'\n          };\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$6 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const settingsFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$b(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$b(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return { getData };\n    };\n\n    const TooltipsBackstage = getSink => {\n      const tooltipDelay = 300;\n      const intervalDelay = tooltipDelay * 0.2;\n      let numActiveTooltips = 0;\n      const alreadyShowingTooltips = () => numActiveTooltips > 0;\n      const getComponents = spec => {\n        return [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-tooltip__body']\n            },\n            components: [text$2(spec.tooltipText)]\n          }];\n      };\n      const getConfig = spec => {\n        return {\n          delayForShow: () => alreadyShowingTooltips() ? intervalDelay : tooltipDelay,\n          delayForHide: constant$1(tooltipDelay),\n          exclusive: true,\n          lazySink: getSink,\n          tooltipDom: {\n            tag: 'div',\n            classes: [\n              'tox-tooltip',\n              'tox-tooltip--up'\n            ]\n          },\n          tooltipComponents: getComponents(spec),\n          onShow: (comp, tooltip) => {\n            numActiveTooltips++;\n            if (spec.onShow) {\n              spec.onShow(comp, tooltip);\n            }\n          },\n          onHide: (comp, tooltip) => {\n            numActiveTooltips--;\n            if (spec.onHide) {\n              spec.onHide(comp, tooltip);\n            }\n          },\n          onSetup: spec.onSetup\n        };\n      };\n      return {\n        getConfig,\n        getComponents\n      };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create = (type, title, url, level, attach) => ({\n      type,\n      title,\n      url,\n      level,\n      attach\n    });\n    const isChildOfContentEditableTrue = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parentNode) {\n        const value = tempNode.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(tempNode);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      var _a;\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create('header', (_a = getElementText(elm)) !== null && _a !== void 0 ? _a : '', '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$h(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$h(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$5 = (lazySinks, editor, lazyAnchorbar, lazyBottomAnchorBar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const providers = {\n        icons: () => editor.ui.registry.getAll().icons,\n        menuItems: () => editor.ui.registry.getAll().menuItems,\n        translate: global$5.translate,\n        isDisabled: () => !editor.ui.isEnabled(),\n        getOption: editor.options.get,\n        tooltips: TooltipsBackstage(lazySinks.dialog),\n        checkUiComponentContext: specContext => {\n          if (isDisabled(editor)) {\n            return {\n              contextType: 'disabled',\n              shouldDisable: true\n            };\n          }\n          const [key, value = ''] = specContext.split(':');\n          const contexts = editor.ui.registry.getAll().contexts;\n          const enabledInContext = get$h(contexts, key).fold(() => get$h(contexts, 'mode').map(pred => pred('design')).getOr(false), pred => value.charAt(0) === '!' ? !pred(value.slice(1)) : pred(value));\n          return {\n            contextType: key,\n            shouldDisable: !enabledInContext\n          };\n        }\n      };\n      const urlinput = UrlInputBackstage(editor);\n      const styles = init$6(editor);\n      const colorinput = ColorInputBackstage(editor);\n      const dialogSettings = DialogBackstage(editor);\n      const isContextMenuOpen = () => contextMenuState.get();\n      const setContextMenuState = state => contextMenuState.set(state);\n      const commonBackstage = {\n        shared: {\n          providers,\n          anchors: getAnchors(editor, lazyAnchorbar, lazyBottomAnchorBar, toolbar.isPositionedAtTop),\n          header: toolbar\n        },\n        urlinput,\n        styles,\n        colorinput,\n        dialog: dialogSettings,\n        isContextMenuOpen,\n        setContextMenuState\n      };\n      const getCompByName = _name => Optional.none();\n      const popupBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, popupBackstage, getCompByName),\n          getSink: lazySinks.popup\n        }\n      };\n      const dialogBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, dialogBackstage, getCompByName),\n          getSink: lazySinks.dialog\n        }\n      };\n      return {\n        popup: popupBackstage,\n        dialog: dialogBackstage\n      };\n    };\n\n    const setup$b = (editor, mothership, uiMotherships) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      const onElementScroll = capture(dos, 'scroll', evt => {\n        requestAnimationFrame(() => {\n          const c = editor.getContainer();\n          if (c !== undefined && c !== null) {\n            const optScrollingContext = detectWhenSplitUiMode(editor, mothership.element);\n            const scrollers = optScrollingContext.map(sc => [\n              sc.element,\n              ...sc.others\n            ]).getOr([]);\n            if (exists(scrollers, s => eq(s, evt.target))) {\n              editor.dispatch('ElementScroll', { target: evt.target.dom });\n              broadcastEvent(externalElementScroll(), evt);\n            }\n          }\n        });\n      });\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      const onFocusIn = event => editor.dispatch('focusin', event);\n      const onFocusOut = event => editor.dispatch('focusout', event);\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], gui => {\n          gui.element.dom.addEventListener('focusin', onFocusIn);\n          gui.element.dom.addEventListener('focusout', onFocusOut);\n        });\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], gui => {\n          gui.element.dom.removeEventListener('focusin', onFocusIn);\n          gui.element.dom.removeEventListener('focusout', onFocusOut);\n        });\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n        onElementScroll.unbind();\n      });\n      editor.on('detach', () => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], detachSystem);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => m.destroy());\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$f = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$f,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$e = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: {\n          setGroups,\n          refresh: noop\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$e,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$1 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$1,\n        getBehaviours: getBehaviours$1\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const win = defaultView(containerHeader);\n      const viewHeight = win.dom.innerHeight;\n      const scrollPos = get$c(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$e(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$e(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$f(elm, 'margin-top'), 10) || 0) + (parseInt(get$f(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parentElement(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$d(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$7(elm, 'width');\n          remove$7(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$3(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$3(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$3(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$3(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$4();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              return Optional.from(container).map(c => {\n                const box = box$1(SugarElement.fromDom(c));\n                const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                return optScrollingContext.fold(() => {\n                  const boxHeight = box.height - headerHeight;\n                  const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n                  return bounds(box.x, topBound, box.width, boxHeight);\n                }, scrollEnv => {\n                  const constrainedBounds = constrain(box, getBoundsFrom(scrollEnv));\n                  const constrainedBoundsY = isDockedMode(comp, 'top') ? constrainedBounds.y : constrainedBounds.y + headerHeight;\n                  return bounds(constrainedBounds.x, constrainedBoundsY, constrainedBounds.width, constrainedBounds.height - headerHeight);\n                });\n              });\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$2(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$2(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n            return optScrollingContext.fold(() => {\n              const boundsWithoutOffset = win();\n              const offset = getStickyToolbarOffset(editor);\n              const top = boundsWithoutOffset.y + (isDockedMode(comp, 'top') && !isFullscreen(editor) ? offset : 0);\n              const height = boundsWithoutOffset.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n              return {\n                bounds: bounds(boundsWithoutOffset.x, top, boundsWithoutOffset.width, height),\n                optScrollEnv: Optional.none()\n              };\n            }, sc => {\n              const combinedBounds = getBoundsFrom(sc);\n              return {\n                bounds: combinedBounds,\n                optScrollEnv: Optional.some({\n                  currentScrollTop: sc.element.dom.scrollTop,\n                  scrollElmTop: absolute$3(sc.element).top\n                })\n              };\n            });\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      defaultedOf('search', false, oneOf([\n        boolean,\n        objOf([optionString('placeholder')])\n      ], x => {\n        if (isBoolean(x)) {\n          return x ? Optional.some({ placeholder: Optional.none() }) : Optional.none();\n        } else {\n          return Optional.some(x);\n        }\n      })),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop),\n      defaultedString('context', 'mode:design')\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction,\n      defaultedString('context', 'mode:design')\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$d = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            },\n            context: 'any'\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$d,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const promotionMessage = '\\u26A1\\ufe0fUpgrade';\n    const promotionLink = 'https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral';\n    const renderPromotion = spec => {\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: [{\n            dom: {\n              tag: 'a',\n              attributes: {\n                'href': promotionLink,\n                'rel': 'noopener',\n                'target': '_blank',\n                'aria-hidden': 'true'\n              },\n              classes: ['tox-promotion-link'],\n              innerHtml: promotionMessage\n            }\n          }]\n      };\n    };\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$g(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$7(element, 'display');\n          remove$8(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$4(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          },\n          context: 'any'\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(configKey) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$7(slider.element, 'width');\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          });\n        }\n      });\n    };\n    const updateSidebarRoleOnToggle = (sidebar, sidebarState) => {\n      set$9(sidebar, 'role', sidebarState);\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n              updateSidebarRoleOnToggle(sidebar.element, 'presentation');\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n              updateSidebarRoleOnToggle(sidebar.element, 'region');\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'presentation' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$d(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$7(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$8(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n    const isBlocked = (component, blockingConfig, blockingState) => blockingState.isBlocked();\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock,\n        isBlocked: isBlocked\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$7({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$4({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element, true));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$8(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$8(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$7(element, 'display');\n        remove$8(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$4();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          fireAfterProgressState(editor, state);\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$d(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => Math.ceil(comp.element.dom.getBoundingClientRect().width), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$7(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([])),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y(),\n      onHandler('onToggled')\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false,\n              onToggled: detail.onToggled\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const shouldSkipFocus = value$4();\n    const toggleWithoutFocusing = (button, externals) => {\n      shouldSkipFocus.set(true);\n      toggle(button, externals);\n      shouldSkipFocus.clear();\n    };\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        const skipFocus = shouldSkipFocus.get().getOr(false);\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          if (!skipFocus) {\n            Keying.focusIn(toolbar);\n          }\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        if (!shouldSkipFocus.get().getOr(false)) {\n          Focusing.focus(button);\n        }\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$c = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        toggleWithoutFocusing: button => {\n          toggleWithoutFocusing(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$c,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        toggleWithoutFocusing: (apis, button) => {\n          apis.toggleWithoutFocusing(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$b = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$b\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$a = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        },\n        onToggled: (comp, state) => detail[state ? 'onOpened' : 'onClosed'](comp)\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          toggleWithoutFocusing: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(FloatingToolbarButton.toggleWithoutFocusing);\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$a,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        toggleWithoutFocusing: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail, skipFocus) => {\n      getPart(toolbar, detail, 'overflow-button').each(oveflowButton => {\n        getPart(toolbar, detail, 'overflow').each(overf => {\n          refresh(toolbar, detail);\n          if (Sliding.hasShrunk(overf)) {\n            const fn = detail.onOpened;\n            detail.onOpened = comp => {\n              if (!skipFocus) {\n                Keying.focusIn(overf);\n              }\n              fn(comp);\n              detail.onOpened = fn;\n            };\n          } else {\n            const fn = detail.onClosed;\n            detail.onClosed = comp => {\n              if (!skipFocus) {\n                Focusing.focus(oveflowButton);\n              }\n              fn(comp);\n              detail.onClosed = fn;\n            };\n          }\n          Sliding.toggleGrow(overf);\n        });\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$9 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail, false);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => {\n            toggleToolbar(toolbar, detail, false);\n          },\n          toggleWithoutFocusing: toolbar => {\n            toggleToolbar(toolbar, detail, true);\n          },\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$9,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.label.isNone() ? toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } })) : toolbarGroup.label.fold(() => ({}), label => ({ attributes: { 'aria-label': label } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'].concat(toolbarGroup.label.isSome() ? ['tox-toolbar__group_with_label'] : []),\n          ...attributes\n        },\n        components: [\n          ...toolbarGroup.label.map(label => {\n            return {\n              dom: {\n                tag: 'span',\n                classes: [\n                  'tox-label',\n                  'tox-label--context-toolbar'\n                ]\n              },\n              components: [text$2(label)]\n            };\n          }).toArray(),\n          ToolbarGroup.parts.items({})\n        ],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled]), ' + '.tox-number-input:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarBehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(() => toolbarSpec.providers.checkUiComponentContext('any').shouldDisable),\n        toggleOnReceive(() => toolbarSpec.providers.checkUiComponentContext('any')),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            label: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            context: 'any',\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('Reveal or hide additional toolbar items'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers, [], 'overflow-button')\n        },\n        splitToolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' },\n        onOpened: comp => toolbarSpec.onToggled(comp, true),\n        onClosed: comp => toolbarSpec.onToggled(comp, false)\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n          toolbarSpec.onToggled(comp, true);\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n          toolbarSpec.onToggled(comp, false);\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const baseButtonFields = [\n      optionalText,\n      optionalIcon,\n      optionString('tooltip'),\n      defaultedStringEnum('buttonType', 'secondary', [\n        'primary',\n        'secondary'\n      ]),\n      defaultedBoolean('borderless', false),\n      requiredFunction('onAction'),\n      defaultedString('context', 'mode:design')\n    ];\n    const normalButtonFields = [\n      ...baseButtonFields,\n      text,\n      requiredStringEnum('type', ['button'])\n    ];\n    const toggleButtonFields = [\n      ...baseButtonFields,\n      defaultedBoolean('active', false),\n      requiredStringEnum('type', ['togglebutton'])\n    ];\n    const schemaWithoutGroupButton = {\n      button: normalButtonFields,\n      togglebutton: toggleButtonFields\n    };\n    const groupFields = [\n      requiredStringEnum('type', ['group']),\n      defaultedArrayOf('buttons', [], choose$1('type', schemaWithoutGroupButton))\n    ];\n    const viewButtonSchema = choose$1('type', {\n      ...schemaWithoutGroupButton,\n      group: groupFields\n    });\n\n    const viewSchema = objOf([\n      defaultedArrayOf('buttons', [], viewButtonSchema),\n      requiredFunction('onShow'),\n      requiredFunction('onHide')\n    ]);\n    const createView = spec => asRaw('view', viewSchema, spec);\n\n    const renderButton = (spec, providers) => {\n      var _a, _b;\n      const isToggleButton = spec.type === 'togglebutton';\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const getAction = () => comp => {\n        const setIcon = newIcon => {\n          optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n            Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n          }));\n        };\n        const setActive = state => {\n          const elm = comp.element;\n          if (state) {\n            add$2(elm, 'tox-button--enabled');\n            set$9(elm, 'aria-pressed', true);\n          } else {\n            remove$3(elm, 'tox-button--enabled');\n            remove$8(elm, 'aria-pressed');\n          }\n        };\n        const isActive = () => has(comp.element, 'tox-button--enabled');\n        const focus = () => focus$3(comp.element);\n        if (isToggleButton) {\n          return spec.onAction({\n            setIcon,\n            setActive,\n            isActive,\n            focus\n          });\n        }\n        if (spec.type === 'button') {\n          return spec.onAction({ setIcon });\n        }\n      };\n      const action = getAction();\n      const buttonSpec = {\n        ...spec,\n        name: isToggleButton ? spec.text.getOr(spec.icon.getOr('')) : (_a = spec.text) !== null && _a !== void 0 ? _a : spec.icon.getOr(''),\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: spec.tooltip,\n        icon: spec.icon,\n        enabled: true,\n        borderless: spec.borderless\n      };\n      const buttonTypeClasses = calculateClassesFromButtonType((_b = spec.buttonType) !== null && _b !== void 0 ? _b : 'secondary');\n      const optTranslatedText = isToggleButton ? spec.text.map(providers.translate) : Optional.some(providers.translate(spec.text));\n      const optTranslatedTextComponed = optTranslatedText.map(text$2);\n      const ariaLabelAttributes = buttonSpec.tooltip.or(optTranslatedText).map(al => ({ 'aria-label': providers.translate(al) })).getOr({});\n      const optIconSpec = optMemIcon.map(memIcon => memIcon.asSpec());\n      const components = componentRenderPipeline([\n        optIconSpec,\n        optTranslatedTextComponed\n      ]);\n      const hasIconAndText = spec.icon.isSome() && optTranslatedTextComponed.isSome();\n      const dom = {\n        tag: 'button',\n        classes: buttonTypeClasses.concat(...spec.icon.isSome() && !hasIconAndText ? ['tox-button--icon'] : []).concat(...hasIconAndText ? ['tox-button--icon-and-text'] : []).concat(...spec.borderless ? ['tox-button--naked'] : []).concat(...spec.type === 'togglebutton' && spec.active ? ['tox-button--enabled'] : []),\n        attributes: ariaLabelAttributes\n      };\n      const extraBehaviours = [];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, spec.tooltip, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n\n    const renderViewButton = (spec, providers) => renderButton(spec, providers);\n    const renderButtonsGroup = (spec, providers) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__toolbar__group']\n        },\n        components: map$2(spec.buttons, button => renderViewButton(button, providers))\n      };\n    };\n    const deviceDetection = detect$1().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const renderViewHeader = spec => {\n      let hasGroups = false;\n      const endButtons = map$2(spec.buttons, btnspec => {\n        if (btnspec.type === 'group') {\n          hasGroups = true;\n          return renderButtonsGroup(btnspec, spec.providers);\n        } else {\n          return renderViewButton(btnspec, spec.providers);\n        }\n      });\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: [\n            !hasGroups ? 'tox-view__header' : 'tox-view__toolbar',\n            ...isPhone || isTablet ? [\n              'tox-view--mobile',\n              'tox-view--scrolling'\n            ] : []\n          ]\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            selector: 'button, .tox-button',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        components: hasGroups ? endButtons : [\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-start']\n            },\n            components: []\n          }),\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-end']\n            },\n            components: endButtons\n          })\n        ]\n      };\n    };\n    const renderViewPane = spec => {\n      return {\n        uid: spec.uid,\n        behaviours: derive$1([\n          Focusing.config({}),\n          Tabstopping.config({})\n        ]),\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__pane']\n        }\n      };\n    };\n    const factory$8 = (detail, components, _spec, _externals) => {\n      const apis = {\n        getPane: comp => parts$a.getPart(comp, detail, 'pane'),\n        getOnShow: _comp => detail.viewConfig.onShow,\n        getOnHide: _comp => detail.viewConfig.onHide\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        apis\n      };\n    };\n    var View = composite({\n      name: 'silver.View',\n      configFields: [required$1('viewConfig')],\n      partFields: [\n        optional({\n          factory: { sketch: renderViewHeader },\n          schema: [\n            required$1('buttons'),\n            required$1('providers')\n          ],\n          name: 'header'\n        }),\n        optional({\n          factory: { sketch: renderViewPane },\n          schema: [],\n          name: 'pane'\n        })\n      ],\n      factory: factory$8,\n      apis: {\n        getPane: (apis, comp) => apis.getPane(comp),\n        getOnShow: (apis, comp) => apis.getOnShow(comp),\n        getOnHide: (apis, comp) => apis.getOnHide(comp)\n      }\n    });\n\n    const makeViews = (parts, viewConfigs, providers) => {\n      return mapToArray(viewConfigs, (config, name) => {\n        const internalViewConfig = getOrDie(createView(config));\n        return parts.slot(name, View.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-view']\n          },\n          viewConfig: internalViewConfig,\n          components: [\n            ...internalViewConfig.buttons.length > 0 ? [View.parts.header({\n                buttons: internalViewConfig.buttons,\n                providers\n              })] : [],\n            View.parts.pane({})\n          ]\n        }));\n      });\n    };\n    const makeSlotContainer = (viewConfigs, providers) => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-view-wrap__slot-container']\n      },\n      components: makeViews(parts, viewConfigs, providers),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const getCurrentName = slotContainer => {\n      return find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name));\n    };\n    const hideContainer = comp => {\n      const element = comp.element;\n      set$8(element, 'display', 'none');\n      set$9(element, 'aria-hidden', 'true');\n    };\n    const showContainer = comp => {\n      const element = comp.element;\n      remove$7(element, 'display');\n      remove$8(element, 'aria-hidden');\n    };\n    const makeViewInstanceApi = slot => ({ getContainer: constant$1(slot) });\n    const runOnPaneWithInstanceApi = (slotContainer, name, get) => {\n      SlotContainer.getSlot(slotContainer, name).each(view => {\n        View.getPane(view).each(pane => {\n          const onCallback = get(view);\n          onCallback(makeViewInstanceApi(pane.element.dom));\n        });\n      });\n    };\n    const runOnShow = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnShow);\n    const runOnHide = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnHide);\n    const factory$7 = (detail, spec) => {\n      const setViews = (comp, viewConfigs) => {\n        Replacing.set(comp, [makeSlotContainer(viewConfigs, spec.backstage.shared.providers)]);\n      };\n      const whichView = comp => {\n        return Composing.getCurrent(comp).bind(getCurrentName);\n      };\n      const toggleView = (comp, showMainView, hideMainView, name) => {\n        return Composing.getCurrent(comp).exists(slotContainer => {\n          const optCurrentSlotName = getCurrentName(slotContainer);\n          const isTogglingCurrentView = optCurrentSlotName.exists(current => name === current);\n          const exists = SlotContainer.getSlot(slotContainer, name).isSome();\n          if (exists) {\n            SlotContainer.hideAllSlots(slotContainer);\n            if (!isTogglingCurrentView) {\n              hideMainView();\n              showContainer(comp);\n              SlotContainer.showSlot(slotContainer, name);\n              runOnShow(slotContainer, name);\n            } else {\n              hideContainer(comp);\n              showMainView();\n            }\n            optCurrentSlotName.each(prevName => runOnHide(slotContainer, prevName));\n          }\n          return exists;\n        });\n      };\n      const apis = {\n        setViews,\n        whichView,\n        toggleView\n      };\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view-wrap'],\n          attributes: { 'aria-hidden': 'true' },\n          styles: { display: 'none' }\n        },\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          Composing.config({\n            find: comp => {\n              const children = Replacing.contents(comp);\n              return head(children);\n            }\n          })\n        ]),\n        apis\n      };\n    };\n    var ViewWrapper = single({\n      factory: factory$7,\n      name: 'silver.ViewWrapper',\n      configFields: [required$1('backstage')],\n      apis: {\n        setViews: (apis, comp, views) => apis.setViews(comp, views),\n        toggleView: (apis, comp, outerContainer, editorCont, name) => apis.toggleView(comp, outerContainer, editorCont, name),\n        whichView: (apis, comp) => apis.whichView(comp)\n      }\n    });\n\n    const factory$6 = (detail, components, _spec) => {\n      let toolbarDrawerOpenState = false;\n      const toggleStatusbar = editorContainer => {\n        sibling(editorContainer, '.tox-statusbar').each(statusBar => {\n          if (get$f(statusBar, 'display') === 'none' && get$g(statusBar, 'aria-hidden') === 'true') {\n            remove$7(statusBar, 'display');\n            remove$8(statusBar, 'aria-hidden');\n          } else {\n            set$8(statusBar, 'display', 'none');\n            set$9(statusBar, 'aria-hidden', 'true');\n          }\n        });\n      };\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            const renderedGroups = map$2(groups, renderToolbarGroup);\n            toolbar.getApis().setGroups(toolbar, renderedGroups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            const renderedToolbars = map$2(toolbars, g => map$2(g, renderToolbarGroup));\n            CustomList.setItems(mToolbar, renderedToolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        toggleToolbarDrawerWithoutFocusing: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggleWithoutFocusing, toggleWithoutFocusing => toggleWithoutFocusing(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        },\n        setViews: (comp, viewConfigs) => {\n          parts$a.getPart(comp, detail, 'viewWrapper').each(wrapper => {\n            ViewWrapper.setViews(wrapper, viewConfigs);\n          });\n        },\n        toggleView: (comp, name) => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').exists(wrapper => ViewWrapper.toggleView(wrapper, () => apis.showMainView(comp), () => apis.hideMainView(comp), name));\n        },\n        whichView: comp => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').bind(ViewWrapper.whichView).getOrNull();\n        },\n        hideMainView: comp => {\n          toolbarDrawerOpenState = apis.isToolbarDrawerToggled(comp);\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            toggleStatusbar(element);\n            set$8(element, 'display', 'none');\n            set$9(element, 'aria-hidden', 'true');\n          });\n        },\n        showMainView: comp => {\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            toggleStatusbar(element);\n            remove$7(element, 'display');\n            remove$8(element, 'aria-hidden');\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            onToggled: (_comp, state) => spec.onToolbarToggled(state),\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partPromotion = partType.optional({\n      factory: { sketch: renderPromotion },\n      name: 'promotion',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    const partViewWrapper = partType.optional({\n      factory: ViewWrapper,\n      name: 'viewWrapper',\n      schema: [required$1('backstage')]\n    });\n    const renderEditorContainer = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-editor-container']\n      },\n      components: spec.components\n    });\n    const partEditorContainer = partType.optional({\n      factory: { sketch: renderEditorContainer },\n      name: 'editorContainer',\n      schema: []\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partPromotion,\n        partThrobber,\n        partViewWrapper,\n        partEditorContainer\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, groups) => {\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, toolbars) => {\n          apis.setToolbars(comp, toolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        toggleToolbarDrawerWithoutFocusing: (apis, comp) => {\n          apis.toggleToolbarDrawerWithoutFocusing(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        },\n        setViews: (apis, comp, views) => {\n          apis.setViews(comp, views);\n        },\n        toggleView: (apis, comp, name) => {\n          return apis.toggleView(comp, name);\n        },\n        whichView: (apis, comp) => {\n          return apis.whichView(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      return items.split(' ');\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$h(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => isString(item) || item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const getSkinResourceIdentifier = editor => {\n      const skin = getSkin(editor);\n      if (!skin) {\n        return Optional.none();\n      } else {\n        return Optional.from(skin);\n      }\n    };\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadRawCss = (editor, key, css, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unloadRawCss(key));\n      return styleSheetLoader.loadRawCss(key, css);\n    };\n    const skinIdentifierToResourceKey = (identifier, filename) => 'ui/' + identifier + '/' + filename;\n    const getResourceValue = resourceKey => Optional.from(tinymce.Resource.get(resourceKey)).filter(isString);\n    const determineCSSDecision = (editor, filenameBase, skinUrl = '') => {\n      const resourceKey = getSkinResourceIdentifier(editor).map(identifier => skinIdentifierToResourceKey(identifier, `${ filenameBase }.css`));\n      const resourceValue = resourceKey.bind(getResourceValue);\n      return lift2(resourceKey, resourceValue, (key, css) => {\n        return {\n          _kind: 'load-raw',\n          key,\n          css\n        };\n      }).getOrThunk(() => {\n        const suffix = editor.editorManager.suffix;\n        const skinUiCssUrl = skinUrl + `/${ filenameBase }${ suffix }.css`;\n        return {\n          _kind: 'load-stylesheet',\n          url: skinUiCssUrl\n        };\n      });\n    };\n    const loadUiSkins = (editor, skinUrl) => {\n      const loader = editor.ui.styleSheetLoader;\n      const decision = determineCSSDecision(editor, 'skin', skinUrl);\n      switch (decision._kind) {\n      case 'load-raw':\n        const {key, css} = decision;\n        loadRawCss(editor, key, css, loader);\n        return Promise.resolve();\n      case 'load-stylesheet':\n        const {url} = decision;\n        return loadStylesheet(editor, url, loader);\n      default:\n        return Promise.resolve();\n      }\n    };\n    const loadShadowDomUiSkins = (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (!isInShadowRoot$1) {\n        return Promise.resolve();\n      } else {\n        const loader = global$8.DOM.styleSheetLoader;\n        const decision = determineCSSDecision(editor, 'skin.shadowdom', skinUrl);\n        switch (decision._kind) {\n        case 'load-raw':\n          const {key, css} = decision;\n          loadRawCss(editor, key, css, loader);\n          return Promise.resolve();\n        case 'load-stylesheet':\n          const {url} = decision;\n          return loadStylesheet(editor, url, loader);\n        default:\n          return Promise.resolve();\n        }\n      }\n    };\n    const loadUiContentCSS = (editor, isInline, skinUrl) => {\n      const filenameBase = isInline ? 'content.inline' : 'content';\n      const decision = determineCSSDecision(editor, filenameBase, skinUrl);\n      switch (decision._kind) {\n      case 'load-raw':\n        const {key, css} = decision;\n        if (isInline) {\n          loadRawCss(editor, key, css, editor.ui.styleSheetLoader);\n        } else {\n          editor.on('PostRender', () => {\n            loadRawCss(editor, key, css, editor.dom.styleSheetLoader);\n          });\n        }\n        return Promise.resolve();\n      case 'load-stylesheet':\n        const {url} = decision;\n        if (skinUrl) {\n          editor.contentCSS.push(url);\n        }\n        return Promise.resolve();\n      default:\n        return Promise.resolve();\n      }\n    };\n    const loadUrlSkin = async (isInline, editor) => {\n      const skinUrl = getSkinUrl(editor);\n      await loadUiContentCSS(editor, isInline, skinUrl);\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        return Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      return loadUrlSkin(isInline, editor).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const makeTooltipText = (editor, labelWithPlaceholder, value) => isEmpty(value) ? editor.translate(labelWithPlaceholder) : editor.translate([\n      labelWithPlaceholder,\n      editor.translate(value)\n    ]);\n\n    const generateSelectItems = (backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n          isHorizontalMenu: false,\n          search: Optional.none()\n        });\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec, getTooltip, textUpdateEventName, btnName) => {\n      const {items, getStyleItems} = createMenuItems(backstage, spec);\n      const tooltipString = Cell(spec.tooltip);\n      const getApi = comp => ({\n        getComponent: constant$1(comp),\n        setTooltip: tooltip => {\n          const translatedTooltip = backstage.shared.providers.translate(tooltip);\n          set$9(comp.element, 'aria-label', translatedTooltip);\n          tooltipString.set(tooltip);\n        }\n      });\n      const onSetup = api => {\n        const handler = e => api.setTooltip(makeTooltipText(editor, getTooltip(e.value), e.value));\n        editor.on(textUpdateEventName, handler);\n        return composeUnbinders(onSetupEvent(editor, 'NodeChange', api => {\n          const comp = api.getComponent();\n          spec.updateText(comp);\n          Disabling.set(api.getComponent(), !editor.selection.isEditable());\n        })(api), () => editor.off(textUpdateEventName, handler));\n      };\n      return renderCommonDropdown({\n        context: 'mode:design',\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        ariaLabel: Optional.some(spec.tooltip),\n        tooltip: Optional.none(),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: [Tooltipping.config({\n            ...backstage.shared.providers.tooltips.getConfig({\n              tooltipText: backstage.shared.providers.translate(spec.tooltip),\n              onShow: comp => {\n                if (spec.tooltip !== tooltipString.get()) {\n                  const translatedTooltip = backstage.shared.providers.translate(tooltipString.get());\n                  Tooltipping.setComponents(comp, backstage.shared.providers.tooltips.getComponents({ tooltipText: translatedTooltip }));\n                }\n              }\n            })\n          })]\n      }, 'tox-tbtn', backstage.shared, btnName);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const menuTitle$4 = 'Align';\n    const getTooltipPlaceholder$4 = constant$1('Alignment {0}');\n    const fallbackAlignment = 'left';\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1(fallbackAlignment), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n        fireAlignTextUpdate(editor, { value: alignment });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$4(), fallbackAlignment),\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor), getTooltipPlaceholder$4, 'AlignTextUpdate', 'align');\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate(menuTitle$4),\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt));\n    };\n\n    const menuTitle$3 = 'Blocks';\n    const getTooltipPlaceholder$3 = constant$1('Block {0}');\n    const fallbackFormat = 'Paragraph';\n    const getSpec$3 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        if (fmt) {\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n        fireBlocksTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$3(), fallbackFormat),\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor), getTooltipPlaceholder$3, 'BlocksTextUpdate', 'blocks');\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: menuTitle$3,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const menuTitle$2 = 'Fonts';\n    const getTooltipPlaceholder$2 = constant$1('Font {0}');\n    const systemFont = 'System Font';\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const matchesStack = (fonts, stack) => stack.length > 0 && forall(stack, font => fonts.indexOf(font.toLowerCase()) > -1);\n    const isSystemFontStack = (fontFamily, userStack) => {\n      if (fontFamily.indexOf('-apple-system') === 0 || userStack.length > 0) {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return matchesStack(fonts, systemStackFonts) || matchesStack(fonts, userStack);\n      } else {\n        return false;\n      }\n    };\n    const getSpec$2 = editor => {\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const userStack = getDefaultFontStack(editor);\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font, userStack), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n        fireFontFamilyTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$2(), systemFont),\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor), getTooltipPlaceholder$2, 'FontFamilyTextUpdate', 'fontfamily');\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate(menuTitle$2),\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const Keys = {\n      tab: constant$1(9),\n      escape: constant$1(27),\n      enter: constant$1(13),\n      backspace: constant$1(8),\n      delete: constant$1(46),\n      left: constant$1(37),\n      up: constant$1(38),\n      right: constant$1(39),\n      down: constant$1(40),\n      space: constant$1(32),\n      home: constant$1(36),\n      end: constant$1(35),\n      pageUp: constant$1(33),\n      pageDown: constant$1(34)\n    };\n\n    const createBespokeNumberInput = (editor, backstage, spec, btnName) => {\n      let currentComp = Optional.none();\n      const getValueFromCurrentComp = comp => comp.map(alloyComp => Representing.getValue(alloyComp)).getOr('');\n      const onSetup = onSetupEvent(editor, 'NodeChange SwitchMode DisabledStateChange', api => {\n        const comp = api.getComponent();\n        currentComp = Optional.some(comp);\n        spec.updateInputValue(comp);\n        Disabling.set(comp, !editor.selection.isEditable() || isDisabled(editor));\n      });\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const editorOffCell = Cell(noop);\n      const customEvents = generate$6('custom-number-input-events');\n      const changeValue = (f, fromInput, focusBack) => {\n        const text = getValueFromCurrentComp(currentComp);\n        const newValue = spec.getNewValue(text, f);\n        const lenghtDelta = text.length - `${ newValue }`.length;\n        const oldStart = currentComp.map(comp => comp.element.dom.selectionStart - lenghtDelta);\n        const oldEnd = currentComp.map(comp => comp.element.dom.selectionEnd - lenghtDelta);\n        spec.onAction(newValue, focusBack);\n        currentComp.each(comp => {\n          Representing.setValue(comp, newValue);\n          if (fromInput) {\n            oldStart.each(oldStart => comp.element.dom.selectionStart = oldStart);\n            oldEnd.each(oldEnd => comp.element.dom.selectionEnd = oldEnd);\n          }\n        });\n      };\n      const decrease = (fromInput, focusBack) => changeValue((n, s) => n - s, fromInput, focusBack);\n      const increase = (fromInput, focusBack) => changeValue((n, s) => n + s, fromInput, focusBack);\n      const goToParent = comp => parentElement(comp.element).fold(Optional.none, parent => {\n        focus$3(parent);\n        return Optional.some(true);\n      });\n      const focusInput = comp => {\n        if (hasFocus(comp.element)) {\n          firstChild(comp.element).each(input => focus$3(input));\n          return Optional.some(true);\n        } else {\n          return Optional.none();\n        }\n      };\n      const makeStepperButton = (action, title, tooltip, classes) => {\n        const editorOffCellStepButton = Cell(noop);\n        const translatedTooltip = backstage.shared.providers.translate(tooltip);\n        const altExecuting = generate$6('altExecuting');\n        const onSetup = onSetupEvent(editor, 'NodeChange SwitchMode DisabledStateChange', api => {\n          Disabling.set(api.getComponent(), !editor.selection.isEditable() || isDisabled(editor));\n        });\n        const onClick = comp => {\n          if (!Disabling.isDisabled(comp)) {\n            action(true);\n          }\n        };\n        return Button.sketch({\n          dom: {\n            tag: 'button',\n            attributes: {\n              'aria-label': translatedTooltip,\n              'data-mce-name': title\n            },\n            classes: classes.concat(title)\n          },\n          components: [renderIconFromPack$1(title, backstage.shared.providers.icons)],\n          buttonBehaviours: derive$1([\n            Disabling.config({}),\n            Tooltipping.config(backstage.shared.providers.tooltips.getConfig({ tooltipText: translatedTooltip })),\n            config(altExecuting, [\n              onControlAttached({\n                onSetup,\n                getApi\n              }, editorOffCellStepButton),\n              onControlDetached({ getApi }, editorOffCellStepButton),\n              run$1(keydown(), (comp, se) => {\n                if (se.event.raw.keyCode === Keys.space() || se.event.raw.keyCode === Keys.enter()) {\n                  if (!Disabling.isDisabled(comp)) {\n                    action(false);\n                  }\n                }\n              }),\n              run$1(click(), onClick),\n              run$1(touchend(), onClick)\n            ])\n          ]),\n          eventOrder: {\n            [keydown()]: [\n              altExecuting,\n              'keying'\n            ],\n            [click()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [touchend()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [attachedToDom()]: [\n              'alloy.base.behaviour',\n              altExecuting,\n              'tooltipping'\n            ],\n            [detachedFromDom()]: [\n              altExecuting,\n              'tooltipping'\n            ]\n          }\n        });\n      };\n      const memMinus = record(makeStepperButton(focusBack => decrease(false, focusBack), 'minus', 'Decrease font size', []));\n      const memPlus = record(makeStepperButton(focusBack => increase(false, focusBack), 'plus', 'Increase font size', []));\n      const memInput = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-input-wrapper']\n        },\n        components: [Input.sketch({\n            inputBehaviours: derive$1([\n              Disabling.config({}),\n              config(customEvents, [\n                onControlAttached({\n                  onSetup,\n                  getApi\n                }, editorOffCell),\n                onControlDetached({ getApi }, editorOffCell)\n              ]),\n              config('input-update-display-text', [\n                run$1(updateMenuText, (comp, se) => {\n                  Representing.setValue(comp, se.event.text);\n                }),\n                run$1(focusout(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                }),\n                run$1(change(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onEnter: _comp => {\n                  changeValue(identity, true, true);\n                  return Optional.some(true);\n                },\n                onEscape: goToParent,\n                onUp: _comp => {\n                  increase(true, false);\n                  return Optional.some(true);\n                },\n                onDown: _comp => {\n                  decrease(true, false);\n                  return Optional.some(true);\n                },\n                onLeft: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                },\n                onRight: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                }\n              })\n            ])\n          })],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEnter: focusInput,\n            onSpace: focusInput,\n            onEscape: goToParent\n          }),\n          config('input-wrapper-events', [run$1(mouseover(), comp => {\n              each$1([\n                memMinus,\n                memPlus\n              ], button => {\n                const buttonNode = SugarElement.fromDom(button.get(comp).element.dom);\n                if (hasFocus(buttonNode)) {\n                  blur$1(buttonNode);\n                }\n              });\n            })])\n        ])\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-number-input'],\n          attributes: { ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {} }\n        },\n        components: [\n          memMinus.asSpec(),\n          memInput.asSpec(),\n          memPlus.asSpec()\n        ],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode,\n            cycles: false,\n            selector: 'button, .tox-input-wrapper',\n            onEscape: wrapperComp => {\n              if (hasFocus(wrapperComp.element)) {\n                return Optional.none();\n              } else {\n                focus$3(wrapperComp.element);\n                return Optional.some(true);\n              }\n            }\n          })\n        ])\n      };\n    };\n\n    const menuTitle$1 = 'Font sizes';\n    const getTooltipPlaceholder$1 = constant$1('Font size {0}');\n    const fallbackFontSize = '12pt';\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$h(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$h(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n        fireFontSizeTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$1(), fallbackFontSize),\n        text: Optional.some(fallbackFontSize),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor), getTooltipPlaceholder$1, 'FontSizeTextUpdate', 'fontsize');\n    const getConfigFromUnit = unit => {\n      var _a;\n      const baseConfig = { step: 1 };\n      const configs = {\n        em: { step: 0.1 },\n        cm: { step: 0.1 },\n        in: { step: 0.1 },\n        pc: { step: 0.1 },\n        ch: { step: 0.1 },\n        rem: { step: 0.1 }\n      };\n      return (_a = configs[unit]) !== null && _a !== void 0 ? _a : baseConfig;\n    };\n    const defaultValue = 16;\n    const isValidValue = value => value >= 0;\n    const getNumberInputSpec = editor => {\n      const getCurrentValue = () => editor.queryCommandValue('FontSize');\n      const updateInputValue = comp => emitWith(comp, updateMenuText, { text: getCurrentValue() });\n      return {\n        updateInputValue,\n        onAction: (format, focusBack) => editor.execCommand('FontSize', false, format, { skip_focus: !focusBack }),\n        getNewValue: (text, updateFunction) => {\n          parse(text, [\n            'unsupportedLength',\n            'empty'\n          ]);\n          const currentValue = getCurrentValue();\n          const parsedText = parse(text, [\n            'unsupportedLength',\n            'empty'\n          ]).or(parse(currentValue, [\n            'unsupportedLength',\n            'empty'\n          ]));\n          const value = parsedText.map(res => res.value).getOr(defaultValue);\n          const defaultUnit = getFontSizeInputDefaultUnit(editor);\n          const unit = parsedText.map(res => res.unit).filter(u => u !== '').getOr(defaultUnit);\n          const newValue = updateFunction(value, getConfigFromUnit(unit).step);\n          const res = `${ isValidValue(newValue) ? newValue : value }${ unit }`;\n          if (res !== currentValue) {\n            fireFontSizeInputTextUpdate(editor, { value: res });\n          }\n          return res;\n        }\n      };\n    };\n    const createFontSizeInputButton = (editor, backstage) => createBespokeNumberInput(editor, backstage, getNumberInputSpec(editor), 'fontsizeinput');\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: menuTitle$1,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const menuTitle = 'Formats';\n    const getTooltipPlaceholder = value => isEmpty(value) ? 'Formats' : 'Format {0}';\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Formats';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          if (isNestedFormat(fmt)) {\n            return bind$3(fmt.items, getFormatItems);\n          } else if (isFormatReference(fmt)) {\n            return [{\n                title: fmt.title,\n                format: fmt.format\n              }];\n          } else {\n            return [];\n          }\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1({\n          title: fallbackFormat,\n          tooltipLabel: ''\n        }), fmt => ({\n          title: fmt.title,\n          tooltipLabel: fmt.title\n        }));\n        emitWith(comp, updateMenuText, { text: text.title });\n        fireStylesTextUpdate(editor, { value: text.tooltipLabel });\n      };\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder(''), ''),\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset), getTooltipPlaceholder, 'StylesTextUpdate', 'styles');\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: menuTitle,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role'),\n      option$3('listRole')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$9(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({ 'aria-label': providersBackstage.translate(tooltip) })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (optIcon, optText, tooltip, behaviours, providersBackstage, context, btnName) => {\n      const optMemDisplayText = optText.map(text => record(renderLabel$1(text, 'tox-tbtn', providersBackstage)));\n      const optMemDisplayIcon = optIcon.map(icon => record(renderReplaceableIconFromPack(icon, providersBackstage.icons)));\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(optText.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: {\n            ...getTooltipAttributes(tooltip, providersBackstage),\n            ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n          }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec())\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            commonButtonDisplayEvent\n          ],\n          [attachedToDom()]: [\n            commonButtonDisplayEvent,\n            'toolbar-group-button-events'\n          ],\n          [detachedFromDom()]: [\n            commonButtonDisplayEvent,\n            'toolbar-group-button-events',\n            'tooltipping'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(() => providersBackstage.checkUiComponentContext(context).shouldDisable),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext(context)),\n          config(commonButtonDisplayEvent, [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(providersBackstage.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, providersBackstage.icons)]);\n              });\n            }),\n            run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })\n          ])\n        ].concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes, btnName) => {\n      const sharedBackstage = backstage.shared;\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        toolbarButtonBehaviours: [],\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      };\n      const behaviours = [\n        config('toolbar-group-button-events', [\n          onControlAttached(specialisation, editorOffCell),\n          onControlDetached(specialisation, editorOffCell)\n        ]),\n        ...spec.tooltip.map(t => Tooltipping.config(backstage.shared.providers.tooltips.getConfig({ tooltipText: backstage.shared.providers.translate(t) }))).toArray()\n      ];\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.some(behaviours), sharedBackstage.providers, spec.context, btnName),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage, btnName) => {\n      var _d;\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), providersBackstage, spec.context, btnName);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: {\n          ...derive$1([\n            config('toolbar-button-events', [\n              onToolbarButtonExecute({\n                onAction: spec.onAction,\n                getApi: specialisation.getApi\n              }),\n              onControlAttached(specialisation, editorOffCell),\n              onControlDetached(specialisation, editorOffCell)\n            ]),\n            ...spec.tooltip.map(t => Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate(t) + spec.shortcut.map(shortcut => ` (${ convertText(shortcut) })`).getOr('') }))).toArray(),\n            DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.checkUiComponentContext(spec.context).shouldDisable),\n            toggleOnReceive(() => providersBackstage.checkUiComponentContext(spec.context))\n          ].concat(specialisation.toolbarButtonBehaviours)),\n          [commonButtonDisplayEvent]: (_d = structure.buttonBehaviours) === null || _d === void 0 ? void 0 : _d[commonButtonDisplayEvent]\n        }\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage, btnName) => renderToolbarButtonWith(spec, providersBackstage, [], btnName);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents, btnName) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : [],\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage, btnName);\n    const renderToolbarToggleButton = (spec, providersBackstage, btnName) => renderToolbarToggleButtonWith(spec, providersBackstage, [], btnName);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents, btnName) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage, btnName);\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage, btnName) => {\n      const tooltipString = Cell(spec.tooltip.getOr(''));\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, `svg path[class=\"${ id }\"], rect[class=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn)),\n        setText: text => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuText, { text }))),\n        setIcon: icon => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuIcon, { icon }))),\n        setTooltip: tooltip => {\n          const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n          set$9(comp.element, 'aria-label', translatedTooltip);\n          tooltipString.set(tooltip);\n        }\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers),\n            ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n          }\n        },\n        onExecute: button => {\n          const api = getApi(button);\n          if (api.isEnabled()) {\n            spec.onAction(api);\n          }\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          config('split-dropdown-events', [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.splitButton(() => sharedBackstage.providers.isDisabled() || sharedBackstage.providers.checkUiComponentContext(spec.context).shouldDisable),\n          toggleOnReceive(() => sharedBackstage.providers.checkUiComponentContext(spec.context)),\n          Unselecting.config({}),\n          ...spec.tooltip.map(tooltip => {\n            return Tooltipping.config({\n              ...sharedBackstage.providers.tooltips.getConfig({\n                tooltipText: sharedBackstage.providers.translate(tooltip),\n                onShow: comp => {\n                  if (tooltipString.get() !== tooltip) {\n                    const translatedTooltip = sharedBackstage.providers.translate(tooltipString.get());\n                    Tooltipping.setComponents(comp, sharedBackstage.providers.tooltips.getComponents({ tooltipText: translatedTooltip }));\n                  }\n                }\n              })\n            });\n          }).toArray()\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events',\n            'tooltipping'\n          ],\n          [detachedFromDom()]: [\n            'split-dropdown-events',\n            'tooltipping'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some([\n            Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            }),\n            DisablingConfigs.toolbarButton(never),\n            toggleOnReceive(constant$1({\n              contextType: 'any',\n              shouldDisable: false\n            }))\n          ]), sharedBackstage.providers, spec.context)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$3('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(never),\n              toggleOnReceive(constant$1({\n                contextType: 'any',\n                shouldDisable: false\n              }))\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'ai',\n        items: [\n          'aidialog',\n          'aishortcuts'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, backstage, editor, btnName) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, backstage, editor, btnName);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, backstage, _, btnName) => renderToolbarButton(s, backstage.shared.providers, btnName)),\n      togglebutton: renderFromBridge(createToggleButton, (s, backstage, _, btnName) => renderToolbarToggleButton(s, backstage.shared.providers, btnName)),\n      menubutton: renderFromBridge(createMenuButton, (s, backstage, _, btnName) => renderMenuButton(s, 'tox-tbtn', backstage, Optional.none(), false, btnName)),\n      splitbutton: renderFromBridge(createSplitButton, (s, backstage, _, btnName) => renderSplitButton(s, backstage.shared, btnName)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, backstage, editor, btnName) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, backstage, Optional.none());\n        const attributes = { [Attribute]: backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, backstage, identify, attributes, btnName);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      })\n    };\n    const extractFrom = (spec, backstage, editor, btnName) => get$h(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, backstage, editor, btnName)));\n    const bespokeButtons = {\n      styles: createStylesButton,\n      fontsize: createFontSizeButton,\n      fontsizeinput: createFontSizeInputButton,\n      fontfamily: createFontFamilyButton,\n      blocks: createBlocksButton,\n      align: createAlignButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => (has$2(t, 'name') || has$2(t, 'label')) && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, backstage, prefixes) => get$h(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$h(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$h(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, backstage)), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, backstage, editor, toolbarItem.toLowerCase());\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, backstage, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, backstage, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          label: someIf(group.label !== undefined, editor.translate(group.label)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiRefs, rawUiConfig, backstage) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, backstage, Optional.none());\n        });\n        OuterContainer.setToolbars(outerContainer, toolbars);\n      } else {\n        OuterContainer.setToolbar(outerContainer, identifyButtons(editor, rawUiConfig, backstage, Optional.none()));\n      }\n    };\n\n    const detection = detect$1();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiRefs) => {\n      const {uiMotherships} = uiRefs;\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => {\n        fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      editor.on('hide', () => {\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      });\n      editor.on('show', () => {\n        each$1(uiMotherships, m => {\n          remove$7(m.element, 'display');\n        });\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const attachUiMotherships = (editor, uiRoot, uiRefs) => {\n      if (isSplitUiMode(editor)) {\n        attachSystemAfter(uiRefs.mainUi.mothership.element, uiRefs.popupUi.mothership);\n      }\n      attachSystem(uiRoot, uiRefs.dialogUi.mothership);\n    };\n    const render$1 = (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = mainUi.outerContainer;\n      iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, mainUi.mothership);\n      attachUiMotherships(editor, uiRoot, uiRefs);\n      editor.on('PostRender', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n      });\n      editor.on('SkinLoaded', () => {\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setViews(outerContainer, rawUiConfig.views);\n        setupEvents$1(editor, uiRefs);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupEventsForUi(editor, uiRefs);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        fireToggleSidebar(editor);\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => {\n        var _a;\n        return (_a = OuterContainer.whichSidebar(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      editor.addCommand('ToggleView', (_ui, value) => {\n        if (OuterContainer.toggleView(outerContainer, value)) {\n          const target = outerContainer.element;\n          mainUi.mothership.broadcastOn([dismissPopups()], { target });\n          each$1(uiMotherships, m => {\n            m.broadcastOn([dismissPopups()], { target });\n          });\n          if (isNull(OuterContainer.whichView(outerContainer))) {\n            editor.focus();\n            editor.nodeChanged();\n            OuterContainer.refreshToolbar(outerContainer);\n          }\n          fireToggleView(editor);\n        }\n      });\n      editor.addQueryValueHandler('ToggleView', () => {\n        var _a;\n        return (_a = OuterContainer.whichView(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiRefs.mainUi.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          const eventType = state ? 'setEnabled' : 'setDisabled';\n          broadcastEvents(uiRefs, eventType);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const maximumDistanceToEdge = 40;\n    const InlineHeader = (editor, targetElm, uiRefs, backstage, floatContainer) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const DOM = global$8.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const minimumToolbarWidth = 150;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$e(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$e(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$e(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        floatContainer.on(container => {\n          Docking.setModes(container, [mode]);\n          headerBackstage.setDockingMode(mode);\n          const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n          set$9(container.element, Attribute, verticalDir);\n        });\n      };\n      const updateChromeWidth = () => {\n        floatContainer.on(container => {\n          const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n            return getBounds$3().width - viewport$1(targetElm).left - 10;\n          });\n          set$8(container.element, 'max-width', maxWidth + 'px');\n        });\n      };\n      const updateChromePosition = (isOuterContainerWidthRestored, prevScroll) => {\n        floatContainer.on(container => {\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const targetBounds = box$1(targetElm);\n          const offsetParent = getOffsetParent$1(editor, mainUi.outerContainer.element);\n          const getLeft = () => offsetParent.fold(() => targetBounds.x, offsetParent => {\n            const offsetBox = box$1(offsetParent);\n            const isOffsetParentBody = eq(offsetParent, body());\n            return isOffsetParentBody ? targetBounds.x : targetBounds.x - offsetBox.x;\n          });\n          const getTop = () => offsetParent.fold(() => isPositionedAtTop() ? Math.max(targetBounds.y - get$e(container.element) + offset, 0) : targetBounds.bottom, offsetParent => {\n            var _a;\n            const offsetBox = box$1(offsetParent);\n            const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n            const isOffsetParentBody = eq(offsetParent, body());\n            const topValue = isOffsetParentBody ? Math.max(targetBounds.y - get$e(container.element) + offset, 0) : targetBounds.y - offsetBox.y + scrollDelta - get$e(container.element) + offset;\n            return isPositionedAtTop() ? topValue : targetBounds.bottom;\n          });\n          const left = getLeft();\n          const widthProperties = someIf(isOuterContainerWidthRestored, Math.ceil(mainUi.outerContainer.element.dom.getBoundingClientRect().width)).filter(w => w > minimumToolbarWidth).map(toolbarWidth => {\n            const scroll = prevScroll.getOr(get$c());\n            const availableWidth = window.innerWidth - (left - scroll.left);\n            const width = Math.max(Math.min(toolbarWidth, availableWidth), minimumToolbarWidth);\n            if (availableWidth < toolbarWidth) {\n              set$8(mainUi.outerContainer.element, 'width', width + 'px');\n            }\n            return { width: width + 'px' };\n          }).getOr({ width: 'max-content' });\n          const baseProperties = {\n            position: 'absolute',\n            left: Math.round(left) + 'px',\n            top: getTop() + 'px'\n          };\n          setAll(mainUi.outerContainer.element, {\n            ...baseProperties,\n            ...widthProperties\n          });\n        });\n      };\n      const getOffsetParent$1 = (editor, element) => isSplitUiMode(editor) ? getOffsetParent(element) : Optional.none();\n      const repositionPopups$1 = () => {\n        each$1(uiMotherships, m => {\n          m.broadcastOn([repositionPopups()], {});\n        });\n      };\n      const restoreOuterContainerWidth = () => {\n        if (!useFixedToolbarContainer) {\n          const toolbarCurrentRightsidePosition = absolute$3(mainUi.outerContainer.element).left + getOuter$1(mainUi.outerContainer.element);\n          if (toolbarCurrentRightsidePosition >= window.innerWidth - maximumDistanceToEdge || getRaw(mainUi.outerContainer.element, 'width').isSome()) {\n            set$8(mainUi.outerContainer.element, 'position', 'absolute');\n            set$8(mainUi.outerContainer.element, 'left', '0px');\n            remove$7(mainUi.outerContainer.element, 'width');\n            return true;\n          }\n        }\n        return false;\n      };\n      const update = stickyAction => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        const prevScroll = get$c();\n        const isOuterContainerWidthRestored = useFixedToolbarContainer ? false : restoreOuterContainerWidth();\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(mainUi.outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          const currentScroll = get$c();\n          const optScroll = someIf(prevScroll.left !== currentScroll.left, prevScroll);\n          updateChromePosition(isOuterContainerWidthRestored, optScroll);\n          optScroll.each(scroll => {\n            to(scroll.left, currentScroll.top);\n          });\n        }\n        if (isSticky) {\n          floatContainer.on(stickyAction);\n        }\n        repositionPopups$1();\n      };\n      const doUpdateMode = () => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return false;\n        }\n        return floatContainer.get().exists(fc => {\n          const currentMode = headerBackstage.getDockingMode();\n          const newMode = calcMode(fc);\n          if (newMode !== currentMode) {\n            setupMode(newMode);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(mainUi.outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          remove$7(m.element, 'display');\n        });\n        doUpdateMode();\n        if (isSplitUiMode(editor)) {\n          update(elem => Docking.isDocked(elem) ? Docking.reset(elem) : Docking.refresh(elem));\n        } else {\n          update(Docking.refresh);\n        }\n      };\n      const hide = () => {\n        visible.set(false);\n        set$8(mainUi.outerContainer.element, 'display', 'none');\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      };\n      const updateMode = () => {\n        const changedMode = doUpdateMode();\n        if (changedMode) {\n          update(Docking.reset);\n        }\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(Docking.reset);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(Docking.reset));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      let lastScrollX = 0;\n      const updateUi = last(() => ui.update(Docking.refresh), 33);\n      editor.on('ScrollWindow', () => {\n        const newScrollX = get$c().left;\n        if (newScrollX !== lastScrollX) {\n          lastScrollX = newScrollX;\n          updateUi.throttle();\n        }\n        ui.updateMode();\n      });\n      if (isSplitUiMode(editor)) {\n        editor.on('ElementScroll', _args => {\n          ui.update(Docking.refresh);\n        });\n      }\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', e => resizeContent(e.raw)));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi} = uiRefs;\n      const floatContainer = value$4();\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiRefs, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      const render = () => {\n        if (floatContainer.isSet()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(mainUi.outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        if (isSplitUiMode(editor)) {\n          attachSystemAfter(targetElm, mainUi.mothership);\n          attachSystemAfter(targetElm, uiRefs.popupUi.mothership);\n        } else {\n          attachSystem(uiContainer, mainUi.mothership);\n        }\n        attachSystem(uiContainer, uiRefs.dialogUi.mothership);\n        const setup = () => {\n          setToolbar(editor, uiRefs, rawUiConfig, backstage);\n          OuterContainer.setMenubar(mainUi.outerContainer, identifyMenus(editor, rawUiConfig));\n          ui.show();\n          setupEvents(editor, targetElm, ui, toolbarPersist);\n          editor.nodeChanged();\n        };\n        if (toolbarPersist) {\n          editor.once('SkinLoaded', setup);\n        } else {\n          setup();\n        }\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupEventsForUi(editor, uiRefs);\n      const api = {\n        show: render,\n        hide: ui.hide,\n        setEnabled: state => {\n          const eventType = state ? 'setEnabled' : 'setDisabled';\n          broadcastEvents(uiRefs, eventType);\n        },\n        isEnabled: () => !Disabling.isDisabled(mainUi.outerContainer)\n      };\n      return {\n        editorContainer: mainUi.outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const LazyUiReferences = () => {\n      const dialogUi = value$4();\n      const popupUi = value$4();\n      const mainUi = value$4();\n      const lazyGetInOuterOrDie = (label, f) => () => mainUi.get().bind(oc => f(oc.outerContainer)).getOrDie(`Could not find ${ label } element in OuterContainer`);\n      const getUiMotherships = () => {\n        const optDialogMothership = dialogUi.get().map(ui => ui.mothership);\n        const optPopupMothership = popupUi.get().map(ui => ui.mothership);\n        return optDialogMothership.fold(() => optPopupMothership.toArray(), dm => optPopupMothership.fold(() => [dm], pm => eq(dm.element, pm.element) ? [dm] : [\n          dm,\n          pm\n        ]));\n      };\n      return {\n        dialogUi,\n        popupUi,\n        mainUi,\n        getUiMotherships,\n        lazyGetInOuterOrDie\n      };\n    };\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const contextFormInputSelector = '.tox-toolbar-slider__input,.tox-toolbar-textfield';\n    const focusIn = contextbar => {\n      InlineView.getContent(contextbar).each(comp => {\n        descendant(comp.element, contextFormInputSelector).fold(() => Keying.focusIn(comp), focus$3);\n      });\n    };\n    const focusParent = comp => search(comp.element).each(focus => {\n      ancestor(focus, '[tabindex=\"-1\"]').each(parent => {\n        focus$3(parent);\n      });\n    });\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$7(c.element, 'visibility');\n          });\n          remove$3(comp.element, resizingClass);\n          remove$7(comp.element, 'width');\n        },\n        onHide: () => {\n          spec.onHide();\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$3(comp.element, resizingClass);\n                remove$7(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$7(elem, 'width');\n              const currentWidth = get$d(elem);\n              remove$7(elem, 'left');\n              remove$7(elem, 'right');\n              remove$7(elem, 'max-width');\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$d(elem);\n              set$8(elem, 'transition', 'none');\n              InlineView.reposition(comp);\n              remove$7(elem, 'transition');\n              set$8(elem, 'width', currentWidth + 'px');\n              se.event.focus.fold(() => focusIn(comp), f => {\n                focus$3(f);\n                if (search(elem).isNone()) {\n                  focusIn(comp);\n                }\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              spec.onBack();\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const getFormApi = input => {\n      const valueState = value$4();\n      return {\n        setInputEnabled: state => {\n          if (!state) {\n            focusParent(input);\n          }\n          Disabling.set(input, !state);\n        },\n        isInputEnabled: () => !Disabling.isDisabled(input),\n        hide: () => {\n          if (!valueState.isSet()) {\n            valueState.set(Representing.getValue(input));\n          }\n          emit(input, sandboxClose());\n        },\n        back: () => {\n          if (!valueState.isSet()) {\n            valueState.set(Representing.getValue(input));\n          }\n          emit(input, backSlideEvent);\n        },\n        getValue: () => {\n          return valueState.get().getOrThunk(() => Representing.getValue(input));\n        },\n        setValue: value => {\n          if (valueState.isSet()) {\n            valueState.set(value);\n          } else {\n            Representing.setValue(input, value);\n          }\n        }\n      };\n    };\n\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const isToggleButton = button => button.type === 'contextformtogglebutton';\n    const generateOne = (memInput, button, providersBackstage) => {\n      if (isToggleButton(button)) {\n        return renderContextToggleButton(memInput, button, providersBackstage);\n      } else {\n        return renderContextButton(memInput, button, providersBackstage);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const renderContextFormSizeInput = (ctx, providersBackstage, onEnter) => {\n      const {width, height} = ctx.initValue();\n      return renderSizeInput$1({\n        inDialog: false,\n        label: ctx.label,\n        enabled: true,\n        context: Optional.none(),\n        name: Optional.none(),\n        width,\n        height,\n        onEnter: Optional.some(onEnter),\n        onInput: Optional.some(input => ctx.onInput(getFormApi(input))),\n        onSetup: Optional.some(ctx.onSetup),\n        getApi: Optional.some(getFormApi)\n      }, providersBackstage);\n    };\n\n    const createContextFormFieldFromParts = (pLabel, pField, providers) => FormField.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-context-form__group']\n      },\n      components: [\n        ...pLabel.toArray(),\n        pField\n      ],\n      fieldBehaviours: derive$1([Disabling.config({\n          disabled: () => providers.checkUiComponentContext('mode:design').shouldDisable,\n          onDisabled: comp => {\n            focusParent(comp);\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        })])\n    });\n\n    const renderContextFormSliderInput = (ctx, providers, onEnter) => {\n      const editorOffCell = Cell(noop);\n      const pLabel = ctx.label.map(label => FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providers.translate(label))]\n      }));\n      const pField = FormField.parts.field({\n        factory: Input,\n        type: 'range',\n        inputClasses: ['tox-toolbar-slider__input'],\n        inputAttributes: {\n          min: String(ctx.min()),\n          max: String(ctx.max())\n        },\n        data: ctx.initValue().toString(),\n        fromInputValue: value => toFloat(value).getOr(ctx.min()),\n        toInputValue: value => String(value),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => providers.checkUiComponentContext('mode:design').shouldDisable }),\n          toggleOnReceive(() => providers.checkUiComponentContext('mode:design')),\n          Keying.config({\n            mode: 'special',\n            onEnter,\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          }),\n          config('slider-events', [\n            onControlAttached({\n              onSetup: ctx.onSetup,\n              getApi: getFormApi,\n              onBeforeSetup: Keying.focusIn\n            }, editorOffCell),\n            onControlDetached({ getApi: getFormApi }, editorOffCell),\n            run$1(input(), comp => {\n              ctx.onInput(getFormApi(comp));\n            })\n          ])\n        ])\n      });\n      return createContextFormFieldFromParts(pLabel, pField, providers);\n    };\n\n    const renderContextFormTextInput = (ctx, providers, onEnter) => {\n      const editorOffCell = Cell(noop);\n      const pLabel = ctx.label.map(label => FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providers.translate(label))]\n      }));\n      const placeholder = ctx.placeholder.map(p => ({ placeholder: providers.translate(p) })).getOr({});\n      const inputAttributes = { ...placeholder };\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        inputAttributes,\n        data: ctx.initValue(),\n        selectOnFocus: true,\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => providers.checkUiComponentContext('mode:design').shouldDisable }),\n          toggleOnReceive(() => providers.checkUiComponentContext('mode:design')),\n          Keying.config({\n            mode: 'special',\n            onEnter,\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          }),\n          config('input-events', [\n            onControlAttached({\n              onSetup: ctx.onSetup,\n              getApi: getFormApi,\n              onBeforeSetup: Keying.focusIn\n            }, editorOffCell),\n            onControlDetached({ getApi: getFormApi }, editorOffCell),\n            run$1(input(), comp => {\n              ctx.onInput(getFormApi(comp));\n            })\n          ])\n        ])\n      });\n      return createContextFormFieldFromParts(pLabel, pField, providers);\n    };\n\n    const buildInitGroup = (f, ctx, providers) => {\n      const onEnter = input => {\n        return startCommands.findPrimary(input).orThunk(() => endCommands.findPrimary(input)).map(primary => {\n          emitExecute(primary);\n          return true;\n        });\n      };\n      const memInput = record(f(providers, onEnter));\n      const commandParts = partition$3(ctx.commands, command => command.align === 'start');\n      const startCommands = generate(memInput, commandParts.pass, providers);\n      const endCommands = generate(memInput, commandParts.fail, providers);\n      return filter$2([\n        {\n          title: Optional.none(),\n          label: Optional.none(),\n          items: startCommands.asSpecs()\n        },\n        {\n          title: Optional.none(),\n          label: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          label: Optional.none(),\n          items: endCommands.asSpecs()\n        }\n      ], group => group.items.length > 0);\n    };\n    const buildInitGroups = (ctx, providers) => {\n      switch (ctx.type) {\n      case 'contextform':\n        return buildInitGroup(curry(renderContextFormTextInput, ctx), ctx, providers);\n      case 'contextsliderform':\n        return buildInitGroup(curry(renderContextFormSliderInput, ctx), ctx, providers);\n      case 'contextsizeinputform':\n        return buildInitGroup(curry(renderContextFormSizeInput, ctx), ctx, providers);\n      }\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$c();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(elem => inBody(elem) && isHTMLElement(elem)).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar), -20);\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$c().top : bounds.y;\n        const contextbarHeight = get$e(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform' || toolbarApi.type === 'contextsliderform' || toolbarApi.type === 'contextsizeinputform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$a = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$1().deviceType.isTouch;\n      const lastElement = value$4();\n      const lastTrigger = value$4();\n      const lastContextPosition = value$4();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          fireContextToolbarClose(editor);\n          return Optional.some(true);\n        },\n        onHide: () => {\n          fireContextToolbarClose(editor);\n        },\n        onBack: () => {\n          fireContextFormSlideBack(editor);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds, 0.01);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$7(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => {\n        return identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items,\n          allowToolbarGroups: false\n        }, extras.backstage, Optional.some(['form:']));\n      };\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, contextToolbarToSpec(ctx)) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$7(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$3(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      let isDragging = false;\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed || isDragging) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$h(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            focusIn(contextbar);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('DisabledStateChange', e => {\n          if (e.state) {\n            close();\n          }\n        });\n        editor.on('ExecCommand', ({command}) => {\n          if (command.toLowerCase() === 'toggleview') {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('dragstart', () => {\n          isDragging = true;\n        });\n        editor.on('dragend drop', () => {\n          isDragging = false;\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$9 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupStateToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$4();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = editor => ({\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value),\n      onToolbarSetup: onSetupEditableToggle(editor),\n      onMenuSetup: onSetupEditableToggle(editor)\n    });\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => {\n          var _a;\n          return editor.formatter.formatChanged('lang', callback, false, {\n            value: value.code,\n            customValue: (_a = value.customCode) !== null && _a !== void 0 ? _a : null\n          }).unbind;\n        },\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return composeUnbinders(unbinder.clear, onSetupEditableToggle(editor)(api));\n        },\n        onMenuSetup: onSetupEditableToggle(editor)\n      }));\n    };\n    const register$8 = editor => {\n      registerController(editor, lineHeightSpec(editor));\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$7 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const register$6 = editor => {\n      editor.ui.registry.addContext('editable', () => {\n        return editor.selection.isEditable();\n      });\n      editor.ui.registry.addContext('mode', mode => {\n        return editor.mode.get() === mode;\n      });\n      editor.ui.registry.addContext('any', always);\n      editor.ui.registry.addContext('formatting', format => {\n        return editor.formatter.canApply(format);\n      });\n      editor.ui.registry.addContext('insert', child => {\n        return editor.schema.isValidChild(editor.selection.getNode().tagName, child);\n      });\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent') && editor.selection.isEditable());\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return composeUnbinders(() => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler), onSetupEditableToggle(editor)(api));\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupStateToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name),\n          shortcut: btn.shortcut\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        const shortcut = `Access+${ i }`;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupStateToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name),\n          shortcut\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          context: 'any'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help',\n          shortcut: 'Alt+0',\n          context: 'any'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A',\n          context: 'any'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P',\n          context: 'any'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          shortcut: btn.shortcut,\n          context: btn.context\n        });\n      });\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupEditableToggle(editor),\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupStateToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C',\n          context: 'any'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A',\n          context: 'any'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P',\n          context: 'any'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action),\n          context: menuitem.context\n        });\n      });\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onSetup: onSetupEditableToggle(editor),\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo'),\n        shortcut: 'Meta+Z'\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo'),\n        shortcut: 'Meta+Y'\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid'),\n        context: 'any'\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid'),\n        context: 'any'\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$9(editor);\n      register$3(editor);\n      register$7(editor, backstage);\n      register$2(editor);\n      register$d(editor);\n      register$1(editor);\n      register$5(editor);\n      register$8(editor);\n      register$4(editor);\n      register$6(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent$1 = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$8.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: false,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: true,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        const highlightOnOpen = highlightImmediately ? HighlightOnOpen.HighlightMenuAndItem : HighlightOnOpen.HighlightNone;\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightOnOpen\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$1();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          const commonItem = item;\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(commonItem),\n            onAction: noarg(commonItem.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$h(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items) && isNotEmpty(trim$1(items))) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (isArray(items) && items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTouchEvent = e => e.type === 'longpress' || has$2(e, 'touches');\n    const isTriggeredByKeyboard = (editor, e) => !isTouchEvent(e) && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$1();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = () => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$g(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get$1 = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$8(element, snapsInfo.leftAttr);\n      remove$8(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get$1(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$c(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$7(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$8(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$f(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$c(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$3 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$3 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$3(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$3) })\n    ];\n\n    const init$2 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$4();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const events$1 = (dragConfig, dragState, updateStartState) => [\n      ...events$3(dragConfig, dragState, updateStartState),\n      ...events$2(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init$1 = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$7({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$4();\n      const finishCell = value$4();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$7(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$1().deviceType.isTouch()) {\n        const domToSugar = arr => map$2(arr, SugarElement.fromDom);\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          const start = SugarElement.fromDom(e.start);\n          const finish = SugarElement.fromDom(e.finish);\n          startCell.set(start);\n          finishCell.set(finish);\n          Optional.from(e.otherCells).each(otherCells => {\n            tlTds.set(domToSugar(otherCells.upOrLeftCells));\n            brTds.set(domToSugar(otherCells.downOrRightCells));\n            snapTopLeft(start);\n            snapBottomRight(finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg height=\\\"16\\\" viewBox=\\\"0 0 80 16\\\" width=\\\"80\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g opacity=\\\".8\\\"><path d=\\\"m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z\\\"/><path clip-rule=\\\"evenodd\\\" d=\\\"m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z\\\" fill-rule=\\\"evenodd\\\"/><path d=\\\"m28.752 4.126h-2.346v8.794h2.346z\\\"/><path clip-rule=\\\"evenodd\\\" d=\\\"m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z\\\" fill-rule=\\\"evenodd\\\"/></g></svg>\\n\";\n\n    const describedBy = (describedElement, describeElement) => {\n      const describeId = Optional.from(get$g(describedElement, 'id')).getOrThunk(() => {\n        const id = generate$6('aria');\n        set$9(describeElement, 'id', id);\n        return id;\n      });\n      set$9(describedElement, 'aria-describedby', describeId);\n    };\n    const remove = describedElement => {\n      remove$8(describedElement, 'aria-describedby');\n    };\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: { 'data-index': index }\n        },\n        components: [text$2(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          Tooltipping.config({\n            ...providersBackstage.tooltips.getConfig({\n              tooltipText: providersBackstage.translate([\n                'Select the {0} element',\n                element.nodeName.toLowerCase()\n              ]),\n              onShow: (comp, tooltip) => {\n                describedBy(comp.element, tooltip.element);\n              },\n              onHide: comp => {\n                remove(comp.element);\n              }\n            })\n          }),\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext('any'))\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$2(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = fireResolveName(editor, parent);\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext('any')),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = { height: calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor)) };\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$e(container), get$d(container));\n      each(dimensions, (val, dim) => {\n        if (isNumber(val)) {\n          set$8(container, dim, numToPx(val));\n        }\n      });\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      const resizeLabel = resizeType === ResizeTypes.Both ? 'Press the arrow keys to resize the editor.' : 'Press the Up and Down arrow keys to resize the editor.';\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: {\n          'aria-label': providersBackstage.translate(resizeLabel),\n          'data-mce-name': 'resize-handle'\n        },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate('Resize') }))\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$2(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          toggleOnReceive(() => providersBackstage.checkUiComponentContext('any')),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': editor.translate([\n                    'Build with {0}',\n                    'TinyMCE'\n                  ])\n                },\n                innerHtml: editor.translate([\n                  'Build with {0}',\n                  Logo.trim()\n                ])\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const renderHelpAccessibility = () => {\n        const shortcutText = convertText('Alt+0');\n        const text = `Press {0} for help`;\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__help-text']\n          },\n          components: [text$2(global$5.translate([\n              text,\n              shortcutText\n            ]))]\n        };\n      };\n      const renderRightContainer = () => {\n        const components = [];\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__right-container']\n          },\n          components\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        const shouldRenderHelp = useHelpAccessibility(editor);\n        const shouldRenderElementPath = useElementPath(editor);\n        const shouldRenderRightContainer = useBranding(editor) || editor.hasPlugin('wordcount');\n        const getTextComponentClasses = () => {\n          const flexStart = 'tox-statusbar__text-container--flex-start';\n          const flexEnd = 'tox-statusbar__text-container--flex-end';\n          const spaceAround = 'tox-statusbar__text-container--space-around';\n          if (shouldRenderHelp) {\n            const container3Columns = 'tox-statusbar__text-container-3-cols';\n            if (!shouldRenderRightContainer && !shouldRenderElementPath) {\n              return [\n                container3Columns,\n                spaceAround\n              ];\n            }\n            if (shouldRenderRightContainer && !shouldRenderElementPath) {\n              return [\n                container3Columns,\n                flexEnd\n              ];\n            }\n            return [\n              container3Columns,\n              flexStart\n            ];\n          }\n          return [shouldRenderRightContainer && !shouldRenderElementPath ? flexEnd : flexStart];\n        };\n        if (shouldRenderElementPath) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (shouldRenderHelp) {\n          components.push(renderHelpAccessibility());\n        }\n        if (shouldRenderRightContainer) {\n          components.push(renderRightContainer());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: [\n                  'tox-statusbar__text-container',\n                  ...getTextComponentClasses()\n                ]\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = (label, singleton) => singleton.get().getOrDie(`UI for ${ label } has not been rendered`);\n    const setup$3 = (editor, setupForTheme) => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazyUiRefs = LazyUiReferences();\n      const lazyMothership = value$4();\n      const lazyDialogMothership = value$4();\n      const lazyPopupMothership = value$4();\n      const platform = detect$1();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const memBottomAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bottom-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyUiRefs.mainUi.get().map(ui => ui.outerContainer).bind(OuterContainer.getHeader);\n      const lazyDialogSinkResult = () => Result.fromOption(lazyUiRefs.dialogUi.get().map(ui => ui.sink), 'UI has not been rendered');\n      const lazyPopupSinkResult = () => Result.fromOption(lazyUiRefs.popupUi.get().map(ui => ui.sink), '(popup) UI has not been rendered');\n      const lazyAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('anchor bar', memAnchorBar.getOpt);\n      const lazyBottomAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('bottom anchor bar', memBottomAnchorBar.getOpt);\n      const lazyToolbar = lazyUiRefs.lazyGetInOuterOrDie('toolbar', OuterContainer.getToolbar);\n      const lazyThrobber = lazyUiRefs.lazyGetInOuterOrDie('throbber', OuterContainer.getThrobber);\n      const backstages = init$5({\n        popup: lazyPopupSinkResult,\n        dialog: lazyDialogSinkResult\n      }, editor, lazyAnchorBar, lazyBottomAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage: backstages.popup,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: backstages.popup.shared.getSink,\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          onToolbarToggled: state => {\n            fireToggleToolbarDrawer(editor, state);\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const shouldHavePromotion = promotionEnabled(editor);\n        const partPromotion = makePromotion();\n        const hasAnyContents = hasMultipleToolbar || hasToolbar || hasMenubar;\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        const menubarCollection = shouldHavePromotion ? [\n          partPromotion,\n          partMenubar\n        ] : [partMenubar];\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'].concat(hasAnyContents ? [] : ['tox-editor-header--empty']),\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? menubarCollection : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstages.popup.shared\n        });\n      };\n      const makePromotion = () => {\n        return OuterContainer.parts.promotion({\n          dom: {\n            tag: 'div',\n            classes: ['tox-promotion']\n          }\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderDialogUi = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$f(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$5.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazyDialogMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderPopupUi = () => {\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-silver-popup-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$5.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({\n              useFixed: () => header.isDocked(lazyHeader),\n              getBounds: () => setupForTheme.getPopupSinkBounds()\n            })])\n        };\n        const sink = build$1(sinkSpec);\n        const uiMothership = takeover(sink);\n        lazyPopupMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderMainUi = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage: backstages.popup\n        });\n        const partViewWrapper = OuterContainer.parts.viewWrapper({ backstage: backstages.popup });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstages.popup.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = OuterContainer.parts.editorContainer({\n          components: flatten([\n            editorComponents,\n            isInline ? [] : [memBottomAnchorBar.asSpec()]\n          ])\n        });\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$5.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: [\n            editorContainer,\n            ...isInline ? [] : [\n              partViewWrapper,\n              ...statusbar.toArray()\n            ],\n            partThrobber\n          ],\n          behaviours: derive$1([\n            toggleOnReceive(() => backstages.popup.shared.providers.checkUiComponentContext('any')),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue$1('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue$1('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', (_ui, options) => {\n          if (options === null || options === void 0 ? void 0 : options.skipFocus) {\n            OuterContainer.toggleToolbarDrawerWithoutFocusing(outerContainer);\n          } else {\n            OuterContainer.toggleToolbarDrawer(outerContainer);\n          }\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUIWithRefs = uiRefs => {\n        const {mainUi, popupUi, uiMotherships} = uiRefs;\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars, views} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars,\n          views\n        };\n        setupShortcutsAndCommands(mainUi.outerContainer);\n        setup$b(editor, mainUi.mothership, uiMotherships);\n        header.setup(editor, backstages.popup.shared, lazyHeader);\n        setup$6(editor, backstages.popup);\n        setup$5(editor, backstages.popup.shared.getSink, backstages.popup);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstages.popup.shared);\n        register$a(editor, contextToolbars, popupUi.sink, { backstage: backstages.popup });\n        setup$4(editor, popupUi.sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(mainUi.outerContainer);\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiRefs, rawUiConfig, backstages.popup, args);\n      };\n      const reuseDialogUiForPopuUi = dialogUi => {\n        lazyPopupMothership.set(dialogUi.mothership);\n        return dialogUi;\n      };\n      const renderUI = () => {\n        const mainUi = renderMainUi();\n        const dialogUi = renderDialogUi();\n        const popupUi = isSplitUiMode(editor) ? renderPopupUi() : reuseDialogUiForPopuUi(dialogUi);\n        lazyUiRefs.dialogUi.set(dialogUi);\n        lazyUiRefs.popupUi.set(popupUi);\n        lazyUiRefs.mainUi.set(mainUi);\n        const uiRefs = {\n          popupUi,\n          dialogUi,\n          mainUi,\n          uiMotherships: lazyUiRefs.getUiMotherships()\n        };\n        return renderUIWithRefs(uiRefs);\n      };\n      return {\n        popups: {\n          backstage: backstages.popup,\n          getMothership: () => getLazyMothership('popups', lazyPopupMothership)\n        },\n        dialogs: {\n          backstage: backstages.dialog,\n          getMothership: () => getLazyMothership('dialogs', lazyDialogMothership)\n        },\n        renderUI\n      };\n    };\n\n    const get = element => element.dom.textContent;\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('firstTabstop', 0),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$4();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Blocking.isBlocked(dialog) ? noop() : Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPart(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      const browser = detect$1();\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt,\n            firstTabstop: detail.firstTabstop\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              const titleElm = getPartOrDie(c, detail, 'title').element;\n              const title = get(titleElm);\n              if (browser.os.isMacOS() && isNonNullable(title)) {\n                set$9(c.element, 'aria-label', title);\n              } else {\n                labelledBy(c.element, titleElm);\n              }\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ]),\n      defaultedString('context', 'mode:design')\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const toggleButtonSpecFields = [\n      ...baseFooterButtonFields,\n      requiredStringEnum('type', ['togglebutton']),\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      defaultedBoolean('active', false)\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields,\n      togglebutton: toggleButtonSpecFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary,\n      defaultedString('context', 'mode:design')\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled,\n      defaultedString('context', 'mode:design')\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([\n      defaultedColumns('auto'),\n      defaultedString('context', 'mode:design')\n    ]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields.concat([\n      defaultedString('storageKey', 'default'),\n      defaultedString('context', 'mode:design')\n    ]);\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      optionFunction('onFocus'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields.concat([defaultedString('context', 'mode:design')]);\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ]),\n      defaultedFunction('onInit', noop),\n      defaultedBoolean('stretched', false)\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('border', false),\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('streamContent', false),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled,\n      defaultedString('context', 'mode:design')\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField,\n      defaultedStringEnum('align', 'start', [\n        'start',\n        'center',\n        'end'\n      ]),\n      optionString('for')\n    ];\n\n    const listBoxSingleItemFields = [\n      text,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled,\n      defaultedString('context', 'mode:design')\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled,\n      defaultedString('context', 'mode:design')\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled,\n      defaultedString('context', 'mode:design')\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled,\n      defaultedString('context', 'mode:design')\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const baseTreeItemFields = [\n      requiredStringEnum('type', [\n        'directory',\n        'leaf'\n      ]),\n      title,\n      requiredString('id'),\n      optionOf('menu', MenuButtonSchema),\n      optionString('customStateIcon'),\n      optionString('customStateIconTooltip')\n    ];\n    const treeItemLeafFields = baseTreeItemFields;\n    const treeItemLeafSchema = objOf(treeItemLeafFields);\n    const treeItemDirectoryFields = baseTreeItemFields.concat([requiredArrayOf('children', thunkOf('children', () => {\n        return choose$2('type', {\n          directory: treeItemDirectorySchema,\n          leaf: treeItemLeafSchema\n        });\n      }))]);\n    const treeItemDirectorySchema = objOf(treeItemDirectoryFields);\n    const treeItemSchema = choose$2('type', {\n      directory: treeItemDirectorySchema,\n      leaf: treeItemLeafSchema\n    });\n    const treeFields = [\n      type,\n      requiredArrayOf('items', treeItemSchema),\n      optionFunction('onLeafAction'),\n      optionFunction('onToggleExpand'),\n      defaultedArrayOf('defaultExpandedIds', [], string),\n      optionString('defaultSelectedId')\n    ];\n    const treeSchema = objOf(treeFields);\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled,\n      optionString('picker_text'),\n      defaultedString('context', 'mode:design')\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      tree: treeSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      defaultedArrayOf('buttons', [], dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      var _a;\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = (_a = structure.initialData) !== null && _a !== void 0 ? _a : {};\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const events = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Reflecting = create$4({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage, getCompByName) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage, getCompByName))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          }),\n          config('dialog-body-panel', [run$1(focusin(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: Optional.some(se.event.target) });\n            })])\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$9(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$4(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$f(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$e(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$d(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$e(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$f(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$f(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$e(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const smartMode = allTabs => {\n      const maxTabHeight = value$4();\n      const extraEvents = [\n        runOnAttached(comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            set$8(tabview, 'visibility', 'hidden');\n            comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n              const heights = measureHeights(allTabs, tabview, tabviewComp);\n              const maxTabHeightOpt = getMaxHeight(heights);\n              maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n            });\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n            remove$7(tabview, 'visibility');\n            showTab(allTabs, comp);\n            requestAnimationFrame(() => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          });\n        }),\n        run$1(windowResize(), comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n          });\n        }),\n        run$1(formResizeEvent, (comp, _se) => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            const oldFocus = active$1(getRootNode(tabview));\n            set$8(tabview, 'visibility', 'hidden');\n            const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n            remove$7(tabview, 'height');\n            remove$7(tabview, 'flex-basis');\n            const newHeight = tabview.dom.getBoundingClientRect().height;\n            const hasGrown = oldHeight.forall(h => newHeight > h);\n            if (hasGrown) {\n              maxTabHeight.set(newHeight);\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            } else {\n              oldHeight.each(h => {\n                setTabviewHeight(tabview, h);\n              });\n            }\n            remove$7(tabview, 'visibility');\n            oldFocus.each(focus$3);\n          });\n        })\n      ];\n      const selectFirst = false;\n      return {\n        extraEvents,\n        selectFirst\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage, getCompByName) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$2(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage, getCompByName)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = smartMode(allTabs);\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs, getCompByName) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage, getCompByName)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage, getCompByName)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs, getCompByName) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs, getCompByName);\n    const renderModalBody = (spec, dialogId, backstage, getCompByName) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false, getCompByName);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft(Optional.none(), {\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    const isTouch = global$6.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ sanitizeHtmlString(providersBackstage.translate(message)) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        firstTabstop: spec.firstTabstop,\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([\n            runOnSource(focusin(), (comp, _se) => {\n              Blocking.isBlocked(comp) ? noop() : Keying.focusIn(comp);\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: se.event.newFocus });\n            })\n          ])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$3(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'data-mce-name': 'close'\n        }\n      },\n      buttonBehaviours: derive$1([\n        Tabstopping.config({}),\n        Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate('Close') }))\n      ]),\n      components: [render$3('close', {\n          tag: 'span',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$2(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'h1',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers, headerHeight) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: `${ headerHeight.getOr(0) }px`,\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        const headerHeight = descendant(lazyDialog().element, '.tox-dialog__header').map(header => get$e(header));\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers, headerHeight));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const fullscreenClass = 'tox-dialog--fullscreen';\n    const largeDialogClass = 'tox-dialog--width-lg';\n    const mediumDialogClass = 'tox-dialog--width-md';\n    const getDialogSizeClass = size => {\n      switch (size) {\n      case 'large':\n        return Optional.some(largeDialogClass);\n      case 'medium':\n        return Optional.some(mediumDialogClass);\n      default:\n        return Optional.none();\n      }\n    };\n    const updateDialogSizeClass = (size, component) => {\n      const dialogBody = SugarElement.fromDom(component.element.dom);\n      if (!has(dialogBody, fullscreenClass)) {\n        remove$2(dialogBody, [\n          largeDialogClass,\n          mediumDialogClass\n        ]);\n        getDialogSizeClass(size).each(dialogSizeClass => add$2(dialogBody, dialogSizeClass));\n      }\n    };\n    const toggleFullscreen = (comp, currentSize) => {\n      const dialogBody = SugarElement.fromDom(comp.element.dom);\n      const classes = get$9(dialogBody);\n      const currentSizeClass = find$5(classes, c => c === largeDialogClass || c === mediumDialogClass).or(getDialogSizeClass(currentSize));\n      toggle$3(dialogBody, [\n        fullscreenClass,\n        ...currentSizeClass.toArray()\n      ]);\n    };\n    const renderModalDialog = (spec, dialogEvents, backstage) => build$1(renderDialog$1({\n      ...spec,\n      firstTabstop: 1,\n      lazySink: backstage.shared.getSink,\n      extraBehaviours: [\n        memory({}),\n        ...spec.extraBehaviours\n      ],\n      onEscape: comp => {\n        emit(comp, formCancelEvent);\n      },\n      dialogEvents,\n      eventOrder: {\n        [receive()]: [\n          Reflecting.name(),\n          Receiving.name()\n        ],\n        [attachedToDom()]: [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ],\n        [detachedFromDom()]: [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ]\n      }\n    }));\n    const mapMenuButtons = (buttons, menuItemStates = {}) => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = get$h(menuItemStates, item.name).getOr(Cell(false));\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        return button.type === 'menu' ? mapItems(button) : button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec, _event, self) => {\n        if (hasFocus(self.element)) {\n          active$1(getRootNode(self.element)).each(blur$1);\n        }\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => component.getSystem().isConnected() ? Keying.focusIn(component) : undefined;\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = footer.bind(f => Reflecting.getState(f).get());\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          const storedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons, menuItemStates);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], {\n            ...dialogInit.internalDialog,\n            buttons: storedMenuButtons\n          });\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close,\n        toggleFullscreen: access.toggleFullscreen\n      };\n      return instanceApi;\n    };\n\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const dialogSize = Cell(internalDialog.size);\n      const getCompByName$1 = name => getCompByName(modalAccess, name);\n      const dialogSizeClasses = getDialogSizeClass(dialogSize.get()).toArray();\n      const updateState = (comp, incoming) => {\n        dialogSize.set(incoming.internalDialog.size);\n        updateDialogSizeClass(incoming.internalDialog.size, comp);\n        return Optional.some(incoming);\n      };\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage, getCompByName$1);\n      const storedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storedMenuButtons);\n      const footer = someIf(storedMenuButtons.length !== 0, renderModalFooter({ buttons: storedMenuButtons }, dialogId, backstage));\n      const dialogEvents = initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: dialogSizeClasses,\n        extraBehaviours: [Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          })],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        const toggleFullscreen$1 = () => {\n          toggleFullscreen(dialog, dialogSize.get());\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm,\n          toggleFullscreen: toggleFullscreen$1\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs = false, refreshDocking) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const getCompByName$1 = name => getCompByName(modalAccess, name);\n      const dialogSize = Cell(internalDialog.size);\n      const dialogSizeClass = getDialogSizeClass(dialogSize.get()).toArray();\n      const updateState = (comp, incoming) => {\n        dialogSize.set(incoming.internalDialog.size);\n        updateDialogSizeClass(incoming.internalDialog.size, comp);\n        refreshDocking();\n        return Optional.some(incoming);\n      };\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs, getCompByName$1));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const optMemFooter = someIf(storagedMenuButtons.length !== 0, record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage)));\n      const dialogEvents = initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => {\n            const headerHeight = memHeader.getOpt(dialog).map(dialog => get$e(dialog.element));\n            return getBusySpec(event.message, bs, backstage.shared.providers, headerHeight);\n          });\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const inlineClass = 'tox-dialog-inline';\n      const os = detect$1().os;\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            inlineClass,\n            ...dialogSizeClass\n          ],\n          attributes: {\n            role: 'dialog',\n            ...os.isMacOS() ? { 'aria-label': internalDialog.title } : { 'aria-labelledby': dialogLabelId }\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$g(elem, 'disabled') !== 'disabled'),\n            firstTabstop: 1\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([\n            runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: se.event.newFocus });\n            })\n          ])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          ...optMemFooter.map(memFooter => memFooter.asSpec()).toArray()\n        ]\n      });\n      const toggleFullscreen$1 = () => {\n        toggleFullscreen(dialog, dialogSize.get());\n      };\n      const modalAccess = {\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => optMemFooter.map(memFooter => memFooter.get(dialog)),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        },\n        toggleFullscreen: toggleFullscreen$1\n      };\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const extraBehaviours = [\n        Reflecting.config({\n          channel: `${ dialogChannel }-${ dialogId }`,\n          updateState,\n          initialData: internalDialog\n        }),\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  if (isNonNullable(iframeWin)) {\n                    iframeWin.postMessage(data, iframeDomain);\n                  }\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          context: 'any',\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          context: 'any',\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', backstage));\n        const footerNo = renderFooterButton({\n          context: 'any',\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top'],\n            lazyViewport: comp => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n              return optScrollingContext.map(sc => {\n                const combinedBounds = getBoundsFrom(sc);\n                return {\n                  bounds: combinedBounds,\n                  optScrollEnv: Optional.some({\n                    currentScrollTop: sc.element.dom.scrollTop,\n                    scrollElmTop: absolute$3(sc.element).top\n                  })\n                };\n              }).getOrThunk(() => ({\n                bounds: win(),\n                optScrollEnv: Optional.none()\n              }));\n            }\n          })];\n      }\n    };\n    const setup = extras => {\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras.backstages.dialog);\n      const confirmDialog = setup$1(extras.backstages.dialog);\n      const open = (config, params, closeWindow) => {\n        if (!isUndefined(params)) {\n          if (params.inline === 'toolbar') {\n            return openInlineDialog(config, extras.backstages.popup.shared.anchors.inlineDialog(), closeWindow, params);\n          } else if (params.inline === 'bottom') {\n            return openBottomInlineDialog(config, extras.backstages.popup.shared.anchors.inlineBottomDialog(), closeWindow, params);\n          } else if (params.inline === 'cursor') {\n            return openInlineDialog(config, extras.backstages.popup.shared.anchors.cursor(), closeWindow, params);\n          }\n        }\n        return openModalDialog(config, closeWindow);\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, windowParams) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$4();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n              Docking.refresh(dialog);\n            }\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, windowParams.ariaAttrs, refreshDocking);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: windowParams.persistent ? { event: 'doNotDismissYet' } : {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            const elem = editor.inline ? body() : SugarElement.fromDom(editor.getContainer());\n            const bounds = box$1(elem);\n            return Optional.some(bounds);\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const openBottomInlineDialog = (config$1, anchor, closeWindow, windowParams) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$4();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor ScrollWindow ElementScroll', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, windowParams.ariaAttrs, refreshDocking);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: windowParams.persistent ? { event: 'doNotDismissYet' } : {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              Docking.config({\n                contextual: {\n                  lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n                  fadeInClass: 'tox-dialog-dock-fadein',\n                  fadeOutClass: 'tox-dialog-dock-fadeout',\n                  transitionClass: 'tox-dialog-dock-transition'\n                },\n                modes: [\n                  'top',\n                  'bottom'\n                ],\n                lazyViewport: comp => {\n                  const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                  return optScrollingContext.map(sc => {\n                    const combinedBounds = getBoundsFrom(sc);\n                    return {\n                      bounds: combinedBounds,\n                      optScrollEnv: Optional.some({\n                        currentScrollTop: sc.element.dom.scrollTop,\n                        scrollElmTop: absolute$3(sc.element).top\n                      })\n                    };\n                  }).getOrThunk(() => ({\n                    bounds: win(),\n                    optScrollEnv: Optional.none()\n                  }));\n                }\n              })\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            return extras.backstages.popup.shared.getSink().toOptional().bind(s => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, s.element);\n              const margin = 15;\n              const bounds$1 = optScrollingContext.map(sc => getBoundsFrom(sc)).getOr(win());\n              const contentAreaContainer = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n              const constrainedBounds = constrain(contentAreaContainer, bounds$1);\n              return Optional.some(bounds(constrainedBounds.x, constrainedBounds.y, constrainedBounds.width, constrainedBounds.height - margin));\n            });\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          Docking.refresh(inlineDialogComp);\n          editor.on('ResizeEditor ScrollWindow ElementScroll ResizeWindow', refreshDocking);\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, callback);\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, callback);\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$f(editor);\n      register$e(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        let popupSinkBounds = () => win();\n        const {\n          dialogs,\n          popups,\n          renderUI: renderModeUI\n        } = setup$3(editor, { getPopupSinkBounds: () => popupSinkBounds() });\n        const renderUI = () => {\n          const renderResult = renderModeUI();\n          const optScrollingContext = detectWhenSplitUiMode(editor, popups.getMothership().element);\n          optScrollingContext.each(sc => {\n            popupSinkBounds = () => {\n              return getBoundsFrom(sc);\n            };\n          });\n          return renderResult;\n        };\n        Autocompleter.register(editor, popups.backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstages: {\n            popup: popups.backstage,\n            dialog: dialogs.backstage\n          }\n        });\n        const notificationRegion = value$4();\n        const getNotificationManagerImpl = () => NotificationManagerImpl(editor, { backstage: popups.backstage }, popups.getMothership(), notificationRegion);\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl\n        };\n      });\n    };\n\n    Theme();\n\n})();\n"],"names":["cache","getDocumentScriptLoader","extendStatics","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid","onSkinLoadError","onThemeLoadError","onModelLoadError","onPluginLoadError","onIconsLoadError","onLanguageLoadError","onScriptsLoad","onScriptsLoadError","EditorPropTypes","apiKey","licenseKey","id","inline","init","initialValue","onEditorChange","value","tagName","tabIndex","cloudChannel","plugins","toolbar","disabled","textareaName","tinymceScriptSrc","src","async","defer","rollback","scriptLoading","delay","isFunction","x","isEventProp","name","eventAttrToEventName","attrName","substr","configHandlers","editor","prevProps","props","boundHandlers","lookup","handlerLookup","on","off","adapter","prevEventKeys","keys","filter","currEventKeys","removedKeys","key","undefined","addedKeys","forEach","eventName","wrappedHandler","e","_a","configHandlers2","bind","unique","uuid","prefix","time","Date","now","Math","floor","random","String","isTextareaOrInput","element","toLowerCase","normalizePluginArray","Array","isArray","split","setMode","mode","set","injectScriptTag","doc","item","handler","_b","scriptTag","createElement","referrerPolicy","type","loadHandler","removeEventListener","errorHandler","err","addEventListener","head","appendChild","ScriptLoader","loader","find","l","getDocument","scriptLoadOrErrorHandler","done","error","_i","handlers","h","loadScripts","items","success","failure","failureOrLog","console","successCount","failed","loaded","_src","items_1","existing","push","Error","deleteScripts","values","getElementById","parentNode","removeChild","createDocumentScriptLoader","loadList","doLoad","setTimeout","reinitialize","pop","getTinymce","view","global","tinymce","__extends","d","b","setPrototypeOf","__proto__","TypeError","__","constructor","create","Editor","_super","_c","_this","rollbackTimer","valueCursor","rollbackChange","currentContent","undoManager","ignore","setContent","hasFocus","selection","moveToBookmark","handleBeforeInput","_evt","getBookmark","handleBeforeInputSpecial","evt","handleEditorChange","initialized","newContent","getContent","window","handleEditorChangeSpecial","initialise","attempts","target","elementRef","current","elem","Node","parent_1","ownerDocument","isConnected","isInDoc","initPlugins","inputPlugins","finalInit","selector","readonly","concat","license_key","setup","bindHandlers","once","getInitialValue","no_events","init_instance_callback","clear","add","setDirty","style","visibility","defineProperty","get","defaultView","enumerable","configurable","componentDidUpdate","clearTimeout","localEditor_1","transact","cursor","bookmark","componentDidMount","_d","_e","getScriptSources","componentWillUnmount","changeEvents","beforeInputEvent","remove","render","renderInline","renderIframe","Env","browser","isIE","InputEvent","getTargetRanges","ref","map","channel","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps","module","exports","url","options","__esModule","default","test","slice","hash","needQuotes","replace","IconManager","icons","global$1","util","Tools","resolve","isType$1","o","v","isPrototypeOf","typeOf","isSimpleType","eq$2","a","isString","isObject","isNull","isBoolean","isUndefined","isNonNullable","isNullable","isNumber","noop","constant","identity","tripleEquals","curry","fn","initialArgs","restArgs","all","not","f","never","always","Optional","tag","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","mapper","binder","exists","predicate","forall","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","from","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","nativeIndexOf","indexOf","nativePush","contains$2","xs","rawIndexOf","ts","pred","len","range$1","num","r","map$1","each$2","partition","pass","fail","filter$2","foldr","acc","eachr","foldl","find$1","until","findUntil","findIndex","flatten","bind$2","mapToObject","get$d","last$2","findMap","arr","each$1","obj","k","tupleMap","tuple","mapToArray","has$1","Global","Function","resolve$2","scope","parts","path","getPrototypeOf","actual","unsafe","sandHTMLElement","dom","nodeName","nodeType","isType","isComment","isHTMLElement","isElement","isText","isDocument","isDocumentFragment","isTag","rawSet","setAttribute","set$2","setAll$1","attrs","get$b","getAttribute","getOpt","remove$7","removeAttribute","clone$2","attributes","attr","fromDom$1","node","SugarElement","fromHtml","html","div","document","innerHTML","hasChildNodes","childNodes","fromTag","fromText","text","createTextNode","fromDom","fromPoint","docElm","y","elementFromPoint","is$2","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","one","base","querySelector","eq$1","e1","e2","contains$1","d1","d2","contains","is$1","owner","documentOrOwner","dos","parent","parentElement","parents","isRoot","stop","ret","rawParent","prevSibling","previousSibling","nextSibling","children$2","child$2","index","cs","before$3","marker","insertBefore","after$5","append$1","prepend","firstChild$1","firstChild","wrap","wrapper","after$4","elements","append","empty","textContent","rogue","remove$6","unwrap","children","clone$1","original","isDeep","cloneNode","shallow","deep","shallowAs","nu","validSectionList","detail","rowspan","colspan","rowdetail","cells","section","elementnew","isNew","isLocked","rowcells","isShadowRoot","host","getRootNode","getShadowHost","inBody","getShadowRoot","body","fbc","fab","getBody$1","descendants$1","result","ancestors$3","ancestors$4","children$1","descendants","querySelectorAll","all$1","ClosestOrAncestor","is","ancestor","ancestor$2","el","closest$2","ancestor$1","child","child$1","descendant","closest$1","lhs","rhs","comparator","left","cat","someIf","checkRange","str","start","end","idx","startsWith","endsWith","suffix","trim","blank","isNotEmpty","isSupported","getPropertyValue","internalSet","property","setProperty","set$1","setAll","css","get$a","getComputedStyle","getUnsafeProperty","getRaw$2","raw","remove$5","removeProperty","internalRemove","getAttrValue","cell","fallback","parseInt","getSpan","hasColspan","cellOrCol","getCssValue","minWidth","minHeight","firstLayer","filterFirstLayer","tags","join","elm","cells$1","columns$1","columnGroups","columnGroup","table","rows$1","fromRowsOrColGroups","elems","getSection","row","column","getParentSection","group","parentName","isValidSection","fromTable$1","rows","cached","called","args","unknown$2","nu$2","major","minor","Version","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","Number","unknown","detect$4","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","uastring","browsers","brand","oses","PlatformInfo","edge","chromium","opera","firefox","safari","nu$1","info","version","isBrowser","isEdge","isChromium","isOpera","isFirefox","isSafari","Browser","windows","android","linux","macos","solaris","freebsd","chromeos","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","mediaMatch","query","matchMedia","platform","userAgentDataOpt","userAgentData","brands","uaBrand","lcBrand","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","PlatformDetection","navigator","detect$2","Dimension","getOffset","parseFloat","aggregate","properties","val","isNaN","match","getOuter","max","cumulativeInclusions","getProp","px","toFloat","toNumber","api$2","offsetWidth","get$9","getOuter$2","getInner","boxSizing","width","getBoundingClientRect","size","upper","lower","calcContentBoxSize","getCalculatedWidth","addCells","gridRow","existingCells","before","after","newCells","setCells","addCell","mutateCell","getCell","getCellElement","cellLength","extractGridDetails","grid","cols","clone","cloneRow","cloneCell","LOCKED_COL_ATTR","getLockedColumnsFromTable","lockedColStr","lockedCols","getLockedColumnsFromGrid","locked","lockedArr","_val","copy","sort","sort$1","filterItems","warehouse","generate$1","list","access","lockedColumns","rowData","maxRows","maxColumns","rowCount","colgroupRows","currentRow","rowCell","hasNonNullableKey","extended","occupiedColumnPosition","occupiedRowPosition","columnPosition","newpos","columns","colgroups","columnsGroup","columnIndex","colIndex","columnext","generateColumns","colgroup$1","colgroup","grid$1","Warehouse","filtered","w","isValidCell","rowsArr","col","decide","getBlock","isValid","getFallback","inBlock","c","onDirection","isLtr","isRtl","getDirection","api$1","height","offsetHeight","get$8","getOuter$1","top","translate","SugarPosition","firstDefinedOrZero","absolute","win","documentElement","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport","box","boxPosition","rowInfo","colInfo","rtlEdge","ltrEdge","getLeftEdge","getRightEdge","getTop$1","getTopEdge","getBottomEdge","findPositions","getInnerEdge","getOuterEdge","array","lines","cellOption","lastLine","delta","positions","optElements","detect$1","step","amount","units","unsupportedLength","fixed","relative","pattern","decimalDigits","exponentPart","opt","input","unsignedDecimalLiteral","RegExp","rPercentageBasedSizeRegex","rPixelBasedSizeRegex","isCol$2","isRow$2","getPercentSize","outerGetter","innerGetter","relativeParent","setPixelWidth","setPercentageWidth","setHeight","getTotalHeight","getRuntime","getHeightValue","getter","setter","number","newSize","total","convert","normalizePixelSize","getRaw$1","prop","getRawWidth$1","getPercentageWidth","getPixelWidth$1","getHeight","get$7","setGenericWidth","unit","getPercentTableWidth","percentageBasedSizeRegex","isCol$1","getRawW","getRawH","getDimension","cellOpt","backups","rest","reverse","aa","next","extras","abs","deduce","getWidthFrom","getWidth","columnCells","justCols","pos","colFilter","supportsColWidths","isValidColumn","getDeduced","deduced","getPixelWidths","tableSize","minCellWidth","getHeightFrom","rowCells","widthLookup","percentageSize","getFloatWidth","pixelWidth","getWidths","cellWidth","getPercentageWidths","getCellDelta","singleColumnWidth","_delta","setElementWidth","adjustTableWidth","currentWidth","isRelative","label","pixelSize","newWidth","TableSize","zero","noneSize","exec","chooseSize","makeCell","seenSelected","rowIndex","td","api","getOption","nodeValue","NodeValue","get$6","getEnd","elementsWithCursorPosition","isCursorPosition","isContentEditableFalse","first","descend","res","descendant$1","last$1","descendantRtl","transferableAttributes","createCell","createCol","createColgroup","createRow$1","replace$1","replica","cloneChildren","copy$2","pasteReplace","cellOperations","mutate","formatsToClone","cloneCss","prev","source","sourceDom","targetDom","cssText","copy$1","formats","lastNode","oldCell","newCell","firstText","formatSelector","last","clonedFormat","cloneFormats","validAttributes","attributeName","attribute","cloneAppropriateAttributes","colGap","gap","paste$1","option","defaultWidth","getPixelForcedWidth","parentBlock","getParent","getStart","isBlock","getBody","getTableCloneElements","getTableHeaderType","getTableColumnResizingBehaviour","isPreserveTableColumnResizing","isResizeTableColumnResizing","getTableSizingMode","isTablePercentagesForced","isTablePixelsForced","isTableResponsiveForced","hasTableResizeBars","shouldStyleWithCss","shouldMergeContentOnPaste","getTableDefaultAttributes","defaultAttributes","isSet","determineDefaultTableAttributes","tableUseColumnGroup","closest","isEditable$1","assumeEditable","isContentEditable","editable","getRaw","contentEditable","getIsRoot","removeDataStyle","removeStyleAttribute","getSelectionStart","getPixelWidth","getPixelHeight","getRawValue","getStyle","getAttrib","getRawWidth","getRawHeight","isInEditableContext$1","inSelection","bounds","leftEdge","rightEdge","topEdge","bottomEdge","finishCol","startCol","finishRow","startRow","isWithin","getAnyBox","startCell","finishCell","startCoords","finishCoords","sc","fc","detailA","detailB","min","intercepts$1","finish","inside","parentCell","innerCell","c1","c2","intercepts","getWarehouse","nestedIntercepts","firstTable","lastTable","optStartCell","optLastCell","lastCell","TagBoundaries","DomUniverse","up","down","styles","copyTo","destination","as","insert","afterAll","appendAll","comparePosition","other","compareDocumentPosition","isSpecial","getLanguage","getText","setText","isBoundary","isEmptyTag","isNonEditable","eq","unsafeOne","universe","look","tail","commonElement","universe$3","sharedOne","sharedOne$1","_universe","lookupTable","container","identify","rootTable","boxes","startTable","finishTable","ancestorCells","ps1","ps2","prune","ind","pruned1","pruned2","shared","firstpath","secondpath","ancestors$1","ancestors","lca","lcaTable","finishAncestorCells","startAncestorCells","retrieve$1","sels","getEdges","firstSelectedSelector","lastSelectedSelector","shiftSelection","deltaRow","deltaColumn","getLast","moveBy$1","moveBy","identified","expandTo","retrieve","retrieveBox","edges","sectionSelector","firstAncestor","lastAncestor","fA","lA","isRect","detailIsWithin","j","isRectangular","getBox$1","getBox","unmergable","selectedCells","hasSpan","span","mergable","ephemera","strSelected","strFirstSelected","strLastSelected","attributeSelector","selected","selectedSelector","firstSelected","lastSelected","forMenu","getSelectionFromSelector","initCell","cellName","getSelectionCellOrCaption","getSelectionCell","getCellsFromSelection","nodes","model","getSelectedCells","registerEvents","actions","multiCellContext","preventDefault","isSelected","replicaHouse","replicaStats","house","totalColumns","minRow","minCol","maxRow","maxCol","allCells","endRow","endCol","statsStruct","findSelectedStats","unselectedCells","stats","totalRows","fillInGaps","widthDelta","colWidths","allColsWidth","selectedColsWidth","getTableWidthDelta","emptyRows","clean","extract$1","extractSelected","replicaElements","content","format","getDoc","offscreenDiv","position","overflow","opacity","root","getContentContainer","innerText","getTextContent","serializer","serialize","serializeElements","getCellsFromFakeSelection","paste","isTable","generators","targets","clipboard","pasteCells","focus","point","offset","scan$1","direction","toEnd","freefallRtl$2","freefallRtl$1","universe$2","halve","main","parse","accepted","unitRaw","check","isUnit","getGenericWidth","surround","sizes","startIndex","endIndex","results","clampDeltaHelper","minCellSize","diff","clampNegativeDelta","clampDelta","resizeTable","calcRelativeDeltas","ratio","newThis","calcLeftEdgeDeltas","clampedDelta","calcFixedDeltas","resizer","clampTableDelta","calcMiddleDeltas","_prev","calcRightEdgeDeltas","calcRedestributedWidths","totalWidth","pixelDelta","newSizes","preserveTable","isLastColumn","maxDelta","_index","_minCellSize","_totalWidth","_pixelDelta","_isRelative","getGridSize","isHeaderCell","isHeaderCells","getRowHeaderType","isHeaderRow","getRowType","findCommonCellType","subType","headerCells","transformCell","substitution","transformRow","fixedCell","mutate$1","sectionCells","TableSection","setIfNot","insert$1","render$1","newRows","syncRows","gridSection","tr","syncColGroup","colGroup","renderSection","sectionName","newSection","generateSection","sectionElems","renderOrRemoveSection","removeSection","headSection","bodySection","footSection","columnGroupsSection","findDiff","comp","toDetails","seen","details","getRow","isColRow","getColumn","subgrid","updateSeen","rowdetailnew","toGrid","colgroupCols","rowDetail","toDetailList","findInWarehouse","extractCells","cell$1","lc","run","operation","extract","adjustment","postAction","genWrappers","behaviours","tableSection","fromWarehouse","out","newElements","tableSizing","sizing","resizing","resize","onPasteByEditor","onCells","onUnlockedCells","allUnlocked","isUnlockedTableCell","unmerge","currentCell","isToReplace","value$1","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","onError","_onValue","msg","fromOption","optional","measureWidth","gridA","gridB","rowDelta","colDelta","measureHeight","generateElements","generator","rowFill","exampleRow","colFill","newChildren","tailor","fillCols","fillRows","gridWidth","isLastColLocked","modifiedCols","newLockedColumns","isSpanning","matching","getLockedColumnsWithinBounds","startAddress","colNum","insertCols","prevCell","substitute","splitCols","fittedNewGrid","secondDelta","fittedOldGrid","insertRows","uniqueCells","sub","splitRows","oldCols","oldRows","newLocked","secondDiff","fittedGridB","newChild","insertRowAt","example","ex","insertColumnAt","withinSpan","getElementFor","isDuplicatedCell","notInStartRow","notInStartColumn","determineScope","applyScope","newScope","isInHeader","getScope","hasRowspan","replaceIn","replacer","genScope","shouldReplace","isTarget","mapCells","getColumnCells","replaceColumns","indexes","rowHeaders","shouldReplaceCell","targetColumn","_colIndex","columnReplacePredicate","scopeGenerator","columnScopeGenerator","replaceCells","targetCells","Adt","cases","constructors","adt","acase","count","keys$1","argLength","foldArgs","branches","branchKeys","reqKey","log","params","ColumnContext","only","middle","right","recalculateAndApply","widths","groups","recalculateWidthForColumns","measures","recalculateWidthForCells","recalculate","adjustWidth","clampedStep","deltas","context","neighbours","determine","newWidths","dx","adjustHeight","heights","getPixelHeights","newHeights","dy","newRowSizes","matchRowHeight","removeHeight","uniqueColumns","currentDetail","isCol","isColgroup","isRow$1","elementToData","getScopeAttribute","Generators","toData","data","nuCell","recent","getOrInit","makeNew","replaceOrInit","merge","stringAttributes","baseScope","scopes","getScopeProperty","blockList","universe$1","isBlock$1","isList","isList$1","isBr","markCell","rightSiblingIsBlock","rightSibling","isEmptyTag$1","contents","advancedBr","markContent","isEditable","outcome","bundle","cursorElement","findEditableCursorPosition","elementFromGrid","uniqueRows","makeRowsSection","initialGrid","rowIndexes","newGrid","targetRow","getRowCells","columnHeaders","_cell","_rowIndex","rowReplacerPredicate","rowScopeGenerator","replaceRows","opMakeRowsHeader","opMakeRowsBody","opMakeRowsFooter","gridifyRows","pasteDetails","fromPastedRows","wh","_table","_info","adjustWidthTo","adjustAndRedistributeWidths","resizeBehaviour","tablePixelWidth","adjustAndRedistributeWidths$1","firstColumnIsLocked","_warehouse","lastColumnIsLocked","getColumnsWidth","uniqueCols","insertColumnsExtractor","pasteColumnsExtractor","headerCellGenerator","bodyCellGenerator","insertRowsBefore","targetIndex","insertRowsAfter","newG","insertColumnsBefore","extractDetail","insertColumnsAfter","eraseColumns","_comparator","_genWrappers","deleteColumnsAt","maxColIndex","eraseRows","deleteRowsAt","maxRowIndex","makeColumnsHeader","columnIndexes","unmakeColumnsHeader","makeRowsHeader","makeRowsBody","makeRowsFooter","makeCellsHeader","unmakeCellsHeader","mergeCells","merge$2","onMergable","mergeable","unmergeCells","onUnmergable","gridify","validStartAddress","currentStartAddress","gridColLength","adjustedRowAddress","possibleColAddresses","getValidStartAddress","gridBRows","lockedColumnsWithinBounds","rowRemainder","colRemainder","colRequired","rowRequired","measure","fittedGrid","newLockedColumnsWithinBounds","lockedColumnObj","skippedCol","gridBColIndex","newCellElm","mergeTables","merge$1","pasteColsBefore","mergedGrid","pasteColsAfter","pasteRowsBefore","pasteRowsAfter","getColumnsType","lastSelectedCell","minColRange","maxColRange","selectedColumnCells","getCellsType","getRowsType","minRowRange","maxRowRange","rowTypes","hasHeader","hasFooter","hasBody","findCommonRowType","fireNewRow","dispatch","fireNewCell","fireTableModified","styleModified","structure","structureModified","styleAndStructureModified","get$5","TableActions","resizeHandler","cellSelectionHandler","isTableBody","colMutationOp","getTableSectionType","rowType","execute","guard","effect","noEvents","refresh","range","firstCell","clearSelectedCells","rng","createRng","selectNode","setRng","des","setStart","setEnd","setSelectionFromAction","deleteRow","deleteColumn","getTableRowType","getTableCellType","getTableColType","constrainSpan","currentColspan","isColInRange","adt$5","invalid","pixels","percent","validateFor","rawAmount","substring","Size","redistribute$1","newType","floats","newWidthType","redistributeEmpty","newTotalWidth","scale","pc","redistributeToPx","_pc","redistributeToPercent","redistributeValues","normalize","sum","add$3","scan","remainder","floored","roundDown","round","validate","redistribute","optWidth","optHeight","widthUnit","oldWidths","getRawWidths","nuWidths","redistributeToColumns","redistributeToW","newHeight","totalHeight","oldHeights","getRawHeights","redistributeToH","isPercentSizing","isPixelSizing","isNoneSizing","cleanupLegacyAttributes","convertToPercentSizeWidth","convertToPixelSizeWidth","getPixelTableWidth","convertToNoneSizeWidth","rowElements","DefaultRenderOptions","border","colGroups","createRows","createRow","placeCaretInCell","select","collapse","colHeaders","defaultStyles","determineDefaultTableStyles","getTableDefaultStyles","headerType","renderOpts","rowHeadersGoInThead","createGroupRow","actualRowHeaders","thead","theadRows","tbody","tbodyRows","get$4","insertContent","addVisual","isPercentage","fireEvents","tableElm","selectFirstCellInTable","tableTypeBase","tableTypeRow","tableTypeColumn","setData","fakeClipboardItem","FakeClipboardItem","write","getData","read","getType","clearData","setRows","rowsOpt","clearRows","getRows","setColumns","columnsOpt","clearColumns","getColumns","getSelectionStartCellOrCaption","registerCommands","getTableFromCell","performActionOnSelection","action","getSelectionStartCell","postExecute","_data","actOnSelection","copyRowSelection","slicedGrid","filteredGrid","slicedDetails","clonedCell","copyRows","copyColSelection","fakeColGroups","colsToCopy","copiedCols","clonedCol","fakeColgroup","generateColGroup","fakeRows","cellsToCopy","copiedCells","fakeTR","generateRows","copyCols","pasteOnSelection","clonedRows","pasteRows","actOnType","getAction","_ui","get$c","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutCol","mceTableCutRow","mceTableCopyCol","mceTableCopyRow","mceTablePasteColBefore","mceTablePasteColAfter","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","isEmpty","setCursorLocation","nodeChanged","mceTableCellToggleClass","clazz","allHaveClass","formatter","formatterAction","mceTableToggleClass","toggle","mceTableToggleCaption","caption","appendAt","mceTableSizingMode","setSizingMode","mceTableCellType","mceTableColType","mceTableRowType","func","addCommand","checkInput","headerRows","headerColumns","insertTable","getFormatName","validArgs","onTrue","onFalse","internalFilter","objAcc","filter$1","has","formatName","adt$4","Situ","cata","subject","onBefore","onOn","onAfter","situ","Response","kill","createRange","selectNodeContents","selectNodeContentsUsing","relativeToNative","startSitu","finishSitu","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setFinish","exactToNative","soffset","foffset","toRect","rect","bottom","adt$3","ltr","rtl","fromRange","startContainer","startOffset","endContainer","endOffset","diagnose","ranges","domRange","exact","getRanges","collapsed","rev","doDiagnose","asLtrRange","SimRange","Situs","convertToRange","makeSitus","selectRange","cellSel","traverse","backtrack","_direction","transition","sidestep","advance","sibling","successors","go","rules","succ","rule","fb","hone","isLeaf","seekLeft$1","seekRight$1","before$1","after$1","after$2","adt$2","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","gatherer","cand","gather","handleParent","findBr","br","adjacent","inParent","indexInParent","moveDown","caret","moveUp","xDelta","yDelta","toCaret","getElemBox","getBoxAt","getRangedRect","getPartialBox","getEntireBox","adt$1","retry","inOutsideBlock","isOutside","downMovement","adjuster","guessBox","lowerCaret","move","adjustTil","movement","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","higherCaret","tryDown","getJumpSize","findSpot","getSelection","sel","handleBr","tgt","tryBr","brNeighbour","fromSitus","analysis","_message","tryCursor","situs","tryAgain","tryAt","simulate","initial","anchor","inSameTable","spot","handle$1","navigate","precheck","firstUpCheck","seekLeft","lastOffset","lastDownCheck","seekRight","Cell","doRevoke","revoke","singleton","findCell","isInEditableContext","isKey","keycode","isUp","isDown","isNavigation","isBackward","isForward","SimSelection","exactFromRange","simRange","getWin","_finishSitu","_soffset","_finish","_foffset","beforeSpecial","name$1","getNativeSelection","doSetNativeRange","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","extend","setLegacyRtlRange","setExact","preprocessExact","setRelative","preprocessRelative","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","makeRange","same","anchorOffset","focusOffset","setToElement","selectNodeContents$1","get$2","getExact","getAtPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","WindowBridge","rects","getClientRects","getFirstRect$1","getFirstRect","exactAdt","clearSelection","collapseSelection","toStart","setSelection","setRelativeSelection","selectContents","innerHeight","getScrollY","_DOC","get$3","by","rc","isEditableNode","isEditableSelection","supports","classList","add$1","add$2","multiple","single","fromRawEvent$1","rawEvent","event","shadowRoot","composed","composedPath","getOriginalEventTarget","stopPropagation","prevent","fa","mkEvent","clientX","clientY","unbind","useCapture","wrapped","handle","bind$1","fromRawEvent","hasInternalTarget","TableCellSelectionHandler","cellSelection","annotations","onSelection","onClear","removeSelectionAttributes","addSelectionAttribute","clearBeforeUpdate","SelectionAnnotation","cellsDom","otherCellsDom","upOrLeftCells","upGrid","upDetails","slicedCells","getUpOrLeftCells","downOrRightCells","downGrid","downDetails","getDownOrRightCells","getOtherCells","otherCells","cellArr","fireTableSelectionChange","fireTableSelectionClear","mouseHandlers","clearstate","applySelection","singleCell","isNonEditableCell","isCellClosestContentEditable","mousedown","mouseover","mouseup","MouseSelection","mouse","keyHandlers","clearToNavigate","keydown","realEvent","which","shiftKey","update$1","navigation","newSels","update","_","keyup","sync","keyboard","external$1","external","handleResponse","response","hasShiftKey","ns","isLeftMouse","button","doubleTap","lastTarget","lastTimeStamp","touchEnd","lT","lTS","timeStamp","getDoubleTap","buttons","wrappedEvent","getRng","hide","show","addTempAttr","onSingle","onMultiple","Event","fields","trigger","create$1","typeDefs","registry","handleExact","required","unsupported","unsuppMessage","exactly","handleUnsupported","validateStrArr","everything","sorted","checkDupes","req","reqMessage","invalidKeys","incorrect","invalidTypeMessage","baseWith","DragMode","DragSink","DragApi","Movement","noDragState","events","onEvent","reset","NoDrag","inDragState","previous","old","compare","InDrag","dragState","isOn","namespace","dashNamespace","resolve$1","MouseDrag","sink","dragApi","settings","blocker","layerClass","destroy","Blocker","mdown","forceDrop","mup","drop","mmove","mout","delayDrop","mutation","resizeBar","resizeRowBar","resizeColBar","wire","drawBar","origin","cpOption","cp","bar","refreshGrid","warhouse","isResizable","rowPositions","resizableRowBars","resizableRows","tableWidth","rowBar","refreshRow","_pos","barIndex","colPositions","resizableColBars","resizableCols","resizableColumns","tableHeight","colBar","refreshCol","bars","resizeBarDragging","BarManager","drag","delegate","Mutation","BarMutation","active","throttledDrop","timer","cancel","throttle","runIfActive","isActive","transform","hoverTable","getResizer","_dataRow","_dataCol","currentCol","getDelta","dir","startAdjust","isColBar","tbl","hideBars","showBars","barResizerPrefix","TableResizeHandler","selectionRng","tableResize","resizeWire","startW","startRawW","startH","startRawH","lazySizing","lazyResizingBehaviour","afterCornerResize","location","removeLeading","removeFromStart","getCornerLocation","isRightEdgeResize","isNorthEdgeResize","getPixelTableHeight","convertToPixelSizeHeight","getNumColumns","isPercentage$1","percentW","isPixel","computedWidth","syncTableCellPixels","getNumRows","rawWire","chrome","ResizeWire","padding","margin","createContainer","objectResizing","hasTableObjectResizing","sz","hdirection","vdirection","manager","beforeResize","afterResize","startDrag","_event","refreshBars","TableResize","isReadOnly","rawTable","fireObjectResizeStart","fireObjectResized","targetElm","addClass","isCornerResize","showResizeBars","hideResizeBars","state","setupTable","registerOption","register","processor","valid","lookupOnSelection","addQueryValueHandler","registerQueryCommands","getAutoLinkPattern","getDefaultLinkTarget","getDefaultLinkProtocol","allowUnsafeLinkTarget","isZwsp","char","isBracketOrSpace","findChar","charAt","parseCurrentLine","voidElements","schema","getVoidElements","autoLinkPattern","getNode","textSeeker","getContentEditable","tempNode","tempOffset","freefallRtl","getRoot","endSpot","backwards","lastTextNode","startSpot","newRng","hasProtocol","convertToLink","command","ui","isDefaultPrevented","execCommand","defaultLinkTarget","setAttrib","handleSpacebar","handleBracket","keyCode","handleEnter","global$4","hasProto","proto","isPlainObject","global$3","global$2","hasDimensions","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","removePixelSuffix","addPixelSuffix","isPlaceholderImage","imgElm","hasAttribute","isSafeImageUrl","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","DOM","getHspace","image","marginLeft","marginRight","getVspace","marginTop","marginBottom","getBorder","borderWidth","hasCaption","updateAttrib","normalizeStyle","normalizeCss","attrValue","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","getBorderStyle","isFigure","getIsDecorative","getAlt","getStyleValue","hspace","vspace","alt","title","class","isDecorative","updateProp","oldData","newData","setAlt","sugarImage","normalized","_name","_value","figureElm","insertAfter","removeFigure","wrapInFigure","toggleCaption","updateAlt","normalizeCss$1","mergedCss","splitMargin","mergeMargins","compressed","getSelectedImage","splitTextBlock","figure","textBlockElements","parentElm","isValidChild","getTextBlockElements","textBlock","insertImageAtCaret","outerHTML","insertedElm","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","syncSrcAttr","selectImage","onload","onerror","setAttribs","clientWidth","clientHeight","waitLoadImage","writeImageDataToSelection","deleteImage","deepMerge","merger","objects","curObject","getValue","sanitizeList","extractValue","menu","sanitizer","extractor","findEntryDelegate","isGroup","ListUtils","optList","collect","urlListSanitizer","convertURL","futureImageList","Promise","completer","callback","imageList","fetch","then","ok","json","createImageList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","imageDescription","enabled","filetype","picker_text","useColumns","MainTab","fromImageData","meta","images","dimensions","classes","borderstyle","fileinput","toImageData","removeEmptyAlt","changeSrc","helpers","srcURL","prependUrl","addPrependUrl2","addPrependUrl","entry","formFillFromMeta2","formFillFromMeta","imageSize","open","catch","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","block","unblock","file","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","showTab","blob","reject","reader","FileReader","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","alertErr","addToBlobCache","changeHandler","img","prevAlt","changeImages","setEnabled","closeHandler","makeDialogBody","tabs","inputMode","submitHandler","finalData","editorUpload","uploadImagesAuto","close","getImageSize","documentBaseURI","toAbsolute","blobCache","filename","base64","windowManager","alert","parseStyle","serializeStyle","stylesArg","upload","status","Dialog","createState","primary","initialData","onClose","hasImageClass","className","toggleContentEditableState","toggleContentEditable","getAll","onSetupEditable","isArrayOf","register$2","parser","addNodeFilter","addToggleButton","icon","tooltip","onAction","onSetup","buttonApi","setActive","unbindSelectorChanged","selectorChangedWithUnbind","unbindEditable","addMenuItem","addContextMenu","register$1","global$5","assumeExternalTargets","hasContextToolbar","getLinkList","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","useQuickLink","isAnchor","isLink","getHref","collectNodesInRange","cloneContents","walker","applyRelTargetRules","rel","isUnsafe","rels","removeTargetRules","inArray","newRels","addTargetRules","getAnchorElement","selectedElm","getLinksInSelection","isImageFigure","isInAnchor","getAnchorText","anchorElm","getLinks$1","grep","hasLinks","isOnlyTextSelected","inlineTextElements","getTextInlineElements","linkDomMutation","attachState","linkAttrs","newLinkAttrs","newRel","href","handleExternalTargets","applyLinkOverrides","getLinkAttrs","attach","linkImageFigure","createHTML","encode","createLink","updateLink","unwrapOptions","cls","_k","link","uriOptions","sanitizeData","hasPlugin","unlink","unlinkImageFigure","cloneRange","startAnchorElm","endAnchorElm","unlinkSelection","unlinkDomMutation","fig","getParents","sanitizeWith","extracter","ListOptions","findTextByValue","catalog","isListGroup","DialogChanges","linkCatalog","persistentData","onCatalogChange","change","catalogs","fieldName","persistentText","hasPersistentText","getTitleFromUrlChange","onUrlChange","tryEmailTransform","preprocess","tryProtocolTransform","defaultLinkProtocol","AnchorListOptions","anchorNodes","anchors","ClassListOptions","parseJson","JSON","RelOptions","initialTarget","isTargetBlank","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","linkList","optItems","LinkListOptions","links","linkClass","extractFromAnchor","optNode","flags","titleEnabled","collectData","getChangedValue","changedData","setEditorTimeout","confirm","delayedConfirm","DialogConfirms","pData","handleSubmit","displayText","titleText","defaultTarget","getInitialData","dialogDelta","makeDialog","spec","gotoLink","targetEl","scrollIntoView","MouseEvent","bubbles","cancelable","dispatchEvent","appendClickRemove","openLink","getLinkFromElement","getLinkFromSelection","isCollapsed","isSelectionOnImageWithEmbeddedLink","getLinkInSelection","openDialog","dialog","toggleState","toggler","toggleLinkState","updateState","toggleLinkMenuState","toggleRequiresLinkState","updateEnabled","hasLinks$1","selectedLink","getSelectedLink","metaKeyPressed","altKey","ctrlKey","metaKey","hasOnlyAltModifier","gotoSelectedLink","setup$1","shortcut","addButton","setupButtons","setupMenuItems","setupContextMenu","onSetupLink","addContextForm","launch","initValue","commands","formApi","onlyText","getLinkText","collapseSelectionToEnd","setupContextToolbars","toolbarKey","addShortcut","setup$2","global$7","get$1","isDuplicated","lift2","oa","ob","isElement$1","lastChild","ancestor$3","global$6","matchNodeName","matchNodeNames","regex","isTextNode$1","isListNode","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isTableCellNode","isTextBlock","blockElements","isVoid","isEmpty$2","keepBookmarks","isChildOfBody","isChildOf","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","getBlockElements","fragment","createFragment","blockName","blockAttrs","hasContentNode","DOM$2","isDescriptionDetail","isDescriptionTerm","outdentDlItem","dl","li","bookmarks","newBlock","tmpRng","extractContents","targetNode","removeAndKeepBookmarks","splitList","indentDlItem","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","listNames","listSelector","getParentList","selectionStart","getClosestListHost","getSelectedListItems","selectedBlocks","getSelectedBlocks","elms","listItemsElms","findParentListItemsNodes","getClosestEditingHost","parentTableCell","parentBlocks","isNotForcedRootBlock","listName","findLastParentListNode","parentLists","getUniqueListRoots","lists","listRoots","isCustomList","inList","isWithinNonEditable","isWithinNonEditableList","parentList","setNodeChangeHandler","nodeChangeHandler","initialNode","fromElements","createDocumentFragment","fireListEvent","hasFirstChildList","isEntryList","isEntryComment","isIndented","depth","cloneItemContent","joinSegment","createSegment","listType","segment","writeShallow","cast","newCast","createItem","itemAttributes","appendItem","listAttributes","normalizeSegment","isEntryFragment","composeList","entries","firstCommentEntryOpt","segments","parentListType","createSegments","joinSegments","populateSegments","writeDeep","firstCommentEntry","fistCast","normalizeEntries","dirty","closestSiblingEntry","cleanListProperties","matchingEntry","cloneListProperties","parseSingleItem","itemSelection","selectionState","currentItemEntry","isInPreviousLi","createEntry","childListEntries","parseList","parseItem","parsedSiblings","liChild","isFragment","listIndentation","indentation","entrySets","sourceList","parseLists","selectedListItems","getItemSelection","entrySet","indentEntry","indentSelectedEntries","composedLists","wasType","groupBy","normalizedEntries","contentDocument","indentedComposer","listItemAttrs","outdentedComposer","composeEntries","composedList","selectionIndentation","selectedLists","firstList","subsequentLists","getSelectedLists","getParentLists","isListInsideAnLiWithFirstAndLastNotListElement","getSelectedListRoots","dlItems","getSelectedDlItems","isHandled","dlIndentation","handleIndentation","selectionIsWithinNonEditableList","indentListSelection","outdentListSelection","flattenListSelection","DOM$1","createBookmark","setupEndPoint","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","updateListWithDetails","setStyle","updateListStyle","updateListAttrs","isInline","getEndPointNode","findBetterContainer","forward","findBlockAncestor","applyList","listItemName","startPoint","commonAncestorContainer","getRootSearchStart","toUpperCase","selectedTextBlocks","textBlocks","startNode","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","liSibling","updateList$1","newList","updateCustomList","hasListStyleDetail","toggleList","_detail","selectedSubLists","isParentListSelected","findSubLists","getSelectedSubLists","parentIsList","allLists","updateFunction","toggleMultipleLists","toggleSingleList","normalizeLists","normalizeList","findNextCaretContainer","nonEmptyBlocks","getNonEmptyElements","isBogusBr","walkFn","prev2","hasOnlyOneBlockChild","isUnwrappable","moveChildren","fromElm","toElm","unwrapSingleBlockChild","mergeLiElements","listNode","ul","nestedLists","backspaceDeleteFromListToListCaret","selectionStartElm","otherLi","willMergeParentIntoChild","fromLi","toLi","mergeIntoEmptyLi","mergeForward","resolvedBookmark","mergeBackward","oldParentElRef","hasListSelection","backspaceDelete","checkRootAsContent","findValidElement","findRoot","equals","removeBlock","backspaceDeleteIntoListCaret","backspaceDeleteCaret","shouldFireInput","inputHandler","backspaceDeleteRange","parseAlphabeticBase26","chars","charValue","charCodeAt","pow","composeAlphabeticBase26","quotient","fromCharCode","parseDetail","listStyleType","queryListCommandState","registerDialog","currentList","deduceListType","parseStartValue","isTextNode","nodeBuffer","wrapInvalidChildren","insertListItem","buffer","refNode","restBuffer","setupToggleButtonHandler","setupMenuButtonHandler","register$3","TAB","setupTabKey","cmd","BACKSPACE","DELETE","setStyles","updateList","addQueryStateHandler","listProperties","getAudioTemplateCallback","getVideoTemplateCallback","getIframeTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","forced_root_block","walk","fileEnd","mp3","m4a","wav","mp4","webm","ogg","swf","Parser","allow_conditional_comments","addPx","updateEphoxEmbed","styleMap","sources","updateHtml","updateAll","numSources","sourceCount","rootNode","hasImage","urlPatterns","allowFullscreen","getUrl","protocol","protocolMatches","getProtocol","newUrl","matchPattern","patterns","dataToHtml","dataIn","embed","sourcemime","altsourcemime","allowfullscreen","audioTemplateCallback","videoTemplateCallback","iframeTemplateCallback","getIframeHtml","getFlashHtml","getAudioHtml","getVideoHtml","isMediaElement","loadedData","getEmbedHtml","embedHandler","rej","wrappedResolve","embedPromise","defaultPromise","getDimensions","metaData","dims","sourceInput","mainData","extractMeta","getFromData","getFromMetaData","getNonEmptyValue","handleError","errorMessage","notificationManager","addEmbedHtml","nuData","handleInsert","beforeObjects","afterObjects","splice","selectPlaceholder","isEmbedIframe","mediaDataType","shouldInsertAsNewIframe","prevData","hasDimensionsChanged","showDialog","editorData","snippet","getDimensionsOfElement","getEditorData","currentData","sizeInput","constrain","generalTab","advancedFormItems","advancedTab","serviceData","submitForm","handleSource","dataFromEmbed","handleEmbed","dialogData","handleUpdate","isLiveEmbedNode","dimension","defaultValue","setDimensions","previewNode","useDefaults","fallbackHeight","defaultHeight","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","sandbox","referrerpolicy","sanitizedHtml","newNode","appendNodeContent","unescape","shimNode","sourceNode","attribs","ai","innerHtml","escape","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","parseAndSanitize","sanitize","getEditorOption","boolAttrs","getBoolAttrs","getElementRule","attributesOrder","placeHolderConverter","addAttributeFilter","realElmName","realElm","previewObj","stopImmediatePropagation","selectedNode","hasClass","flatten$1","children$3","addPxSuffix","remove$2","toInt","radix","getTDTHOverallStyle","firstChildStyle","currentStyle","setAlign","align","defaultCellBorderWidths","defaultCellBorderStyles","getTableBorderWidths","getTableBorderStyles","hasAdvancedCellTab","hasAdvancedRowTab","hasAdvancedTableTab","hasAppearanceOptions","hasTableGrid","getCellClassList","getRowClassList","getTableClassList","getToolbar","getTableBackgroundColorMap","getTableBorderColorMap","isPixelsForced","isResponsiveForced","getDefaultStyles","determineDefaultStyles","getDefaultAttributes","determineDefaultAttributes","child$3","getRowsFromSelection","verticalAlignValues","shorthandRegex","longformRegex","normalizeHex","hex","toHex","component","fromRgba","rgbaColour","red","green","blue","rgbRegex","rgbaRegex","alpha","fromStringValues","g","fromString","rgbaString","rgbMatch","rgbaMatch","onSetupToggle","formatValue","boundCallback","checkNode","formatChanged","buildListItems","buildClassList","buildMenuItems","getSubmenuItems","applyTableCellStyle","filterNoneItem","generateMenuItemsCallback","buildColorMenu","colorList","colorMap","color","isHexString","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","rgba","getImageData","fancytype","initData","colors","allowCustomColors","changeRowHeader","queryCommandValue","changeColumnHeader","getItems$2","getClassList$1","getAdvancedTab","dialogName","advTabItems","DomModifier","setFormat","getRowType$1","onUnlockedMergable","onUnlockedUnmergable","selectedRows","rgbToHex","extractAdvancedStyles","borderwidth","bordercolor","backgroundcolor","getSharedValues","baseData","comparisonData","itemValue","itemKey","comparisonValue","getAlignment","matchNode","getHAlignment","getVAlignment","cellA","cellB","onSubmitCellForm","modifiedData","wasChanged","isSingleCell","cellElm","shouldOverrideCurrentValue","modifier","colModifier","shouldUpdate","updateSimpleProps$1","updateAdvancedProps$1","halign","setVAlign","valign","applyStyleData$1","celltype","applyStructureData$1","applyCellData","open$2","cellsData","extractDataFromCellElement","getData$1","dialogTabPanel","dialogPanel","formChildren","getItems$1","onSubmitRowForm","typeModified","rowElm","updateSimpleProps","updateAdvancedProps","applyStyleData","applyStructureData","applyRowData","open$1","rowsData","extractDataFromRowElement","getItems","insertNewTable","rowColCountItems","appearanceItems","classListItem","styleTDTH","onSubmitTableForm","applicableCellProperties","cellpadding","shouldApplyOnCell","shouldStyleWithCss$1","hasAdvancedTableTab$1","borderIsZero","removePxSuffix","cellspacing","cellStyles","isEmpty$1","advData","applyDataToElement","captionElm","captionModified","hasAdvTableTab","advStyle","extractDataFromSettings","optBorderWidth","extractDataFromTableElement","generalPanel","dialogBody","mceTableProps","mceTableRowProps","mceTableCellProps","mceInsertTableDialog","runAction","getSelectionTargets","changeHandlers","selectionDetails","isCaption","isDisabledForSelection","findTargets","startCellOrCaption","oot","getSelectionEnd","endTable","noMenu","getExtractedDetails","onAny","onFirst","onLast","unmergeable","resetTargets","setupHandler","isDisabled","onSetupWithToggle","isDisabledFromLocked","lockedDisable","onSetupTableHeaders","onSetupTableRowHeaders","onSetupTableColumnHeaders","onSetupTable","onSetupCellOrRow","onSetupColumn","onSetupPasteable","getClipboardData","onSetupPasteableColumn","onSetupMergeable","_targets","onSetupUnmergeable","onSetupTableWithCaption","onSetupEditable$1","selectionTargets","addMenuIfRegistered","queryCommandSupported","addToggleMenuIfRegistered","addToggleMenuItem","insertTableAction","numRows","numColumns","hasRowMenuItems","hasColumnMenuItems","hasCellMenuItems","addNestedMenuItem","tableClassList","tableCellClassList","addMenuItems","addMenuButton","addButtonIfRegistered","addToggleButtonIfRegistered","addButtons","addContextToolbar","addToolbars","getPrototypeOf$2","noarg","compose","constant$1","die","apply$1","range$2","chunk$1","map$2","partition$3","find$5","findIndex$1","bind$3","difference","a1","a2","pure$2","get$i","find$4","get$h","has$2","mapFrom","numChars","trim$1","path$1","getPrototypeOf$1","getOrDie$1","name$3","type$1","owner$4","offsetParent","leaf","set$9","get$g","remove$8","set$8","setOptions","get$f","getAllRaw","ruleName","isValidValue$1","reflow","get$e","r$1","absolute$3","viewport$1","unknown$3","nu$d","find$3","detect$3","nu$c","nu$b","isOpenShadowHost","append$2","prepend$1","to","scrollTo","bounds$1","getBounds$3","_win","scroll","visualViewport","pageLeft","pageTop","walkUp","Navigation","freeze","frameElement","find$2","paths","pathTo","frames","loc","box$1","xy","absolute$2","constraint","singleton$1","unbindable","value$4","global$a","value$3","error$1","SimpleResultType","fold$1","stype","serror","svalue","Value","SimpleResult","field$2","newKey","presence","ifField","ifCustom","instantiator","baseMerge","defaultedThunk","fallbackThunk","process","defaulted$1","mergeWithThunk","baseThunk","ResultCombine","partitions","errors","formatObj","stringify","nu$a","getErrorInfo","value$2","validator","custom","anyValue$1","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","missingRequired","requiredAccess","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","objOf","fieldNames","extra","unsupportedFields","extractFields","_okey","_presence","_instantiator","arrOf","oneOf","rawF","setOf$1","validatedKeys","validateKeys","validKeys","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","choose$2","missingKey","chosen","ch","branch","missingBranch","vp","chooseFrom","valueOf","setOf","asRaw","errs","extraction","errInfo","formatError","asRawOrDie$1","es","formatErrors","choose$1","thunkOf","desc","_desc","getP","field$1","customField","validateEnum","required$1","requiredOf","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","bothErrors","firstError","secondError","bothValues","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","ensureIsRoot","transformed","closest$4","isSource","simulatedEvent","defaultEventHandler","can","abort","nu$9","touchstart","touchmove","touchend","touchcancel","mousemove","mouseout","focusin","focusout","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","externalElementScroll","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","getSystem","triggerEvent","derive$2","configs","run$1","runActionExtra","runOnSourceName","redirectToPart","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","cleanParameters","parameters","markAsExtraApi","extraName","openBracketIndex","toFunctionAnnotation","nu$8","loadEvent","bConfig","bState","_simulatedEvent","revokeBehaviour","doCreate","configSchema","schemaSchema","apis","getConfig","wrappedApis","apiF","apiName","bName","apiFunction","markAsBehaviourApi","config","wrapApi","me","extraF","prepared","configAsRaw","initialConfig","exhibit","behaviourInfo","exhibitor","getEvents","NoState","nu$7","readState","derive$1","capabilities","simpleSchema","create$4","create$5","modeSchema","createModes","modes","createModes$1","branchKey","read$1","add$4","remove$4","cleanClass","remove$3","getNative","NuPositionCss","toPx","applyPositionCss","toOptions","getOffsetParent","offsetParent$1","getOrigin","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isTopCompletelyVisible","isBottomCompletelyVisible","forceTopPosition","winBox","leftX","topY","forceBottomPosition","bottomY","getDockedLeftPosition","getPrior","getInitialPos","priorY","optScrollEnv","scrollEnv","scrollElmTop","currentScrollTop","getXYForRestoring","storePrior","decision","getXYForSaving","setInitialPos","revertToOriginal","clearInitialPos","morph","offsetBox","scrollDelta","positionCss","_left","_top","_right","_bottom","tryDecisionToFixedMorph","tryMorph","isVisibleForModes","getModes","tryMorphToOriginal","tryMorphToOriginalOrUpdateFixed","tryDockingPosition","tryMorphToFixed","morphToStatic","setDocked","onUndocked","morphToCoord","isDocked","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isVisible","isPartiallyVisible","setVisible","applyFixedMorph","refresh$4","lazyViewport","applyMorph","refreshInternal","reset$2","calculateMorphToOriginal","staticOrAbsoluteMorph","resetInternal","forceDockWithDecision","getDecision","storePriorIfNone","forceDockWith","forceDockToTop","forceDockToBottom","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","set$6","docDom","contentElements","fromHtml$1","getHtml","EventConfiguration","eventConfig","monitorEvent","NORMAL","noLogger","LOGGING","logger","sequence","startTime","getTime","logEventCut","purpose","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","makeEventLogger","STOP","processEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","onPresenceHandler","stack","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","DockingSchema","Docking","docked","visible","initialBounds","events$h","originator","isRecursive","warn","DefaultEvents","cycleBy","clamp","generate$6","random$1","crypto","getRandomValues","Uint32Array","prefix$1","idAttr$1","idAttr","writeOnly","writable","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","premadeTag","premade$1","getPremade","makeApi","markAsSketchApi","getApis","byInnerKey","indexKey","chain","getCurried","descHandler","cHandler","behaviourTuple","nameToHandlers","behaviour","fuse","tuples","eventOrder","order","keyName","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","all$2","any","fuse$1","missingOrderError","combineGroups","byEventName","objs","partition$1","mergeValues","consolidate","assembled","rawHandler","read$2","assemble","uncurried","baseBehaviour","schema$z","toEvents","set$5","ensureInDom","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","oldObsoleted","childComp","newObs","oldTag","determineObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","bifilter","renderToDom","definition","optObsoleted","domChildren","hasMixedChildren","isPremade","existingAttributes","attrsToSet","attrsToRemove","existingStyles","stylesToSet","stylesToRemove","existingClasses","classesToRemove","classesToAdd","patchDomChildren","valueElement","updateValue","reconcileToDom","attemptPatch","introduceToDom","generate$4","getBehaviours$2","validated","optBlobThunk","generateFrom$1","generateFrom","build$2","getMe","systemApi","toInfo","bBlob","bList","bData","getBehaviours$3","getData$2","modDefinition","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","defnA","mod","getDomDefinition","baseEvents","behaviourEvents","groupByEvents","combine$1","subcomponents","hasConfigured","behaviourName","connect","newApi","disconnect","syncComponents","subs","text$2","extSpec","uids","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","buildFromSpec","isSketchSpec$1","premade","closest$3","sibling$1","ariaId","isPartOf$1","queryElem","dep","isAriaPartOf","nu$6","bubble","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","restrictions","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","Receiving","ActivePosition","posConfig","useFixed","focus$3","preventScroll","blur$1","blur","activeElement","active$1","preserve$1","refocus","focused","oldFocus","newFocus","adt$9","positionWithDirection","posName","decisionRect","decisionX","decisionY","decisionRight","decisionBottom","reposition","toBox","optBounds","translate$2","outerScroll","relative$1","fixed$1","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","originInBounds","sizeInBounds","visibleW","visibleH","boundsX","boundsY","boundsRight","boundsBottom","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","maxWidth","maxHeight","upAvailable","downAvailable","cataVertical","westAvailable","eastAvailable","cataHorizontal","calcMaxSizes","classesOn","classesOff","layout","testY","capture","capture$1","timerAttr","applyTransitionCss","lastPlacement","shouldTransition","placer","shouldApplyTransitionCss","hasAll","isTransitioning$1","intermediatePosition","intermediateCssOptions","intermediate","toFixed","hasChanges","timerId","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","transitionStart","duration","times","dur","getTransitionDuration","requestAnimationFrame","setupTransitionListeners","startTransitioning","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","anchorBox","elementBox","panelWidth","panelHeight","attemptBestFit","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","bestNext","preference","position$2","setPlacement$1","setPlacement","classInfo","setClasses","maxHeightFunction","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","onBottomLtr","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","points","sumAsAbsolute","absolute$1","getRootPoint","frame","frameOwner","compOwner","pointed","calcNewAnchor","optBox","rootPoint","topLeft","onRelative","onFixed","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","adt$6","all$3","descendOnce","descendOnce$1","isSimRange","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","getBounds$2","getBounds$1","zeroWidth$1","rawRect","selectionRect","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","positionWithinBounds","posState","placee","placementSpec","optWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","anchoring","getBounds","newState","lastPlace","overrideOptions","simple","place","vis","PositionApis","getMode","pConfig","_pState","reset$1","Positioning","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sConfig","sState","getAttachPoint","built","onOpen","close$1","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","cssKey","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","openWhileCloaked","transaction","isPartOf","getState","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","itemString","currentDataByValue","currentDataByText","newDataByValue","newDataByText","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","forbidden","forbid","_v","dump","augment","SketchBehaviours","_placeholder","isSubstituted","compSpec","placeholders","uiType","newSpec","subPlaceholder","childSpecs","substituted","valuesThunk","preprocessor","single$2","placeholder","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","adtConstructor","partSchema","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","u","components$1","ps","ph","replacements","used","oneReplace","substituteAll","substitutePlaces","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","ComposeApis","getCurrent","composeConfig","_composeState","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disable","enable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled$1","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getFirst","_hState","itemClass","getDelta$2","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","getByIndex","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","and","preds","isShift$1","isControl","isNotShift","classification","reportFocusShifting","prevFocus","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$2","cyclicField","tabbingConfig","visibilitySelector","findCurrent","focusManager","_tabbingState","tabstops","visibles","firstTabstop","findInitial","cycle","tabstop","stopIndex","useTabstopAt","isTabstop","cyclic","goFromTabstop","goBackwards","goForwards","onEnter","onEscape","isFirstChild","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","setGridSize","KeyingState","flatgrid","useH","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","withGrid","numCols","address","newIndex","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$4","gridConfig","_gridState","doMove$2","gridState","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","getNewIndex","tryNewIndex","isDisabledButton","horizontalWithoutCycles","prevIndex","oldCandidate","onNewIndex","horizontal","_oldCandidate","schema$t","execute$2","flowConfig","focusIn$3","_state","getInitial","moveLeft$2","cycles","moveRight$2","doMove$1","flowState","executeOnMove","getKeyupRules$3","FlowType","_flowState","westMovers","allowHorizontal","allowVertical","eastMovers","toCell","matrix","cycleHorizontal","deltaCol","newColIndex","cycleVertical","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$2","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","inRow","cellsInRow","allRows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","focusIn$1","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","withoutReuse","newSpecs","buildNewChildren","detachChildren$1","deleted","replaceChildren","withReuse","existingComps","specs","patchSpecChildren","deletedComp","virtualReplaceChildren","virtualReplace","replacee","replaceeIndex","childSpec","_replaceConfig","replaceAt","replaceConfig","replaceState","reuseDom","ReplaceApis","appendee","prependee","removee","foundChild","replaceBy","replaceePred","Replacing","eventHandlers","events$c","focus$2","focusConfig","FocusApis","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","toggleConfig","initialState","toggleClass","updateClass","ariaInfo","aria","updateAriaState","onToggled","toggle$2","ToggleApis","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","events$9","optAction","hoverEvent","focusEvent","toggledEvent","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","role","toggling","exclusive","schema$p","hasSubmenu","itemBehaviours","tConfig","isOption","getTogglingSpec","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","fakeFocus","markers","schema$m","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","checkedRadioItems","ele","deselectOtherRadioItems","showMenuRole","trace","byItem","byMenu","triggerItem","triggerMenu","extractPreparedMenu","prep","LayeredState","expansions","menus","directory","getPreparedMenu","menuValue","lookupMenu","lookupItem","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","menuItems","menuPaths","_triggerItem","generate$2","expand","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","getItemByValue","extraPath","revPath","menuIndex","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","getTriggerData","onMenuItemHighlightedEvent","onMenuItemDehighlightedEvent","HighlightOnOpen","collapseItem$1","tieredMenu","HighlightMenuAndItem","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","submenuParentItems","layeredState","getItemValue","toDirectory","_container","_menuName","setActiveMenu","setActiveMenuAndItem","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","expandRight","HighlightSubmenu","activeMenuPrep","nbMenu","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","componentMap","primaryName","makeSketch","menuComp","buildMenus","onOpenMenu","highlightOnOpen","HighlightJustMenu","tmenuComp","se","onHighlightItem","onDehighlightItem","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithinBounds","thing","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","inlineBehaviours","getRelated","isPartOfRelated","fireDismissalEventInstead","fireRepositionEventInstead","ToolbarMode$1","ToolbarLocation$1","global$9","global$8","ToolbarMode","ToolbarLocation","option$2","wrapOptional","register$f","stringOrFalseProcessor","stringOrNumberProcessor","getElement","auto","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getFilePickerCallback","getFilePickerValidatorHandler","getFontSizeInputDefaultUnit","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","promotionEnabled","useHelpAccessibility","getDefaultFontStack","getSkin","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","skin","baseURL","getLineHeightFormats","isToolbarEnabled","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","isSplitUiMode","Options","getSkinUrlOption","isDraggableModal","nonScrollingOverflows","isScrollingOverflowValue","isScroller","overflowX","overflowY","isFullscreen","fullscreen","detectWhenSplitUiMode","popupSinkElem","ancestorsScrollers","scrollers","getBoundsFrom","scrollableBoxes","constraints","constrainByMany","Button","lookupAttr","buttonBehaviours","getAttrs","record","isSketchSpec","anyInSystem","asSpec","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","ImmediateHideTooltipEvent","ImmediateShowTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","immediateOpenClose","isEnabled","tState","setComponents","getTooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","resetTimer","delayForShow","delayForHide","TooltippingSchema","TooltippingState","setToEnabled","Tooltipping","isFrozen","getOwnPropertyDescriptor","seal","construct","Reflect","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","_len2","_key2","thisArg","_len","_key","addToSet","transformCaseFunc","lcElement","cleanArray","object","newObject","lookupGetter","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text$1","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","getGlobal","purify","createDOMPurify","DOMPurify","removed","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Element","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","getElementsByTagName","importNode","hooks","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","TRUSTED_TYPES_POLICY","createScriptURL","purifyHostElement","createPolicy","ATTR_NAME","policyName","scriptUrl","_createTrustedTypesPolicy","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","_removeAttribute","getAttributeNode","_initDocument","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","namespaceURI","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","childClone","__removalCount","parentTagName","Boolean","_checkValidNamespace","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","keepAttr","allowedAttributes","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","importedNode","returnNode","nodeIterator","shadowroot","shadowrootmode","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","sanitizeHtmlString","rtlTransform","defaultIconName","defaultIcon","getIconName","rtlName","addToEnd","ensureTrailing","lookupIcon","iconProvider","addFocusableBehaviour","renderIcon$3","iconName","fallbackIcon","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","notificationTextId","memBannerText","backstageProvider","renderPercentBar","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","level","memButton","tooltips","tooltipText","notificationIconSpec","iconNames","renderFirst","NotificationManagerImpl","uiMothership","notificationRegion","sharedBackstage","backstage","getBoundsContainer","getContentAreaContainer","getContainer","contentArea","clampComponentsToBounds","closeCallback","isEditorOrUIFocused","region","editorOrUIFocused","notification","removeNotificationAndReposition","editorOrUiFocused","handleEmptyRegion","handleRegionWithChildren","manageRegionVisibility","progressBar","providers","notificationSpec","notificationWrapper","getSink","header","isPositionedAtTop","anchorOverrides","timeout","nuText","getEl","getArgs","ItemResponse","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","hasIcons","menuClasses","dom$1","schema$l","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","fromInputValue","toInputValue","inputAttributes","inputStyles","inputClasses","Input","refetchTriggerEvent","redirectMenuItemInteractionEvent","menuSearcherClass","findWithinSandbox","sandboxComp","inputElem","findWithinMenu","saveState","inputComp","fetchPattern","selectionEnd","renderMenuSearcher","handleByBrowser","handleByHighlightedItem","eventData","interactionEvent","eventType","customSearcherEventsName","i18n","searchResultsClass","augmentWithAria","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","insertItemsPlaceholder","initItems","onItem","rawItems","enrichedItems","_item","forCollection","_hasIcons","menuHasIcons","createHorizontalPartialMenuWithAlloyItems","_columns","_menuLayout","createPartialMenuWithAlloyItems","menuLayout","menuType","forSwatch","searchMode","searchField","ariaControlsSearchResults","forCollectionWithSearchField","forCollectionWithSearchResults","forToolbar","fetch$1","onItemAction","optionalName","optionalText","optionalRole","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","separatorMenuItemSchema","autocompleterItemSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","baseContextFormFields","contextformbutton","contextformtogglebutton","contextFormFields","contextSliderFormFields","contextSizeInputFormFields","contextFormSchema","contextform","contextsliderform","contextsizeinputform","contextToolbarSchema","toolbarGroupBackToSpec","toolbarGroup","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","selectorClass","columnLength","thisTop","cTop","ceil","SimpleBehaviours","namedEvents","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onBeforeSetup","onDestroy","onControlDetached","UiStateChannel","messageSetDisabled","messageInit","modeContextMessages","broadcastEvents","uiRefs","messageType","outerContainer","mainUi","motherships","mothership","uiMotherships","m","setupEventsForUi","toggleOnReceive","contextType","shouldDisable","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersBackstage","optComponents","checkUiComponentContext","buildData","convertText","isMac","ctrl","shift","updated","renderIcon$2","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderItemDomStructure","ariaLabel","domTitle","renderItemStructure","renderIcons","providerBackstage","iconSvg","iconContent","al","common","baseDom","getDom","renderColorStructure","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","renderNormalItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","replaceText","matchText","encoded","encodeText","escapedMatchRegex","render$2","directionClass","alignClass","getValignClass","renderContainer","renderImage","shouldHighlight","cardText","highlightOn","parts$f","hexColour","round$1","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","longForm","hexString","getLongForm","splitForm","extractValues","fireResizeContent","fireTextColorChange","fireResolveName","fireContextToolbarClose","composeUnbinders","onSetupEditableToggle","onSetupEvent","onSetupStateToggle","unbindEditableToogle","unbindFormatToggle","boundFormatChangeCallback","binding","onSetupFormatToggle","handleEvent","onActionToggleFormat$1","rawItem","onActionExecCommand","cacheStorage","getCacheForId","storageId","getItem","legacyDefault","setItem","storage","storageString","localstorage","unshift","ColorCache","addColor","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","foregroundId","backgroundId","mapColorsRaw","option$1","fallbackColor","getColors$2","calcCols","sqrt","defaultCols","calculatedCols","getColorCols$1","hasCustomColors$1","getDefaultForegroundColor","getDefaultBackgroundColor","getCurrentColor","cssRgbValue","getAdditionalColors","hasCustom","applyColor","onChoice","colorPickerDialog","colorOpt","getColors$1","getCurrentColors","getFetch$1","setIconColor","splitButtonApi","newColor","setIconFill","select$1","optCurrentHex","getToolTipText","lastColor","tooltipPrefix","colorText","registerTextColorButton","addSplitButton","_splitButtonApi","registerTextColorMenuItem","storageKey","colorpicker","_api","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","optTooltipping","renderChoiceItem","deriveMenuMovement","menuMarkers","cellOverEvent","cellExecuteEvent","makeComponents","cellRow","makeLabelText","fancyMenuItems","getCellLabel","makeAnnouncementText","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","useCustomColors","colorinput","hasCustomColors","getColors","getColorItems","getColorCols","widgetSpec","separator$3","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","getExistingCoupled","getExisting","CouplingSchema","CouplingState","coupled","lookupCoupled","coupledName","Coupling","nu$3","baseFn","callbacks","nCallback","isReady","cb","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","processed","futureData","fetcher","getLazySink","tdata","listRole","openF","_onOpenSync","_highlightOnOpen","togglePopup","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","matchWidth","useMinWidth","buttonWidth","set$7","FocusEvent","sandboxFields","schema$k","parts$e","Dropdown","switchToMenu","togglePopup$1","dropdownComp","HighlightNone","refetch","triggerExecute","dropdownBehaviours","updateAriaOnHighlight","activeMenuComp","setActiveDescendant","resultsElem","controlledId","updateAriaOnDehighlight","getSearchPattern","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","downwardsCaret","renderSubmenuCaret","underlinePath","translatedTooltip","nested","createToggleMenuItem","toggle$1","createSeparatorMenuItem","createFancyMenuItem","fancy","createAutocompleteItems","createCardMenuItem","card","createAutocompleterItem","tooltipString","autocomplete","createPartialMenu","itemHasIcon","identifyMenuLayout","createTieredDataFrom","partialMenu","rangeToSimRange","Autocompleter","autocompleterId","processingAction","activeState","activeRange","autocompleter","cancelIfNecessary","isMenuOpen","hideIfNecessary","editorBody","ariaOwnsAttr","getMenu","updateDisplay","lookupData","combinedItems","choices","itemMeta","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","getCombinedItems","ld","focusMode","ContentFocus","createInlineMenuFrom","display","cloneAutocompleterToEditorDoc","newElm","clip","redirectKeyToItem","isProcessingAction","queryCommandState","AutocompleterEditorEvents","DelayedFunction","schedule","getTouch","touches","setup$d","rawSettings","stopBackspace","tapEvent","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","monitor","simpleEvents","tapStopped","pasteTimeout","onKeydown","isDangerous","focusoutTimeout","derive","rawTarget","stopped","resume","complete","doTriggerHandler","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","triggerOnUntilStopped","Registry","registerId","extraArgs","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","EventRegistry","unregister","tagId","readOrTag","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","listeners","fromExternal","listener","schema$j","parts$d","excludeFactory","exclude$1","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$3","formChangeEvent","formInputEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","getComponents","disabledClass","htmlLines","itemText","getIcon","mapItemName","encodeAllRaw","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","validateOnLoad","InvalidateSchema","Invalidating","validation","Unselecting","unselectable","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","labelPart","edgePart","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","isShift","SliderParts","getValueFromEvent","spectrum","sliderChangeEvent","getEventSource","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","useMultiplier","stepSize","speedMultiplier","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","newValue","extraValue","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","handleMovement$2","xValue","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","getSpectrum","thumbRadius","fireSliderChange$1","handleMovement$1","yValue","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","choose","wasDown","onChoose","onDragStart","sliderBehaviours","changeValue","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","uninitiatedTooltipApi","immediatelyShow","immediatelyHide","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","tooltipGetConfig","makeIcon","setTooltipEnabled","tooltipApi","invalidation","renderTextField","description","helptext","errorId","memInvalidIcon","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidInput","isHexInputEvent","onValidHex","hexField","copyRgbToHex","onValidRgb","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","makeFactory","colourPickerSketcher","rgbForm","onInvalidHex","sbPalette","spectrumPart","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","paletteFactory","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","hueDegreesToSlider","updatePaletteThumb","runUpdates","updates","hexToHsv","onFieldsUpdate","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","processors","memento","mem","rawProcessors","rawValue","postprocess","withComp","optInitialValue","withElement","english","isOldCustomEditor","browseFilesEvent","renderDropZone","memInput","accept","transferEvent","files","dataTransfer","allowedImageFileTypes","explode","filterByExtension","rate","beforeObject","afterObject","craftWithClasses","outline","craft","containerClasses","triggerTab","targetComp","isPseudoStop","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","dialogFocusShiftedChannel","isSafariOrFirefox","isElementScrollAtBottom","scrollHeight","scrollToY","writeValue","iframeElement","fallbackFn","iframe","lastScrollTop","isScrollAtBottom","getScrollingElement","scrollAfterWrite","contentWindow","writeValueThrottler","interval","newArgs","tempArgs","adaptable","internalToolbarButtonExecute","commonButtonDisplayEvent","toolbarButtonEventOrder","forceInitialSize","renderIcon$1","iconsProvider","renderIconFromPack$1","renderReplaceableIconFromPack","renderLabel$1","updateMenuText","updateMenuIcon","renderCommonDropdown","btnName","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","ariaLabelAttribute","fixWidthBehaviourName","customEventsName","memDropdown","searchable","searcherComp","focusSearchField","displayIcon","originalSandboxComp","optSearcherState","newSandboxComp","searcherState","restoreState","handleRefetchTrigger","getActiveMenuItemFrom","activeItem","retargetAndDispatchWith","handleRedirectToMenuItem","itemCompCausingCollapse","nowActiveMenuComp","isSeparator$2","separator$2","realItems","isMenuItemReference","unwrapReferences","isExpandingMenuItem","itemWithValue","generateValueIfRequired","submenuItems","getFromExpandingItem","mainMenuSearchMode","searchSettings","getSearchModeForField","mainMenu","submenuSearchMode","getSearchModeForResults","submenus","isSingleListItem","dataAttribute","fetchItems","selectedValue","hasNestedItems","findItemByValue","HtmlSelect","initialValues","selectClasses","selectAttributes","selectBehaviours","firstOption","selectedIndex","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","supported","noSizeConversion","_input","renderSizeInput$1","converter","ratioEvent","toggleOnReceive$1","translatedLabel","pLock","formGroup","inDialog","getFieldPart","isField1","widthField","heightField","controlLifecycleHandlers","_lock","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","makeRatioConverter","baseInputBehaviours","multiline","validatingBehaviours","vl","inputmode","classname","pTextField","extraClasses2","flex","maximized","getAnimationRoot","slideConfig","getDimensionProperty","disableTransitions","shrinkingClass","growingClass","setShrunk","openClass","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isTransitioning","toggleGrow","immediateGrow","onGrown","ActiveSliding","SlidingSchema","Sliding","getMenuButtonApi","setIcon","renderMenuButton","tabstopping","fetchContext","getFetch","getButton","getMenuItemAction","orig","getMenuItemSetup","renderLabel","renderCustomStateIcon","customStateIcon","renderIcon","customStateIconTooltip","leafLabelEventsId","renderLeafLabel","onLeafAction","treeId","selectedId","internalMenuButton","btn","isLeftArrowKey","code","isRightArrowKey","dirComp","dirLabelElement","extraAttributes","directoryLabelEventsId","renderDirectoryLabel","noChildren","toggleExpandChildren","directoryEle","directoryComp","willExpand","parentDirElement","parentDirLabelElement","renderDirectoryChildren","expandedIds","renderDirectory","labelTabstopping","directoryEventsId","expandedIdsCell","childrenVisible","includes","_cmp","childrenComp","treeEventsId","ActiveStreaming","streamConfig","streamState","stream","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","itemExecute","schema$g","parts$b","_tmenu","previewing","lazyTypeaheadComp","selectsOver","inputDisplay","getDisplayText","setSelectionToEnd","attemptSelectOver","selectOverTextInInput","populateFromBrowse","_menu","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","getActiveMenu","typeaheadCustomEvents","responseTime","minChars","previousValue","pv","sandboxIsOpen","typeaheadComp","_typeaheadComp","onItemExecute","dismissOnBlur","typeaheadBehaviours","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","FutureResult","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","calculateClassesFromButtonType","buttonType","renderButtonSpec","translatedText","optTooltip","renderButton$1","buttonSpec","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","isNormalFooterButtonSpec","isToggleButtonSpec","optMemIcon","memIcon","tooltipAttributes","buttonTypeClasses","showIconAndText","translatedTextComponed","iconButtonSpec","newIcon","renderToggleButton","separator$1","toMenuItem","staticMenuItem","filteredTargets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","make$2","getCompByName","factories","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","baseClass","centerClass","endClass","for","labelComp","renderLabel$2","opaqueClass","transparent","containerBorderedClass","srcdoc","sandboxed","sourcing","cachedValue","_frameComponent","frameComponent","setSrcdocValue","getDynamicSource","streamContent","renderIFrame","iframeSpec","renderDialogButton","checkbox","toggleCheckboxHandler","memIcons","renderCheckbox","colorInputBackstage","inputValue","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","renderColorInput","colourPickerFactory","translate$1","errId","memPicker","picker","valOpt","renderColorPicker","dropzone","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","renderSizeInput","renderSlider","urlinput","urlBackstage","updateHistory","urlEntry","addToHistory","typeaheadSpec","fileType","urlInputValue","getLinkInformation","history","historyTargets","getHistory","memUrlBox","_newValue","getValidationHandler","invalidComp","trimmedValue","_entry","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","focusBehaviour","onFocusFn","ta","scriptId","ea","cvalue","ed","htmlpanel","stretched","renderHtmlPanel","imagepreview","cachedData","memImage","memContainer","fakeValidatedData","zoom","cachedWidth","cachedHeight","translatedData","z","applyFramePositioning","panel","panelW","panelH","zoomToFit","imageWidth","imageHeight","calculateImagePosition","imageComponent","naturalWidth","naturalHeight","renderImagePreview","renderTd","renderTable","tree","onToggleExpand","defaultExpandedIds","selectedIdCell","defaultSelectedId","renderTree","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getInlineBottomDialogAnchor","lazyBottomAnchorBar","getBannerAnchor","getCursorAnchor","bodyElement","selectionTableCellRange","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","inlineBottomDialog","isNestedFormat","isFormatReference","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","registeredUserFormats","registerFormats","registerCustomFormats","processBasic","isSelectedFor","getPreviewFor","getStylePreview","register$b","doEnrich","newItems","getStyleItems","enrichMenu","enrichSupported","isSeparator$1","newItem","enrichCustom","TooltipsBackstage","numActiveTooltips","tooltipDelay","hasContentEditableState","isContentEditableTrue","getElementText","isValidAnchor","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","hasTitle","LinkTargets","getTargetElements","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getTextSetting","UrlInputBackstage","pickerTypes","optFileTypes","_picker","types","getPickerTypes","getPickerSetting","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","toolbarBehaviours","setGroups","setup$a","isDocked$1","getBehaviours$1","StaticHeader","getBehaviours","toolbarHeightChange","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","constrainedBounds","constrainedBoundsY","headerElem","focusedElem","ownerDoc","activeElm","restoreFocus","rootElm","findFocusedElem","boundsWithoutOffset","getDockingMode","StickyHeader","lazyHeader","containerHeader","viewHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","hideSlot","hideSlots","onSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","updateSidebarRoleOnToggle","sidebar","sidebarState","whichSidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","blockingConfig","blockingState","BlockingSchema","Blocking","focusBusyComponent","throbber","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","editorManager","tabIndexAttr","dataTabIndexAttr","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","toggleThrobber","fireAfterProgressState","within","withinWidth","apportion","parray","toUnit","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","overflows","overflower","divide","tryFit","fitLast","fitAll","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","shouldSkipFocus","toolbarSandbox","bounder","FloatingToolbarButton","skipFocus","makeSandbox","toggleWithoutFocusing","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","oveflowButton","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","renderToolbarGroup","getToolbarBehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","baseButtonFields","schemaWithoutGroupButton","togglebutton","groupFields","viewButtonSchema","viewSchema","renderViewButton","isToggleButton","optTranslatedText","optTranslatedTextComponed","ariaLabelAttributes","optIconSpec","hasIconAndText","renderButton","deviceDetection","View","hasGroups","endButtons","btnspec","renderButtonsGroup","getPane","getOnShow","_comp","viewConfig","getOnHide","makeViews","viewConfigs","internalViewConfig","pane","makeSlotContainer","getCurrentName","runOnPaneWithInstanceApi","onCallback","ViewWrapper","setViews","whichView","toggleView","showMainView","hideMainView","optCurrentSlotName","isTogglingCurrentView","hideContainer","showContainer","runOnShow","prevName","runOnHide","views","editorCont","partMenubar","partMultipleToolbar","_mToolbar","tc","partToolbar","renderer","sliding","floating","toolbarFactory","onToolbarToggled","lazyToolbar","lazyMoreButton","partHeader","sticky","partPromotion","partSocket","partSidebar","partThrobber","partViewWrapper","partEditorContainer","OuterContainer","toolbarDrawerOpenState","toggleStatusbar","statusBar","getSocket","setSidebar","showSidebar","configKey","toggleSidebar","getHeader","setToolbar","renderedGroups","setToolbars","mToolbar","renderedToolbars","refreshToolbar","toggleToolbarDrawer","toggleToolbarDrawerWithoutFocusing","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","itemName","removedMenuItem","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadRawCss","unloadRawCss","getResourceValue","resourceKey","Resource","determineCSSDecision","filenameBase","getSkinResourceIdentifier","identifier","skinIdentifierToResourceKey","resourceValue","_kind","loadUiSkins","loadShadowDomUiSkins","loadSkin","contentCSS","loadUiContentCSS","loadUrlSkin","_skinLoaded","fireSkinLoaded$1","fireSkinLoaded","fireSkinLoadError$1","fireSkinLoadError","makeTooltipText","labelWithPlaceholder","generateSelectItems","generateItem","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","textUpdateEventName","getComponent","Delimiter","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","getTooltipPlaceholder$4","fallbackAlignment","alignMenuItems","getSpec$4","_format","alignment","fireAlignTextUpdate","canApply","findNearest","getStyles","getTooltipPlaceholder$3","fallbackFormat","getSpec$3","getCssText","fireBlocksTextUpdate","getTooltipPlaceholder$2","systemFont","systemStackFonts","splitFonts","fontFamily","fonts","font","matchesStack","getSpec$2","getMatchingValue","getFirstFont","userStack","matchOpt","isSystemFontStack","fireFontFamilyTextUpdate","Keys","tab","enter","backspace","delete","space","home","pageUp","pageDown","getTooltipPlaceholder$1","fallbackFontSize","legacyFontSizes","keywordFontSizes","toPt","fontSize","precision","factor","toLegacy","getSpec$1","pt","legacy","Space","fireFontSizeTextUpdate","getTooltipPlaceholder","getSpec","getFormatItems","flattenedItems","tooltipLabel","fireStylesTextUpdate","schema$7","arrowPart","arrow","buttonPart","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","optIcon","optText","renderCommonToolbarButton","specialisation","itemApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","renderToolbarToggleButton","menubutton","splitbutton","buttonComp","renderSplitButton","grouptoolbarbutton","TopToBottom","identifyButtons","renderFloatingToolbarButton","allowToolbarGroups","bespokeButtons","fontsize","fontsizeinput","currentComp","updateInputValue","customEvents","fromInput","focusBack","alloyComp","getNewValue","lenghtDelta","oldStart","oldEnd","decrease","increase","goToParent","focusInput","makeStepperButton","editorOffCellStepButton","altExecuting","memMinus","memPlus","buttonNode","wrapperComp","createBespokeNumberInput","skip_focus","parsedText","defaultUnit","em","cm","in","rem","getConfigFromUnit","isValidValue","fireFontSizeInputTextUpdate","getNumberInputSpec","fontfamily","blocks","toolbarConfig","prefixes","toolbarGroups","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","createToolbar","toolbarItem","extractFrom","lookupButton","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","uiRoot","popupUi","dialogUi","attachUiMotherships","innerWidth","initialDocEle","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","fireToggleSidebar","fireToggleView","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","baseWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","repositionPopups$1","stickyAction","prevScroll","isOuterContainerWidthRestored","currentScroll","optScroll","targetBounds","getOffsetParent$1","widthProperties","toolbarWidth","availableWidth","baseProperties","topValue","updateChromePosition","doUpdateMode","currentMode","newMode","toolbarHeight","docHeight","calcMode","setDockingMode","verticalDir","removeClass","updateMode","getTargetPosAndBounds","Inline","toolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","lastScrollX","updateUi","newScrollX","_args","setupEvents","hideContextToolbarEvent","contextbar","focusParent","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","getFormApi","valueState","setInputEnabled","isInputEnabled","back","runOnExecute","mementos","renderContextToggleButton","renderContextButton","asSpecs","findPrimary","compInSystem","renderContextFormSizeInput","createContextFormFieldFromParts","renderContextFormSliderInput","renderContextFormTextInput","buildInitGroup","startCommands","endCommands","commandParts","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","shouldUseInsetLayouts","determineInsetLayout","selectionBounds","isSameAnchorElement","lastElement","isEntireElementSelected","currentPosition","isReposition","preservePosition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","categorise","forms","inNodeScope","inEditorScope","formNavigators","contextForm","registerForm","contextToolbar","registerToolbar","register$a","registryContextToolbars","lastTrigger","lastContextPosition","oldContents","forwardContents","onBack","renderContextToolbar","fireContextFormSlideBack","canLaunchToolbar","isContextMenuOpen","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","launchContext","launchContextToolbar","anchorLayout","getAnchorLayout","isSameLaunchElement","isDragging","rootElem","isOutsideRoot","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchStartNode","ancestorElem","findPosition","filterByPositionForAncestorNode","matchAncestor","lookup$1","registerController","getMenuItems","getOptions","oldApi","unbindWatcher","watcher","setCurrent","onToolbarSetup","onMenuSetup","register$8","normalise","lineHeightSpec","customCode","customValue","lang","languageSpec","onSetupOutdentState","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","onActionToggleFormat","_idx","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","registerButtons$1","registerMenuItems$2","onSetupUndoRedoState","onSetupVisualAidState","hasVisual","setup$6","register$9","createAlignMenu","createFontFamilyMenu","createStylesMenu","createBlocksMenu","createFontSizeMenu","register$7","registerMenuItems$1","registerButtons","applyFormat","removeFormat","fallbackColorForeground","fallbackColorBackground","lastForeColor","lastBackColor","register$d","registerToolbarButton","registerMenuItems","registerButtons$2","register$5","register$4","addContext","register$6","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","getContextMenu","contextMenus","contextMenu","isTouchEvent$1","getPointAnchor","pageX","pageY","fromPageXY","containerPos","getPos","transpose","transposeContentAreaContainer","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","initAndShow","highlightImmediately","getAnchorSpec","openiOS","originalSelection","selectionReset","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","rngRect","isTouchWithinSelection","makeContextItem","commonMenuItem","commonItem","addContextMenuGroup","groupItems","isTriggeredByKeyboard","isTouchEvent","pointerType","getSelectedElement","setup$5","setContextMenuState","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","moveOrSnap","snapInfo","newCoord","snapsInfo","leftAttr","topAttr","getCoords","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","lift3","oc","calcStartData","dragMode","dragStartData","getStartData","dlt","currentCoord","optSnaps","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","deltaX","deltaY","snapping","onSensor","calcNewCoord","dragBy","stopDrag","updateStartState","setStartData","MouseData","events$3","stop$1","init$3","schema$5","TouchData","getDataFrom","events$2","blockerSingleton","stopBlocking","init$2","mouseOrTouch","DraggingBranches","DragState","dragEvent","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","cellRect","viewportHeight","aboveViewport","belowViewport","isBelow","showOrHideHandle","snapTopLeft","snapBottomRight","domToSugar","renderElementPath","newPath","isPropagationStopped","updatePath","_btn","describedElement","describeElement","describeId","describedBy","renderElement","ResizeTypes","resizeType","originalHeight","originalWidth","Both","dim","fireResizeEditor","keyboardHandler","renderStatusbar","getTextComponents","shouldRenderHelp","shouldRenderElementPath","shouldRenderRightContainer","shortcutText","renderHelpAccessibility","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","renderRightContainer","flexStart","flexEnd","container3Columns","getTextComponentClasses","None","Vertical","getResizeType","resizeLabel","_target","renderResizeHandler","getLazyMothership","setup$3","setupForTheme","lazyUiRefs","getUiMotherships","optDialogMothership","optPopupMothership","dm","pm","lazyGetInOuterOrDie","LazyUiReferences","lazyMothership","lazyDialogMothership","lazyPopupMothership","deviceClasses","isToolbarBottom","memAnchorBar","memBottomAnchorBar","lazyAnchorBar","backstages","lazySinks","contextMenuState","HeaderBackstage","specContext","contexts","settingsFormats","eventsFormats","replaceSettings","enriched","modifications","fromSettings","fromEvents","init$6","ColorInputBackstage","dialogSettings","DialogBackstage","commonBackstage","popupBackstage","dialogBackstage","init$5","renderMainUi","verticalDirAttributes","fireToggleToolbarDrawer","hasMultipleToolbar","hasToolbar","hasMenubar","shouldHavePromotion","promotion","hasAnyContents","menubarCollection","makeHeaderPart","sidebarContainer","viewWrapper","statusbar","editorComponents","isHidden","setEditorSize","parsedHeight","baseHeight","getHeightWithFallback","parsedWidth","getWidthWithFallback","popups","getMothership","dialogs","renderUI","isGridUiContainer","sinkSpec","reactiveWidthSpec","renderDialogUi","getPopupSinkBounds","renderPopupUi","reuseDialogUiForPopuUi","toolbarGroupButtonConfig","addGroupToolbarButton","sidebars","toolbarOpt","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onElementScroll","onEditorResize","onEditorProgress","onDismissPopups","gui","setup$b","handleToggle","setup$8","renderUIWithRefs","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","titleElm","labelledElement","labelElement","labelId","labelledBy","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","toggleButtonSpecFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneFields","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","baseTreeItemFields","treeItemLeafSchema","treeItemDirectoryFields","treeItemDirectorySchema","treeItemSchema","treeFields","treeSchema","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ReflectingApis","reflectState","ReflectingSchema","Reflecting","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","Tabview","tabviewBehaviours","barPart","viewPart","TabSection","changeTabBy","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabData","onChangeTab","onDismissTab","getViewItems","tabKey","setTabviewHeight","updateTabviewHeight","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","setDataOnForm","oldTab","allTabs","tabMode","extraEvents","tabviewComp","_tab","measureHeights","maxTabHeightOpt","getMaxHeight","oldHeight","smartMode","_viewItems","oldName","tsection","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","fullscreenClass","largeDialogClass","mediumDialogClass","getDialogSizeClass","updateDialogSizeClass","dialogSizeClass","toggleFullscreen","currentSize","currentSizeClass","toggle$5","toggle$4","toggle$3","renderModalDialog","mapMenuButtons","menuItemStates","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","self","initDialog","getInstanceApi","withSpec","currentDialogInit","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getFormWrapper","footerState","getDialogApi","doRedial","withRoot","instanceApi","valueComp","mergedData","newInternalData","dialogState","validateData$1","tabSection","getId","dialogInit","storedMenuButtons","renderInlineDialog","refreshDocking","dialogLabelId","dialogContentId","dialogSize","memHeader","renderInlineHeader","memBody","renderInlineBody","modalAccess","storagedMenuButtons","objOfCells","optMemFooter","renderInlineFooter","memFooter","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","bodySpec","renderIframeBody","currentDialog","initUrlDialog","iframeUri","base_uri","iframeDomain","port","messageHandlerUnbinder","isSameOrigin","handleMessage","isCustomMessage","onMessage","iframeEle","iframeWin","postMessage","sendMessage","getUrlDialogApi","validateData","isAlertOrConfirmDialog","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","confirmDialog","memFooterYes","footerNo","footerYesButton","openModalDialog","internalInitialData","dialogSizeClasses","renderModalBody","outerForm","renderDialog","openInlineDialog","config$1","windowParams","inlineDialogComp","persistent","openBottomInlineDialog","contentAreaContainer","openModalUrlDialog","registerOptions","colorProcessor","fromString$1","anyToHex","colorColsProcessor","register$e","popupSinkBounds","renderModeUI","windowMgr","renderResult","getWindowManagerImpl","getNotificationManagerImpl"],"sourceRoot":""}